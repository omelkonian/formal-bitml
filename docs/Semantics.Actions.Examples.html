<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Semantics.Actions.Examples</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Examples of actions.</a>
<a id="98" class="Comment">------------------------------------------------------------------------</a>

<a id="172" class="Keyword">module</a> <a id="179" href="Semantics.Actions.Examples.html" class="Module">Semantics.Actions.Examples</a> <a id="206" class="Keyword">where</a>

<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Function.html" class="Module">Function</a>     <a id="238" class="Keyword">using</a> <a id="244" class="Symbol">(</a><a id="245" href="Function.html#4129" class="Function Operator">_∋_</a><a id="248" class="Symbol">)</a>
<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="Data.Nat.html" class="Module">Data.Nat</a>     <a id="275" class="Keyword">using</a> <a id="281" class="Symbol">(</a><a id="282" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="283" class="Symbol">;</a> <a id="285" href="Data.Nat.Properties.html#2208" class="Function Operator">_≟_</a><a id="288" class="Symbol">;</a> <a id="290" href="Data.Nat.Base.html#1140" class="Function Operator">_&gt;_</a><a id="293" class="Symbol">;</a> <a id="295" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a><a id="298" class="Symbol">)</a>
<a id="300" class="Keyword">open</a> <a id="305" class="Keyword">import</a> <a id="312" href="Data.Product.html" class="Module">Data.Product</a> <a id="325" class="Keyword">using</a> <a id="331" class="Symbol">(</a><a id="332" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a><a id="335" class="Symbol">)</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Data.List.html" class="Module">Data.List</a>    <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Agda.Builtin.List.html#121" class="Datatype">List</a><a id="373" class="Symbol">;</a> <a id="375" href="Data.List.Base.html#8786" class="InductiveConstructor">[]</a><a id="377" class="Symbol">;</a> <a id="379" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">_∷_</a><a id="382" class="Symbol">;</a> <a id="384" href="Data.List.Base.html#4265" class="Function Operator">[_]</a><a id="387" class="Symbol">;</a> <a id="389" href="Data.List.Base.html#1570" class="Function Operator">_++_</a><a id="393" class="Symbol">;</a> <a id="395" href="Data.List.Base.html#1304" class="Function">map</a><a id="398" class="Symbol">;</a> <a id="400" href="Data.List.Base.html#4104" class="Function">length</a><a id="406" class="Symbol">)</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Data.Fin.html" class="Module">Data.Fin</a>     <a id="433" class="Keyword">using</a> <a id="439" class="Symbol">()</a>
  <a id="444" class="Keyword">renaming</a> <a id="453" class="Symbol">(</a><a id="454" href="Data.Fin.Base.html#973" class="InductiveConstructor">zero</a> <a id="459" class="Symbol">to</a> <a id="462" href="Data.Fin.Base.html#973" class="InductiveConstructor">0ᶠ</a><a id="464" class="Symbol">;</a> <a id="466" href="Data.Fin.Base.html#1004" class="InductiveConstructor">suc</a> <a id="470" class="Symbol">to</a> <a id="473" href="Data.Fin.Base.html#1004" class="InductiveConstructor">sucᶠ</a><a id="477" class="Symbol">)</a>

<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>            <a id="530" class="Keyword">using</a> <a id="536" class="Symbol">(</a><a id="537" href="Relation.Nullary.Decidable.html#1441" class="Function">fromWitness</a><a id="548" class="Symbol">)</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="600" class="Keyword">using</a> <a id="606" class="Symbol">(</a><a id="607" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="610" class="Symbol">;</a> <a id="612" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="616" class="Symbol">)</a>

<a id="619" class="Comment">--------------------------------------------------------------------------------</a>

<a id="701" class="Keyword">open</a> <a id="706" class="Keyword">import</a> <a id="713" href="Example.Setup.html" class="Module">Example.Setup</a> <a id="727" class="Keyword">using</a> <a id="733" class="Symbol">(</a><a id="734" href="Example.Setup.html#444" class="Datatype">Participant</a><a id="745" class="Symbol">;</a> <a id="747" href="Example.Setup.html#505" class="Function Operator">_≟ₚ_</a><a id="751" class="Symbol">;</a> <a id="753" href="Example.Setup.html#615" class="Function">Honest</a><a id="759" class="Symbol">;</a> <a id="761" href="Example.Setup.html#470" class="InductiveConstructor">A</a><a id="762" class="Symbol">;</a> <a id="764" href="Example.Setup.html#488" class="InductiveConstructor">B</a><a id="765" class="Symbol">)</a>

<a id="768" class="Keyword">open</a> <a id="773" class="Keyword">import</a> <a id="780" href="Utilities.Lists.html" class="Module">Utilities.Lists</a>

<a id="797" class="Keyword">open</a> <a id="802" class="Keyword">import</a> <a id="809" href="Types.html" class="Module">Types</a>                   <a id="833" href="Example.Setup.html#444" class="Datatype">Participant</a> <a id="845" href="Example.Setup.html#505" class="Function Operator">_≟ₚ_</a> <a id="850" href="Example.Setup.html#615" class="Function">Honest</a>
<a id="857" class="Keyword">open</a> <a id="862" class="Keyword">import</a> <a id="869" href="BitML.Types.html" class="Module">BitML.Types</a>             <a id="893" href="Example.Setup.html#444" class="Datatype">Participant</a> <a id="905" href="Example.Setup.html#505" class="Function Operator">_≟ₚ_</a> <a id="910" href="Example.Setup.html#615" class="Function">Honest</a>
<a id="917" class="Keyword">open</a> <a id="922" class="Keyword">import</a> <a id="929" href="BitML.Examples.html" class="Module">BitML.Examples</a>
<a id="944" class="Keyword">open</a> <a id="949" class="Keyword">import</a> <a id="956" href="Semantics.Actions.Types.html" class="Module">Semantics.Actions.Types</a> <a id="980" href="Example.Setup.html#444" class="Datatype">Participant</a> <a id="992" href="Example.Setup.html#505" class="Function Operator">_≟ₚ_</a> <a id="997" href="Example.Setup.html#615" class="Function">Honest</a>

<a id="1005" class="Comment">--------------------------------------------------------------------------------</a>

<a id="1087" class="Comment">-- donate</a>
<a id="1097" href="Semantics.Actions.Examples.html#1097" class="Function">_</a> <a id="1099" class="Symbol">:</a> <a id="1101" href="Semantics.Actions.Types.html#1399" class="Datatype">Action</a> <a id="1108" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1110" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1113" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1116" class="Symbol">(</a><a id="1117" class="Number">0</a> <a id="1119" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1121" class="Number">10</a> <a id="1124" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1126" class="Number">20</a> <a id="1129" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1131" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="1133" class="Symbol">)</a> <a id="1135" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1137" href="Example.Setup.html#488" class="InductiveConstructor">B</a> <a id="1139" href="Types.html#2857" class="InductiveConstructor Operator">has</a> <a id="1143" class="Number">10</a> <a id="1146" href="Data.List.Base.html#4265" class="Function Operator">]</a>
<a id="1148" class="Symbol">_</a> <a id="1150" class="Symbol">=</a> <a id="1152" href="Data.Fin.Base.html#1004" class="InductiveConstructor">sucᶠ</a> <a id="1157" href="Data.Fin.Base.html#973" class="InductiveConstructor">0ᶠ</a> <a id="1160" href="Semantics.Actions.Types.html#2837" class="InductiveConstructor Operator">▷ᵈ</a> <a id="1163" href="Example.Setup.html#488" class="InductiveConstructor">B</a>

<a id="1166" class="Comment">-- divide</a>
<a id="1176" href="Semantics.Actions.Examples.html#1176" class="Function">_</a> <a id="1178" class="Symbol">:</a> <a id="1180" href="Semantics.Actions.Types.html#1399" class="Datatype">Action</a> <a id="1187" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1189" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1192" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1195" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1197" class="Number">100</a> <a id="1201" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1203" class="Symbol">(</a><a id="1204" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1206" href="Types.html#2857" class="InductiveConstructor Operator">has</a> <a id="1210" class="Number">33</a> <a id="1213" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1215" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1217" href="Types.html#2857" class="InductiveConstructor Operator">has</a> <a id="1221" class="Number">67</a> <a id="1224" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1226" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="1228" class="Symbol">)</a>
<a id="1230" class="Symbol">_</a> <a id="1232" class="Symbol">=</a> <a id="1234" href="Data.Fin.Base.html#973" class="InductiveConstructor">0ᶠ</a> <a id="1237" href="Semantics.Actions.Types.html#2558" class="InductiveConstructor Operator">▷</a> <a id="1239" class="Number">33</a> <a id="1242" href="Semantics.Actions.Types.html#2558" class="InductiveConstructor Operator">,</a> <a id="1244" class="Number">67</a>

<a id="1248" class="Comment">-- join</a>
<a id="1256" href="Semantics.Actions.Examples.html#1256" class="Function">_</a> <a id="1258" class="Symbol">:</a> <a id="1260" href="Semantics.Actions.Types.html#1399" class="Datatype">Action</a> <a id="1267" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1269" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1272" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1275" class="Symbol">(</a><a id="1276" class="Number">33</a> <a id="1279" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1281" class="Number">67</a> <a id="1284" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1286" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="1288" class="Symbol">)</a> <a id="1290" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1292" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1294" href="Types.html#2857" class="InductiveConstructor Operator">has</a> <a id="1298" class="Number">100</a> <a id="1302" href="Data.List.Base.html#4265" class="Function Operator">]</a>
<a id="1304" class="Symbol">_</a> <a id="1306" class="Symbol">=</a> <a id="1308" href="Data.Fin.Base.html#973" class="InductiveConstructor">0ᶠ</a> <a id="1311" href="Semantics.Actions.Types.html#2299" class="InductiveConstructor Operator">↔</a> <a id="1313" href="Data.Fin.Base.html#1004" class="InductiveConstructor">sucᶠ</a> <a id="1318" href="Data.Fin.Base.html#973" class="InductiveConstructor">0ᶠ</a>

<a id="1322" class="Comment">-- secret</a>
<a id="1332" href="Semantics.Actions.Examples.html#1332" class="Function">_</a> <a id="1334" class="Symbol">:</a> <a id="1336" href="Semantics.Actions.Types.html#1399" class="Datatype">Action</a> <a id="1343" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1345" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1347" class="Number">5</a> <a id="1349" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1351" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1353" class="Number">100</a> <a id="1357" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1359" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1361" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1363" class="Number">100</a> <a id="1367" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1369" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1371" class="Number">2</a> <a id="1373" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1375" class="Number">3</a> <a id="1377" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1379" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1382" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1384" href="BitML.Examples.html#2421" class="Function">ex-ad</a> <a id="1390" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1392" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1395" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1398" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
<a id="1401" class="Symbol">_</a> <a id="1403" class="Symbol">=</a> <a id="1405" href="Semantics.Actions.Types.html#1779" class="InductiveConstructor Operator">♯▷</a> <a id="1408" href="BitML.Examples.html#2421" class="Function">ex-ad</a>

<a id="1415" class="Comment">-- spend</a>
<a id="1424" href="Semantics.Actions.Examples.html#1424" class="Function">_</a> <a id="1426" class="Symbol">:</a> <a id="1428" href="Semantics.Actions.Types.html#1399" class="Datatype">Action</a> <a id="1435" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1437" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1439" class="Number">5</a> <a id="1441" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1443" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1445" class="Number">100</a> <a id="1449" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1451" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1453" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1455" class="Number">100</a> <a id="1459" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1461" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1463" class="Number">2</a> <a id="1465" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1467" class="Number">3</a> <a id="1469" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1471" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1474" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1476" href="BitML.Examples.html#2421" class="Function">ex-ad</a> <a id="1482" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1484" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1487" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1489" class="Number">3</a> <a id="1491" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1493" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
<a id="1496" class="Symbol">_</a> <a id="1498" class="Symbol">=</a> <a id="1500" href="BitML.Examples.html#2421" class="Function">ex-ad</a> <a id="1506" href="Semantics.Actions.Types.html#1929" class="InductiveConstructor Operator">▷ˢ</a> <a id="1509" href="Data.Fin.Base.html#1004" class="InductiveConstructor">sucᶠ</a> <a id="1514" href="Data.Fin.Base.html#973" class="InductiveConstructor">0ᶠ</a>

<a id="1518" class="Comment">-- take branch</a>
<a id="1533" href="Semantics.Actions.Examples.html#1533" class="Function">_</a> <a id="1535" class="Symbol">:</a> <a id="1537" href="Semantics.Actions.Types.html#1399" class="Datatype">Action</a> <a id="1544" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1546" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1549" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1551" class="Number">5</a> <a id="1553" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1555" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1557" class="Number">100</a> <a id="1561" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1563" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1565" href="BitML.Examples.html#1063" class="Function">ex-contracts₃</a> <a id="1579" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1581" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1584" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
<a id="1587" class="Symbol">_</a> <a id="1589" class="Symbol">=</a> <a id="1591" href="BitML.Examples.html#1063" class="Function">ex-contracts₃</a> <a id="1605" href="Semantics.Actions.Types.html#2169" class="InductiveConstructor Operator">▷ᵇ</a> <a id="1608" href="Data.Fin.Base.html#973" class="InductiveConstructor">0ᶠ</a>

<a id="1612" class="Comment">-- destroy</a>
<a id="1623" href="Semantics.Actions.Examples.html#1623" class="Function">_</a> <a id="1625" class="Symbol">:</a> <a id="1627" href="Semantics.Actions.Types.html#1399" class="Datatype">Action</a> <a id="1634" href="Example.Setup.html#470" class="InductiveConstructor">A</a> <a id="1636" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1639" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1642" href="Data.List.Base.html#4265" class="Function Operator">[</a> <a id="1644" class="Number">100</a> <a id="1648" href="Data.List.Base.html#4265" class="Function Operator">]</a> <a id="1650" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
<a id="1653" class="Symbol">_</a> <a id="1655" class="Symbol">=</a> <a id="1657" href="Semantics.Actions.Types.html#3032" class="InductiveConstructor">destroy</a> <a id="1665" href="Data.Fin.Base.html#973" class="InductiveConstructor">0ᶠ</a>
</pre></body></html>