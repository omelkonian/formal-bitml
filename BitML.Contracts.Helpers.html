<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Contracts.Helpers</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Utilities for contracts, preconditions and advertisments.</a>
<a id="135" class="Comment">------------------------------------------------------------------------</a>
<a id="208" class="Keyword">open</a> <a id="213" class="Keyword">import</a> <a id="220" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a>

<a id="267" class="Keyword">open</a> <a id="272" class="Keyword">import</a> <a id="279" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="292" class="Keyword">open</a> <a id="297" class="Keyword">import</a> <a id="304" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="318" class="Keyword">open</a> <a id="323" class="Keyword">import</a> <a id="330" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="344" class="Keyword">open</a> <a id="349" class="Keyword">import</a> <a id="356" href="Prelude.Collections.html" class="Module">Prelude.Collections</a>
<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Prelude.Bifunctor.html" class="Module">Prelude.Bifunctor</a>

<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="BitML.Predicate.html" class="Module">BitML.Predicate</a>

<a id="465" class="Keyword">module</a> <a id="472" href="BitML.Contracts.Helpers.html" class="Module">BitML.Contracts.Helpers</a>
  <a id="498" class="Symbol">(</a><a id="499" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a> <a id="511" class="Symbol">:</a> <a id="513" class="PrimitiveType">Set</a><a id="516" class="Symbol">)</a>
  <a id="520" class="Symbol">{{</a><a id="522" href="BitML.Contracts.Helpers.html#522" class="Bound">_</a> <a id="524" class="Symbol">:</a> <a id="526" href="Prelude.DecEq.html#553" class="Record">DecEq</a> <a id="532" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a><a id="543" class="Symbol">}}</a>
  <a id="548" class="Symbol">(</a><a id="549" href="BitML.Contracts.Helpers.html#549" class="Bound">Honest</a> <a id="556" class="Symbol">:</a> <a id="558" href="Data.List.NonEmpty.html#1318" class="Record">List⁺</a> <a id="564" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a><a id="575" class="Symbol">)</a>
  <a id="579" class="Keyword">where</a>

<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="BitML.Contracts.Types.html" class="Module">BitML.Contracts.Types</a>     <a id="624" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a> <a id="636" href="BitML.Contracts.Helpers.html#549" class="Bound">Honest</a>
  <a id="645" class="Keyword">hiding</a> <a id="652" class="Symbol">(</a>C<a id="654" class="Symbol">)</a>
<a id="656" class="Keyword">open</a> <a id="661" class="Keyword">import</a> <a id="668" href="BitML.Contracts.Induction.html" class="Module">BitML.Contracts.Induction</a> <a id="694" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a> <a id="706" href="BitML.Contracts.Helpers.html#549" class="Bound">Honest</a>

<a id="714" class="Comment">-- T0D0 use Set&#39;.nub on all results? or only on use-sites</a>

<a id="PutComponent"></a><a id="773" href="BitML.Contracts.Helpers.html#773" class="Function">PutComponent</a> <a id="786" class="Symbol">=</a> <a id="788" href="BitML.BasicTypes.html#314" class="Function">Ids</a> <a id="792" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="794" href="BitML.BasicTypes.html#278" class="Function">Secrets</a> <a id="802" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="804" href="BitML.Predicate.html#682" class="Datatype">Predicate</a>

<a id="815" class="Keyword">private</a>
  <a id="825" class="Keyword">variable</a>
    <a id="838" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="840" class="Symbol">:</a> <a id="842" class="PrimitiveType">Set</a>

<a id="names"></a><a id="847" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="853" class="Symbol">:</a> <a id="855" class="Symbol">{{</a><a id="857" href="BitML.Contracts.Helpers.html#857" class="Bound">_</a> <a id="859" class="Symbol">:</a> <a id="861" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="863" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="867" href="BitML.BasicTypes.html#333" class="Function">Name</a><a id="871" class="Symbol">}}</a> <a id="874" class="Symbol">→</a> <a id="876" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="878" class="Symbol">→</a> <a id="880" href="BitML.BasicTypes.html#363" class="Function">Names</a>
<a id="886" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="892" class="Symbol">=</a> <a id="894" href="Prelude.Collections.html#198" class="Field">collect</a>

<a id="namesˡ"></a><a id="903" href="BitML.Contracts.Helpers.html#903" class="Function">namesˡ</a> <a id="910" class="Symbol">:</a> <a id="912" class="Symbol">{{</a><a id="914" href="BitML.Contracts.Helpers.html#914" class="Bound">_</a> <a id="916" class="Symbol">:</a> <a id="918" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="920" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="924" href="BitML.BasicTypes.html#333" class="Function">Name</a><a id="928" class="Symbol">}}</a> <a id="931" class="Symbol">→</a> <a id="933" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="935" class="Symbol">→</a> <a id="937" href="BitML.BasicTypes.html#278" class="Function">Secrets</a>
<a id="945" href="BitML.Contracts.Helpers.html#903" class="Function">namesˡ</a> <a id="952" class="Symbol">=</a> <a id="954" href="Prelude.Lists.html#7892" class="Function">filter₁</a> <a id="962" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="964" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="972" class="Symbol">{</a><a id="973" class="Argument">B</a> <a id="975" class="Symbol">=</a> <a id="977" href="BitML.BasicTypes.html#333" class="Function">Name</a><a id="981" class="Symbol">}</a>

<a id="namesʳ"></a><a id="984" href="BitML.Contracts.Helpers.html#984" class="Function">namesʳ</a> <a id="991" class="Symbol">:</a> <a id="993" class="Symbol">{{</a><a id="995" href="BitML.Contracts.Helpers.html#995" class="Bound">_</a> <a id="997" class="Symbol">:</a> <a id="999" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1001" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1005" href="BitML.BasicTypes.html#333" class="Function">Name</a><a id="1009" class="Symbol">}}</a> <a id="1012" class="Symbol">→</a> <a id="1014" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1016" class="Symbol">→</a> <a id="1018" href="BitML.BasicTypes.html#314" class="Function">Ids</a>
<a id="1022" href="BitML.Contracts.Helpers.html#984" class="Function">namesʳ</a> <a id="1029" class="Symbol">=</a> <a id="1031" href="Prelude.Lists.html#7951" class="Function">filter₂</a> <a id="1039" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1041" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1049" class="Symbol">{</a><a id="1050" class="Argument">B</a> <a id="1052" class="Symbol">=</a> <a id="1054" href="BitML.BasicTypes.html#333" class="Function">Name</a><a id="1058" class="Symbol">}</a>

<a id="contracts"></a><a id="1061" href="BitML.Contracts.Helpers.html#1061" class="Function">contracts</a> <a id="1071" class="Symbol">:</a> <a id="1073" class="Symbol">{{</a><a id="1075" href="BitML.Contracts.Helpers.html#1075" class="Bound">_</a> <a id="1077" class="Symbol">:</a> <a id="1079" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1081" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1085" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a><a id="1093" class="Symbol">}}</a> <a id="1096" class="Symbol">→</a> <a id="1098" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1100" class="Symbol">→</a> <a id="1102" href="BitML.Contracts.Types.html#649" class="Function">Contracts</a>
<a id="1112" href="BitML.Contracts.Helpers.html#1061" class="Function">contracts</a> <a id="1122" class="Symbol">=</a> <a id="1124" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1132" class="Symbol">{</a><a id="1133" class="Argument">B</a> <a id="1135" class="Symbol">=</a> <a id="1137" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a><a id="1145" class="Symbol">}</a>

<a id="secrets"></a><a id="1148" href="BitML.Contracts.Helpers.html#1148" class="Function">secrets</a> <a id="1156" class="Symbol">:</a> <a id="1158" class="Symbol">{{</a><a id="1160" href="BitML.Contracts.Helpers.html#1160" class="Bound">_</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1166" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1170" href="BitML.BasicTypes.html#261" class="Function">Secret</a><a id="1176" class="Symbol">}}</a> <a id="1179" class="Symbol">→</a> <a id="1181" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1183" class="Symbol">→</a> <a id="1185" href="BitML.BasicTypes.html#278" class="Function">Secrets</a>
<a id="1193" href="BitML.Contracts.Helpers.html#1148" class="Function">secrets</a> <a id="1201" class="Symbol">=</a> <a id="1203" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1211" class="Symbol">{</a><a id="1212" class="Argument">B</a> <a id="1214" class="Symbol">=</a> <a id="1216" href="BitML.BasicTypes.html#261" class="Function">Secret</a><a id="1222" class="Symbol">}</a>

<a id="participants"></a><a id="1225" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="nub-participants"></a><a id="1238" href="BitML.Contracts.Helpers.html#1238" class="Function">nub-participants</a> <a id="1255" class="Symbol">:</a> <a id="1257" class="Symbol">{{</a><a id="1259" href="BitML.Contracts.Helpers.html#1259" class="Bound">_</a> <a id="1261" class="Symbol">:</a> <a id="1263" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1265" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1269" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a><a id="1280" class="Symbol">}}</a> <a id="1283" class="Symbol">→</a> <a id="1285" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1287" class="Symbol">→</a> <a id="1289" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1294" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a>
<a id="1306" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="1319" class="Symbol">=</a> <a id="1321" href="Prelude.Collections.html#198" class="Field">collect</a>
<a id="1329" href="BitML.Contracts.Helpers.html#1238" class="Function">nub-participants</a> <a id="1346" class="Symbol">=</a> <a id="1348" href="Prelude.DecEq.html#3260" class="Function">nub</a> <a id="1352" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1354" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a>

<a id="putComponents"></a><a id="1368" href="BitML.Contracts.Helpers.html#1368" class="Function">putComponents</a> <a id="1382" class="Symbol">:</a> <a id="1384" class="Symbol">{{</a><a id="1386" href="BitML.Contracts.Helpers.html#1386" class="Bound">_</a> <a id="1388" class="Symbol">:</a> <a id="1390" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1392" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1396" href="BitML.Contracts.Helpers.html#773" class="Function">PutComponent</a><a id="1408" class="Symbol">}}</a> <a id="1411" class="Symbol">→</a> <a id="1413" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1415" class="Symbol">→</a> <a id="1417" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1422" href="BitML.Contracts.Helpers.html#773" class="Function">PutComponent</a>
<a id="1435" href="BitML.Contracts.Helpers.html#1368" class="Function">putComponents</a> <a id="1449" class="Symbol">=</a> <a id="1451" href="Prelude.Collections.html#198" class="Field">collect</a>

<a id="deposits"></a><a id="1460" href="BitML.Contracts.Helpers.html#1460" class="Function">deposits</a> <a id="1469" class="Symbol">:</a> <a id="1471" class="Symbol">{{</a><a id="1473" href="BitML.Contracts.Helpers.html#1473" class="Bound">_</a> <a id="1475" class="Symbol">:</a> <a id="1477" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1479" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1483" href="BitML.Contracts.Types.html#2776" class="Function">DepositRef</a><a id="1493" class="Symbol">}}</a> <a id="1496" class="Symbol">→</a> <a id="1498" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a> <a id="1500" class="Symbol">→</a> <a id="1502" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1507" href="BitML.Contracts.Types.html#2776" class="Function">DepositRef</a>
<a id="1518" href="BitML.Contracts.Helpers.html#1460" class="Function">deposits</a> <a id="1527" class="Symbol">=</a> <a id="1529" href="Prelude.Collections.html#198" class="Field">collect</a>

<a id="1538" class="Keyword">instance</a>
  <a id="1549" class="Comment">-- Hᵃ : {{_ : Precondition has X}} {{_ : Contracts has X}} → Advertisement has X</a>
  <a id="1632" class="Comment">-- Hᵃ .collect (⟨ g ⟩ c) = collect g ++ collect c</a>

  <a id="Hᵖʳ"></a><a id="1685" href="BitML.Contracts.Helpers.html#1685" class="Function">Hᵖʳ</a> <a id="1689" class="Symbol">:</a> <a id="1691" class="Symbol">{{</a><a id="1693" href="BitML.Contracts.Helpers.html#1693" class="Bound">_</a> <a id="1695" class="Symbol">:</a> <a id="1697" href="BitML.Predicate.html#492" class="Datatype">Arith</a> <a id="1703" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1707" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a><a id="1708" class="Symbol">}}</a> <a id="1711" class="Symbol">→</a> <a id="1713" href="BitML.Predicate.html#682" class="Datatype">Predicate</a> <a id="1723" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1727" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a>
  <a id="1731" href="BitML.Contracts.Helpers.html#1685" class="Function">Hᵖʳ</a> <a id="1735" class="Symbol">.</a><a id="1736" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1744" href="BitML.Contracts.Helpers.html#1744" class="Bound">pr</a> <a id="1747" class="Keyword">with</a> <a id="1752" href="BitML.Contracts.Helpers.html#1744" class="Bound">pr</a>
  <a id="1757" class="Symbol">...</a> <a id="1761" class="Symbol">|</a> <a id="1763" href="BitML.Predicate.html#706" class="InductiveConstructor">`true</a>   <a id="1771" class="Symbol">=</a> <a id="1773" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="1778" class="Symbol">...</a> <a id="1782" class="Symbol">|</a> <a id="1784" href="BitML.Contracts.Helpers.html#1784" class="Bound">x</a> <a id="1786" href="BitML.Predicate.html#726" class="InductiveConstructor Operator">`∧</a> <a id="1789" href="BitML.Contracts.Helpers.html#1789" class="Bound">y</a>  <a id="1792" class="Symbol">=</a> <a id="1794" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1802" href="BitML.Contracts.Helpers.html#1784" class="Bound">x</a> <a id="1804" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="1807" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1815" href="BitML.Contracts.Helpers.html#1789" class="Bound">y</a>
  <a id="1819" class="Symbol">...</a> <a id="1823" class="Symbol">|</a> <a id="1825" href="BitML.Predicate.html#770" class="InductiveConstructor Operator">`¬</a> <a id="1828" href="BitML.Contracts.Helpers.html#1828" class="Bound">x</a>    <a id="1833" class="Symbol">=</a> <a id="1835" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1843" href="BitML.Contracts.Helpers.html#1828" class="Bound">x</a>
  <a id="1847" class="Symbol">...</a> <a id="1851" class="Symbol">|</a> <a id="1853" href="BitML.Contracts.Helpers.html#1853" class="Bound">x</a> <a id="1855" href="BitML.Predicate.html#802" class="InductiveConstructor Operator">`=</a> <a id="1858" href="BitML.Contracts.Helpers.html#1858" class="Bound">y</a>  <a id="1861" class="Symbol">=</a> <a id="1863" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1871" href="BitML.Contracts.Helpers.html#1853" class="Bound">x</a> <a id="1873" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="1876" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1884" href="BitML.Contracts.Helpers.html#1858" class="Bound">y</a>
  <a id="1888" class="Symbol">...</a> <a id="1892" class="Symbol">|</a> <a id="1894" href="BitML.Contracts.Helpers.html#1894" class="Bound">x</a> <a id="1896" href="BitML.Predicate.html#838" class="InductiveConstructor Operator">`&lt;</a> <a id="1899" href="BitML.Contracts.Helpers.html#1899" class="Bound">y</a>  <a id="1902" class="Symbol">=</a> <a id="1904" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1912" href="BitML.Contracts.Helpers.html#1894" class="Bound">x</a> <a id="1914" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="1917" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="1925" href="BitML.Contracts.Helpers.html#1899" class="Bound">y</a>

<a id="1928" class="Comment">--</a>

  <a id="1934" class="Symbol">{-#</a> <a id="1938" class="Keyword">TERMINATING</a> <a id="1950" class="Symbol">#-}</a>
  <a id="HPᶜ"></a><a id="1956" href="BitML.Contracts.Helpers.html#1956" class="Function">HPᶜ</a> <a id="1960" class="Symbol">:</a> <a id="1962" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="1971" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="1975" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a>
  <a id="1989" href="BitML.Contracts.Helpers.html#1956" class="Function">HPᶜ</a> <a id="1993" class="Symbol">.</a><a id="1994" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2002" href="BitML.Contracts.Helpers.html#2002" class="Bound">c</a> <a id="2004" class="Keyword">with</a> <a id="2009" href="BitML.Contracts.Helpers.html#2002" class="Bound">c</a>
  <a id="2013" class="Symbol">...</a> <a id="2017" class="Symbol">|</a> <a id="2019" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">put</a> <a id="2023" class="Symbol">_</a> <a id="2025" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">&amp;reveal</a> <a id="2033" class="Symbol">_</a> <a id="2035" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">if</a> <a id="2038" class="Symbol">_</a> <a id="2040" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">⇒</a> <a id="2042" href="BitML.Contracts.Helpers.html#2042" class="Bound">cs</a> <a id="2045" class="Symbol">=</a> <a id="2047" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2055" href="BitML.Contracts.Helpers.html#2042" class="Bound">cs</a>
  <a id="2060" class="Symbol">...</a> <a id="2064" class="Symbol">|</a> <a id="2066" href="BitML.Contracts.Types.html#886" class="InductiveConstructor">withdraw</a> <a id="2075" href="BitML.Contracts.Helpers.html#2075" class="Bound">p</a>                <a id="2092" class="Symbol">=</a> <a id="2094" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="2096" href="BitML.Contracts.Helpers.html#2075" class="Bound">p</a> <a id="2098" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="2102" class="Symbol">...</a> <a id="2106" class="Symbol">|</a> <a id="2108" href="BitML.Contracts.Types.html#946" class="InductiveConstructor">split</a> <a id="2114" href="BitML.Contracts.Helpers.html#2114" class="Bound">vcs</a>                 <a id="2134" class="Symbol">=</a> <a id="2136" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2144" href="BitML.Contracts.Helpers.html#2114" class="Bound">vcs</a>
  <a id="2150" class="Symbol">...</a> <a id="2154" class="Symbol">|</a> <a id="2156" href="BitML.Contracts.Helpers.html#2156" class="Bound">p</a> <a id="2158" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="2160" href="BitML.Contracts.Helpers.html#2160" class="Bound">c′</a>                    <a id="2182" class="Symbol">=</a> <a id="2184" href="BitML.Contracts.Helpers.html#2156" class="Bound">p</a> <a id="2186" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2188" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2196" href="BitML.Contracts.Helpers.html#2160" class="Bound">c′</a>
  <a id="2201" class="Symbol">...</a> <a id="2205" class="Symbol">|</a> <a id="2207" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="2213" class="Symbol">_</a> <a id="2215" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="2217" href="BitML.Contracts.Helpers.html#2217" class="Bound">c′</a>              <a id="2233" class="Symbol">=</a> <a id="2235" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2243" href="BitML.Contracts.Helpers.html#2217" class="Bound">c′</a>

  <a id="2249" class="Symbol">{-#</a> <a id="2253" class="Keyword">TERMINATING</a> <a id="2265" class="Symbol">#-}</a>
  <a id="HNᶜ"></a><a id="2271" href="BitML.Contracts.Helpers.html#2271" class="Function">HNᶜ</a> <a id="2275" class="Symbol">:</a> <a id="2277" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="2286" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="2290" href="BitML.BasicTypes.html#333" class="Function">Name</a>
  <a id="2297" href="BitML.Contracts.Helpers.html#2271" class="Function">HNᶜ</a> <a id="2301" class="Symbol">.</a><a id="2302" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2310" href="BitML.Contracts.Helpers.html#2310" class="Bound">c</a> <a id="2312" class="Keyword">with</a> <a id="2317" href="BitML.Contracts.Helpers.html#2310" class="Bound">c</a>
  <a id="2321" class="Symbol">...</a> <a id="2325" class="Symbol">|</a> <a id="2327" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">put</a> <a id="2331" href="BitML.Contracts.Helpers.html#2331" class="Bound">xs</a> <a id="2334" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">&amp;reveal</a> <a id="2342" href="BitML.Contracts.Helpers.html#2342" class="Bound">as</a> <a id="2345" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">if</a> <a id="2348" class="Symbol">_</a> <a id="2350" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">⇒</a> <a id="2352" href="BitML.Contracts.Helpers.html#2352" class="Bound">cs</a> <a id="2355" class="Symbol">=</a> <a id="2357" href="Data.List.Base.html#1497" class="Function">map</a> <a id="2361" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="2366" href="BitML.Contracts.Helpers.html#2331" class="Bound">xs</a> <a id="2369" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="2372" href="Data.List.Base.html#1497" class="Function">map</a> <a id="2376" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="2381" href="BitML.Contracts.Helpers.html#2342" class="Bound">as</a> <a id="2384" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="2387" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2395" href="BitML.Contracts.Helpers.html#2352" class="Bound">cs</a>
  <a id="2400" class="Symbol">...</a> <a id="2404" class="Symbol">|</a> <a id="2406" href="BitML.Contracts.Types.html#886" class="InductiveConstructor">withdraw</a> <a id="2415" class="Symbol">_</a>                  <a id="2434" class="Symbol">=</a> <a id="2436" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="2441" class="Symbol">...</a> <a id="2445" class="Symbol">|</a> <a id="2447" href="BitML.Contracts.Types.html#946" class="InductiveConstructor">split</a> <a id="2453" href="BitML.Contracts.Helpers.html#2453" class="Bound">vcs</a>                   <a id="2475" class="Symbol">=</a> <a id="2477" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2485" href="BitML.Contracts.Helpers.html#2453" class="Bound">vcs</a>
  <a id="2491" class="Symbol">...</a> <a id="2495" class="Symbol">|</a> <a id="2497" class="Symbol">_</a> <a id="2499" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="2501" href="BitML.Contracts.Helpers.html#2501" class="Bound">c′</a>                      <a id="2525" class="Symbol">=</a> <a id="2527" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2535" href="BitML.Contracts.Helpers.html#2501" class="Bound">c′</a>
  <a id="2540" class="Symbol">...</a> <a id="2544" class="Symbol">|</a> <a id="2546" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="2552" class="Symbol">_</a> <a id="2554" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="2556" href="BitML.Contracts.Helpers.html#2556" class="Bound">c′</a>                <a id="2574" class="Symbol">=</a> <a id="2576" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="2584" href="BitML.Contracts.Helpers.html#2556" class="Bound">c′</a>
  <a id="2589" class="Comment">-- HNᶜ .collect = ≺-rec _ go ∘ C</a>
  <a id="2624" class="Comment">--   where</a>
  <a id="2637" class="Comment">--     go : ∀ c → (∀ c′ → c′ ≺ c → Names) → Names</a>
  <a id="2689" class="Comment">--     go (C c) f with c</a>
  <a id="2716" class="Comment">--     ... | put xs &amp;reveal as if _ ⇒ cs = map inj₂ xs ++ map inj₁ as ++ f (CS cs) it</a>
  <a id="2804" class="Comment">--     ... | withdraw _                  = []</a>
  <a id="2852" class="Comment">--     ... | split vcs                   = f (VCS vcs) it</a>
  <a id="2912" class="Comment">--     ... | _ ⇒ c′                      = f (C c′) it</a>
  <a id="2969" class="Comment">--     ... | after _ ⇒ c′                = f (C c′) it</a>
  <a id="3026" class="Comment">--     go (CS cs)   f = concat $ mapWith∈ cs λ {c} → f (C c) ∘ ≺-∈</a>
  <a id="3095" class="Comment">--     go (VCS vcs) f = concat $ mapWith∈ (map proj₂ vcs) λ {cs} → f (CS cs) ∘ ≺-∈ᵛ</a>

  <a id="HSᶜ"></a><a id="3182" href="BitML.Contracts.Helpers.html#3182" class="Function">HSᶜ</a> <a id="3186" class="Symbol">:</a> <a id="3188" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="3197" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="3201" href="BitML.BasicTypes.html#261" class="Function">Secret</a>
  <a id="3210" href="BitML.Contracts.Helpers.html#3182" class="Function">HSᶜ</a> <a id="3214" class="Symbol">.</a><a id="3215" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="3223" class="Symbol">=</a> <a id="3225" href="Prelude.Lists.html#7892" class="Function">filter₁</a> <a id="3233" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="3235" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="3243" class="Symbol">{</a><a id="3244" class="Argument">B</a> <a id="3246" class="Symbol">=</a> <a id="3248" href="BitML.BasicTypes.html#333" class="Function">Name</a><a id="3252" class="Symbol">}</a>

  <a id="3257" class="Symbol">{-#</a> <a id="3261" class="Keyword">TERMINATING</a> <a id="3273" class="Symbol">#-}</a>
  <a id="HPCᶜ"></a><a id="3279" href="BitML.Contracts.Helpers.html#3279" class="Function">HPCᶜ</a> <a id="3284" class="Symbol">:</a> <a id="3286" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="3295" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="3299" href="BitML.Contracts.Helpers.html#773" class="Function">PutComponent</a>
  <a id="3314" href="BitML.Contracts.Helpers.html#3279" class="Function">HPCᶜ</a> <a id="3319" class="Symbol">.</a><a id="3320" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="3328" href="BitML.Contracts.Helpers.html#3328" class="Bound">c</a> <a id="3330" class="Keyword">with</a> <a id="3335" href="BitML.Contracts.Helpers.html#3328" class="Bound">c</a>
  <a id="3339" class="Symbol">...</a> <a id="3343" class="Symbol">|</a> <a id="3345" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">put</a> <a id="3349" href="BitML.Contracts.Helpers.html#3349" class="Bound">xs</a> <a id="3352" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">&amp;reveal</a> <a id="3360" href="BitML.Contracts.Helpers.html#3360" class="Bound">as</a> <a id="3363" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">if</a> <a id="3366" href="BitML.Contracts.Helpers.html#3366" class="Bound">p</a> <a id="3368" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">⇒</a> <a id="3370" href="BitML.Contracts.Helpers.html#3370" class="Bound">cs</a> <a id="3373" class="Symbol">=</a> <a id="3375" class="Symbol">(</a><a id="3376" href="BitML.Contracts.Helpers.html#3349" class="Bound">xs</a> <a id="3379" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3381" href="BitML.Contracts.Helpers.html#3360" class="Bound">as</a> <a id="3384" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3386" href="BitML.Contracts.Helpers.html#3366" class="Bound">p</a><a id="3387" class="Symbol">)</a> <a id="3389" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3391" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="3399" href="BitML.Contracts.Helpers.html#3370" class="Bound">cs</a>
  <a id="3404" class="Symbol">...</a> <a id="3408" class="Symbol">|</a> <a id="3410" href="BitML.Contracts.Types.html#886" class="InductiveConstructor">withdraw</a> <a id="3419" class="Symbol">_</a>                  <a id="3438" class="Symbol">=</a> <a id="3440" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="3445" class="Symbol">...</a> <a id="3449" class="Symbol">|</a> <a id="3451" href="BitML.Contracts.Types.html#946" class="InductiveConstructor">split</a> <a id="3457" href="BitML.Contracts.Helpers.html#3457" class="Bound">vcs</a>                   <a id="3479" class="Symbol">=</a> <a id="3481" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="3489" href="BitML.Contracts.Helpers.html#3457" class="Bound">vcs</a>
  <a id="3495" class="Symbol">...</a> <a id="3499" class="Symbol">|</a> <a id="3501" class="Symbol">_</a> <a id="3503" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="3505" href="BitML.Contracts.Helpers.html#3505" class="Bound">c′</a>                      <a id="3529" class="Symbol">=</a> <a id="3531" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="3539" href="BitML.Contracts.Helpers.html#3505" class="Bound">c′</a>
  <a id="3544" class="Symbol">...</a> <a id="3548" class="Symbol">|</a> <a id="3550" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="3556" class="Symbol">_</a> <a id="3558" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="3560" href="BitML.Contracts.Helpers.html#3560" class="Bound">c′</a>                <a id="3578" class="Symbol">=</a> <a id="3580" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="3588" href="BitML.Contracts.Helpers.html#3560" class="Bound">c′</a>
  <a id="3593" class="Comment">-- HPCᶜ .collect = ≺-rec _ go ∘ C</a>
  <a id="3629" class="Comment">--   where</a>
  <a id="3642" class="Comment">--     go : ∀ c → (∀ c′ → c′ ≺ c → List PutComponent) → List PutComponent</a>
  <a id="3718" class="Comment">--     go (C c) f with c</a>
  <a id="3745" class="Comment">--     ... | put xs &amp;reveal as if p ⇒ cs = (xs , as , p) ∷ f (CS cs) it</a>
  <a id="3819" class="Comment">--     ... | withdraw _                  = []</a>
  <a id="3867" class="Comment">--     ... | split vcs                   = f (VCS vcs) it</a>
  <a id="3927" class="Comment">--     ... | _ ⇒ c′                      = f (C c′) it</a>
  <a id="3984" class="Comment">--     ... | after _ ⇒ c′                = f (C c′) it</a>
  <a id="4041" class="Comment">--     go (CS cs)   f = concat $ mapWith∈ cs λ {c} → f (C c) ∘ ≺-∈</a>
  <a id="4110" class="Comment">--     go (VCS vcs) f = concat $ mapWith∈ (map proj₂ vcs) λ {cs} → f (CS cs) ∘ ≺-∈ᵛ</a>

<a id="4195" class="Comment">--</a>

  <a id="HNᵖ"></a><a id="4201" href="BitML.Contracts.Helpers.html#4201" class="Function">HNᵖ</a> <a id="4205" class="Symbol">:</a> <a id="4207" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="4220" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="4224" href="BitML.BasicTypes.html#333" class="Function">Name</a>
  <a id="4231" href="BitML.Contracts.Helpers.html#4201" class="Function">HNᵖ</a> <a id="4235" class="Symbol">.</a><a id="4236" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4244" href="BitML.Contracts.Helpers.html#4244" class="Bound">pr</a> <a id="4247" class="Keyword">with</a> <a id="4252" href="BitML.Contracts.Helpers.html#4244" class="Bound">pr</a>
  <a id="4257" class="Symbol">...</a> <a id="4261" class="Symbol">|</a> <a id="4263" class="Symbol">_</a> <a id="4265" href="BitML.Contracts.Types.html#1782" class="InductiveConstructor Operator">:?</a> <a id="4268" class="Symbol">_</a> <a id="4270" href="BitML.Contracts.Types.html#1782" class="InductiveConstructor Operator">at</a> <a id="4273" href="BitML.Contracts.Helpers.html#4273" class="Bound">x</a> <a id="4275" class="Symbol">=</a> <a id="4277" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="4279" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="4284" href="BitML.Contracts.Helpers.html#4273" class="Bound">x</a> <a id="4286" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="4290" class="Symbol">...</a> <a id="4294" class="Symbol">|</a> <a id="4296" class="Symbol">_</a> <a id="4298" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="4301" class="Symbol">_</a> <a id="4303" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="4306" href="BitML.Contracts.Helpers.html#4306" class="Bound">x</a> <a id="4308" class="Symbol">=</a> <a id="4310" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="4312" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="4317" href="BitML.Contracts.Helpers.html#4306" class="Bound">x</a> <a id="4319" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="4323" class="Symbol">...</a> <a id="4327" class="Symbol">|</a> <a id="4329" class="Symbol">_</a> <a id="4331" href="BitML.Contracts.Types.html#1966" class="InductiveConstructor Operator">:secret</a> <a id="4339" href="BitML.Contracts.Helpers.html#4339" class="Bound">a</a> <a id="4341" class="Symbol">=</a> <a id="4343" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="4345" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="4350" href="BitML.Contracts.Helpers.html#4339" class="Bound">a</a> <a id="4352" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="4356" class="Symbol">...</a> <a id="4360" class="Symbol">|</a> <a id="4362" href="BitML.Contracts.Helpers.html#4362" class="Bound">p₁</a> <a id="4365" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="4368" href="BitML.Contracts.Helpers.html#4368" class="Bound">p₂</a>    <a id="4374" class="Symbol">=</a> <a id="4376" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4384" href="BitML.Contracts.Helpers.html#4362" class="Bound">p₁</a> <a id="4387" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="4390" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4398" href="BitML.Contracts.Helpers.html#4368" class="Bound">p₂</a>

  <a id="HSᵖ"></a><a id="4404" href="BitML.Contracts.Helpers.html#4404" class="Function">HSᵖ</a> <a id="4408" class="Symbol">:</a> <a id="4410" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="4423" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="4427" href="BitML.BasicTypes.html#261" class="Function">Secret</a>
  <a id="4436" href="BitML.Contracts.Helpers.html#4404" class="Function">HSᵖ</a> <a id="4440" class="Symbol">.</a><a id="4441" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4449" class="Symbol">=</a> <a id="4451" href="Prelude.Lists.html#7892" class="Function">filter₁</a> <a id="4459" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="4461" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4469" class="Symbol">{</a><a id="4470" class="Argument">B</a> <a id="4472" class="Symbol">=</a> <a id="4474" href="BitML.BasicTypes.html#333" class="Function">Name</a><a id="4478" class="Symbol">}</a>

  <a id="HPᵖ"></a><a id="4483" href="BitML.Contracts.Helpers.html#4483" class="Function">HPᵖ</a> <a id="4487" class="Symbol">:</a> <a id="4489" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="4502" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="4506" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a>
  <a id="4520" href="BitML.Contracts.Helpers.html#4483" class="Function">HPᵖ</a> <a id="4524" class="Symbol">.</a><a id="4525" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4533" href="BitML.Contracts.Helpers.html#4533" class="Bound">pr</a> <a id="4536" class="Keyword">with</a> <a id="4541" href="BitML.Contracts.Helpers.html#4533" class="Bound">pr</a>
  <a id="4546" class="Symbol">...</a> <a id="4550" class="Symbol">|</a> <a id="4552" href="BitML.Contracts.Helpers.html#4552" class="Bound">p</a> <a id="4554" href="BitML.Contracts.Types.html#1782" class="InductiveConstructor Operator">:?</a> <a id="4557" class="Symbol">_</a> <a id="4559" href="BitML.Contracts.Types.html#1782" class="InductiveConstructor Operator">at</a> <a id="4562" class="Symbol">_</a> <a id="4564" class="Symbol">=</a> <a id="4566" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="4568" href="BitML.Contracts.Helpers.html#4552" class="Bound">p</a> <a id="4570" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="4574" class="Symbol">...</a> <a id="4578" class="Symbol">|</a> <a id="4580" href="BitML.Contracts.Helpers.html#4580" class="Bound">p</a> <a id="4582" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="4585" class="Symbol">_</a> <a id="4587" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="4590" class="Symbol">_</a> <a id="4592" class="Symbol">=</a> <a id="4594" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="4596" href="BitML.Contracts.Helpers.html#4580" class="Bound">p</a> <a id="4598" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="4602" class="Symbol">...</a> <a id="4606" class="Symbol">|</a> <a id="4608" href="BitML.Contracts.Helpers.html#4608" class="Bound">p</a> <a id="4610" href="BitML.Contracts.Types.html#1966" class="InductiveConstructor Operator">:secret</a> <a id="4618" class="Symbol">_</a> <a id="4620" class="Symbol">=</a> <a id="4622" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="4624" href="BitML.Contracts.Helpers.html#4608" class="Bound">p</a> <a id="4626" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="4630" class="Symbol">...</a> <a id="4634" class="Symbol">|</a> <a id="4636" href="BitML.Contracts.Helpers.html#4636" class="Bound">p₁</a> <a id="4639" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="4642" href="BitML.Contracts.Helpers.html#4642" class="Bound">p₂</a>    <a id="4648" class="Symbol">=</a> <a id="4650" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4658" href="BitML.Contracts.Helpers.html#4636" class="Bound">p₁</a> <a id="4661" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="4664" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4672" href="BitML.Contracts.Helpers.html#4642" class="Bound">p₂</a>

  <a id="HDᵖ"></a><a id="4678" href="BitML.Contracts.Helpers.html#4678" class="Function">HDᵖ</a> <a id="4682" class="Symbol">:</a> <a id="4684" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="4697" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="4701" href="BitML.Contracts.Types.html#2776" class="Function">DepositRef</a>
  <a id="4714" href="BitML.Contracts.Helpers.html#4678" class="Function">HDᵖ</a> <a id="4718" class="Symbol">.</a><a id="4719" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4727" href="BitML.Contracts.Helpers.html#4727" class="Bound">pr</a> <a id="4730" class="Keyword">with</a> <a id="4735" href="BitML.Contracts.Helpers.html#4727" class="Bound">pr</a>
  <a id="4740" class="Symbol">...</a> <a id="4744" class="Symbol">|</a> <a id="4746" href="BitML.Contracts.Helpers.html#4746" class="Bound">p</a> <a id="4748" href="BitML.Contracts.Types.html#1782" class="InductiveConstructor Operator">:?</a> <a id="4751" href="BitML.Contracts.Helpers.html#4751" class="Bound">v</a> <a id="4753" href="BitML.Contracts.Types.html#1782" class="InductiveConstructor Operator">at</a> <a id="4756" href="BitML.Contracts.Helpers.html#4756" class="Bound">x</a> <a id="4758" class="Symbol">=</a> <a id="4760" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="4762" href="BitML.Contracts.Helpers.html#4746" class="Bound">p</a> <a id="4764" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4766" href="BitML.Contracts.Helpers.html#4751" class="Bound">v</a> <a id="4768" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4770" href="BitML.Contracts.Helpers.html#4756" class="Bound">x</a> <a id="4772" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="4776" class="Symbol">...</a> <a id="4780" class="Symbol">|</a> <a id="4782" href="BitML.Contracts.Helpers.html#4782" class="Bound">p</a> <a id="4784" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="4787" href="BitML.Contracts.Helpers.html#4787" class="Bound">v</a> <a id="4789" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="4792" href="BitML.Contracts.Helpers.html#4792" class="Bound">x</a> <a id="4794" class="Symbol">=</a> <a id="4796" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="4798" href="BitML.Contracts.Helpers.html#4782" class="Bound">p</a> <a id="4800" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4802" href="BitML.Contracts.Helpers.html#4787" class="Bound">v</a> <a id="4804" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4806" href="BitML.Contracts.Helpers.html#4792" class="Bound">x</a> <a id="4808" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="4812" class="Symbol">...</a> <a id="4816" class="Symbol">|</a> <a id="4818" class="Symbol">_</a> <a id="4820" href="BitML.Contracts.Types.html#1966" class="InductiveConstructor Operator">:secret</a> <a id="4828" class="Symbol">_</a> <a id="4830" class="Symbol">=</a> <a id="4832" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="4837" class="Symbol">...</a> <a id="4841" class="Symbol">|</a> <a id="4843" href="BitML.Contracts.Helpers.html#4843" class="Bound">p₁</a> <a id="4846" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="4849" href="BitML.Contracts.Helpers.html#4849" class="Bound">p₂</a>    <a id="4855" class="Symbol">=</a> <a id="4857" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4865" href="BitML.Contracts.Helpers.html#4843" class="Bound">p₁</a> <a id="4868" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="4871" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4879" href="BitML.Contracts.Helpers.html#4849" class="Bound">p₂</a>

<a id="4883" class="Comment">--</a>

  <a id="HDᵃ"></a><a id="4889" href="BitML.Contracts.Helpers.html#4889" class="Function">HDᵃ</a> <a id="4893" class="Symbol">:</a> <a id="4895" href="BitML.Contracts.Types.html#2308" class="Record">Advertisement</a> <a id="4909" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="4913" href="BitML.Contracts.Types.html#2776" class="Function">DepositRef</a>
  <a id="4926" href="BitML.Contracts.Helpers.html#4889" class="Function">HDᵃ</a> <a id="4930" class="Symbol">.</a><a id="4931" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4939" class="Symbol">=</a> <a id="4941" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="4949" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="4951" href="BitML.Contracts.Types.html#2365" class="Field">G</a>

  <a id="HPᵃ"></a><a id="4956" href="BitML.Contracts.Helpers.html#4956" class="Function">HPᵃ</a> <a id="4960" class="Symbol">:</a> <a id="4962" href="BitML.Contracts.Types.html#2308" class="Record">Advertisement</a> <a id="4976" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="4980" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a>
  <a id="4994" href="BitML.Contracts.Helpers.html#4956" class="Function">HPᵃ</a> <a id="4998" class="Symbol">.</a><a id="4999" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5007" class="Symbol">(</a><a id="5008" href="BitML.Contracts.Types.html#2348" class="InductiveConstructor Operator">⟨</a> <a id="5010" href="BitML.Contracts.Helpers.html#5010" class="Bound">g</a> <a id="5012" href="BitML.Contracts.Types.html#2348" class="InductiveConstructor Operator">⟩</a> <a id="5014" href="BitML.Contracts.Helpers.html#5014" class="Bound">c</a><a id="5015" class="Symbol">)</a> <a id="5017" class="Symbol">=</a> <a id="5019" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5027" href="BitML.Contracts.Helpers.html#5010" class="Bound">g</a> <a id="5029" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="5032" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5040" href="BitML.Contracts.Helpers.html#5014" class="Bound">c</a>

  <a id="HNᵃ"></a><a id="5045" href="BitML.Contracts.Helpers.html#5045" class="Function">HNᵃ</a> <a id="5049" class="Symbol">:</a> <a id="5051" href="BitML.Contracts.Types.html#2308" class="Record">Advertisement</a> <a id="5065" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="5069" href="BitML.BasicTypes.html#333" class="Function">Name</a>
  <a id="5076" href="BitML.Contracts.Helpers.html#5045" class="Function">HNᵃ</a> <a id="5080" class="Symbol">.</a><a id="5081" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5089" class="Symbol">(</a><a id="5090" href="BitML.Contracts.Types.html#2348" class="InductiveConstructor Operator">⟨</a> <a id="5092" href="BitML.Contracts.Helpers.html#5092" class="Bound">g</a> <a id="5094" href="BitML.Contracts.Types.html#2348" class="InductiveConstructor Operator">⟩</a> <a id="5096" href="BitML.Contracts.Helpers.html#5096" class="Bound">c</a><a id="5097" class="Symbol">)</a> <a id="5099" class="Symbol">=</a> <a id="5101" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5109" href="BitML.Contracts.Helpers.html#5092" class="Bound">g</a> <a id="5111" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="5114" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5122" href="BitML.Contracts.Helpers.html#5096" class="Bound">c</a>

  <a id="HSᵃ"></a><a id="5127" href="BitML.Contracts.Helpers.html#5127" class="Function">HSᵃ</a> <a id="5131" class="Symbol">:</a> <a id="5133" href="BitML.Contracts.Types.html#2308" class="Record">Advertisement</a> <a id="5147" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="5151" href="BitML.BasicTypes.html#261" class="Function">Secret</a>
  <a id="5160" href="BitML.Contracts.Helpers.html#5127" class="Function">HSᵃ</a> <a id="5164" class="Symbol">.</a><a id="5165" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5173" class="Symbol">(</a><a id="5174" href="BitML.Contracts.Types.html#2348" class="InductiveConstructor Operator">⟨</a> <a id="5176" href="BitML.Contracts.Helpers.html#5176" class="Bound">g</a> <a id="5178" href="BitML.Contracts.Types.html#2348" class="InductiveConstructor Operator">⟩</a> <a id="5180" href="BitML.Contracts.Helpers.html#5180" class="Bound">c</a><a id="5181" class="Symbol">)</a> <a id="5183" class="Symbol">=</a> <a id="5185" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5193" href="BitML.Contracts.Helpers.html#5176" class="Bound">g</a> <a id="5195" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="5198" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5206" href="BitML.Contracts.Helpers.html#5180" class="Bound">c</a>

<a id="5209" class="Comment">--</a>

  <a id="HSᵃʳ"></a><a id="5215" href="BitML.Contracts.Helpers.html#5215" class="Function">HSᵃʳ</a> <a id="5220" class="Symbol">:</a> <a id="5222" href="BitML.Predicate.html#492" class="Datatype">Arith</a> <a id="5228" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="5232" href="BitML.BasicTypes.html#261" class="Function">Secret</a>
  <a id="5241" href="BitML.Contracts.Helpers.html#5215" class="Function">HSᵃʳ</a> <a id="5246" class="Symbol">.</a><a id="5247" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5255" href="BitML.Contracts.Helpers.html#5255" class="Bound">ar</a> <a id="5258" class="Keyword">with</a> <a id="5263" href="BitML.Contracts.Helpers.html#5255" class="Bound">ar</a>
  <a id="5268" class="Symbol">...</a> <a id="5272" class="Symbol">|</a> <a id="5274" href="BitML.Predicate.html#512" class="InductiveConstructor">`</a> <a id="5276" class="Symbol">_</a>    <a id="5281" class="Symbol">=</a> <a id="5283" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="5288" class="Symbol">...</a> <a id="5292" class="Symbol">|</a> <a id="5294" href="BitML.Predicate.html#531" class="InductiveConstructor Operator">∣</a> <a id="5296" href="BitML.Contracts.Helpers.html#5296" class="Bound">s</a> <a id="5298" href="BitML.Predicate.html#531" class="InductiveConstructor Operator">∣</a>  <a id="5301" class="Symbol">=</a> <a id="5303" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="5305" href="BitML.Contracts.Helpers.html#5296" class="Bound">s</a> <a id="5307" href="Data.List.Base.html#4458" class="Function Operator">]</a>
  <a id="5311" class="Symbol">...</a> <a id="5315" class="Symbol">|</a> <a id="5317" href="BitML.Contracts.Helpers.html#5317" class="Bound">x</a> <a id="5319" href="BitML.Predicate.html#555" class="InductiveConstructor Operator">`+</a> <a id="5322" href="BitML.Contracts.Helpers.html#5322" class="Bound">y</a> <a id="5324" class="Symbol">=</a> <a id="5326" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5334" href="BitML.Contracts.Helpers.html#5317" class="Bound">x</a> <a id="5336" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="5339" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5347" href="BitML.Contracts.Helpers.html#5322" class="Bound">y</a>
  <a id="5351" class="Symbol">...</a> <a id="5355" class="Symbol">|</a> <a id="5357" href="BitML.Contracts.Helpers.html#5357" class="Bound">x</a> <a id="5359" href="BitML.Predicate.html#586" class="InductiveConstructor Operator">`-</a> <a id="5362" href="BitML.Contracts.Helpers.html#5362" class="Bound">y</a> <a id="5364" class="Symbol">=</a> <a id="5366" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5374" href="BitML.Contracts.Helpers.html#5357" class="Bound">x</a> <a id="5376" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="5379" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="5387" href="BitML.Contracts.Helpers.html#5362" class="Bound">y</a>

<a id="5390" class="Keyword">private</a>
  <a id="5400" class="Comment">-- ** check that we get all accessors we want</a>
  <a id="∀C"></a><a id="5448" href="BitML.Contracts.Helpers.html#5448" class="Function">∀C</a> <a id="5451" class="Symbol">:</a> <a id="5453" class="PrimitiveType">Set</a> <a id="5457" class="Symbol">→</a> <a id="5459" class="PrimitiveType">Set</a>
  <a id="5465" href="BitML.Contracts.Helpers.html#5448" class="Function">∀C</a> <a id="5468" href="BitML.Contracts.Helpers.html#5468" class="Bound">A</a> <a id="5470" class="Symbol">=</a> <a id="5472" class="Symbol">(</a><a id="5473" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="5482" class="Symbol">→</a> <a id="5484" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5489" href="BitML.Contracts.Helpers.html#5468" class="Bound">A</a><a id="5490" class="Symbol">)</a> <a id="5492" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5494" class="Symbol">(</a><a id="5495" href="BitML.Contracts.Types.html#649" class="Function">Contracts</a> <a id="5505" class="Symbol">→</a> <a id="5507" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5512" href="BitML.Contracts.Helpers.html#5468" class="Bound">A</a><a id="5513" class="Symbol">)</a> <a id="5515" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5517" class="Symbol">(</a><a id="5518" href="BitML.Contracts.Types.html#675" class="Function">VContracts</a> <a id="5529" class="Symbol">→</a> <a id="5531" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5536" href="BitML.Contracts.Helpers.html#5468" class="Bound">A</a><a id="5537" class="Symbol">)</a>

  <a id="∀P"></a><a id="5542" href="BitML.Contracts.Helpers.html#5542" class="Function">∀P</a> <a id="5545" class="Symbol">:</a> <a id="5547" class="PrimitiveType">Set</a> <a id="5551" class="Symbol">→</a> <a id="5553" class="PrimitiveType">Set</a>
  <a id="5559" href="BitML.Contracts.Helpers.html#5542" class="Function">∀P</a> <a id="5562" href="BitML.Contracts.Helpers.html#5562" class="Bound">A</a> <a id="5564" class="Symbol">=</a> <a id="5566" class="Symbol">(</a><a id="5567" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="5580" class="Symbol">→</a> <a id="5582" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5587" href="BitML.Contracts.Helpers.html#5562" class="Bound">A</a><a id="5588" class="Symbol">)</a> <a id="5590" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5592" class="Symbol">(</a><a id="5593" href="BitML.Contracts.Types.html#2308" class="Record">Advertisement</a> <a id="5607" class="Symbol">→</a> <a id="5609" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5614" href="BitML.Contracts.Helpers.html#5562" class="Bound">A</a><a id="5615" class="Symbol">)</a>

  <a id="∀∀"></a><a id="5620" href="BitML.Contracts.Helpers.html#5620" class="Function">∀∀</a> <a id="5623" class="Symbol">:</a> <a id="5625" class="PrimitiveType">Set</a> <a id="5629" class="Symbol">→</a> <a id="5631" class="PrimitiveType">Set</a>
  <a id="5637" href="BitML.Contracts.Helpers.html#5620" class="Function">∀∀</a> <a id="5640" href="BitML.Contracts.Helpers.html#5640" class="Bound">A</a> <a id="5642" class="Symbol">=</a> <a id="5644" href="BitML.Contracts.Helpers.html#5448" class="Function">∀C</a> <a id="5647" href="BitML.Contracts.Helpers.html#5640" class="Bound">A</a> <a id="5649" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5651" href="BitML.Contracts.Helpers.html#5542" class="Function">∀P</a> <a id="5654" href="BitML.Contracts.Helpers.html#5640" class="Bound">A</a>

  <a id="5659" href="BitML.Contracts.Helpers.html#5659" class="Function">_</a> <a id="5661" class="Symbol">:</a> <a id="5663" href="BitML.Contracts.Helpers.html#5620" class="Function">∀∀</a> <a id="5666" href="BitML.BasicTypes.html#333" class="Function">Name</a>
  <a id="5673" class="Symbol">_</a> <a id="5675" class="Symbol">=</a> <a id="5677" class="Symbol">(</a><a id="5678" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="5684" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5686" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="5692" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5694" href="BitML.Contracts.Helpers.html#847" class="Function">names</a><a id="5699" class="Symbol">)</a> <a id="5701" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5703" class="Symbol">(</a><a id="5704" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="5710" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5712" href="BitML.Contracts.Helpers.html#847" class="Function">names</a><a id="5717" class="Symbol">)</a>

  <a id="5722" href="BitML.Contracts.Helpers.html#5722" class="Function">_</a> <a id="5724" class="Symbol">:</a> <a id="5726" href="BitML.Contracts.Helpers.html#5620" class="Function">∀∀</a> <a id="5729" href="BitML.BasicTypes.html#261" class="Function">Secret</a>
  <a id="5738" class="Symbol">_</a> <a id="5740" class="Symbol">=</a> <a id="5742" class="Symbol">(</a><a id="5743" href="BitML.Contracts.Helpers.html#1148" class="Function">secrets</a> <a id="5751" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5753" href="BitML.Contracts.Helpers.html#1148" class="Function">secrets</a> <a id="5761" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5763" href="BitML.Contracts.Helpers.html#1148" class="Function">secrets</a><a id="5770" class="Symbol">)</a> <a id="5772" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5774" class="Symbol">(</a><a id="5775" href="BitML.Contracts.Helpers.html#1148" class="Function">secrets</a> <a id="5783" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5785" href="BitML.Contracts.Helpers.html#1148" class="Function">secrets</a><a id="5792" class="Symbol">)</a>

  <a id="5797" href="BitML.Contracts.Helpers.html#5797" class="Function">_</a> <a id="5799" class="Symbol">:</a> <a id="5801" href="BitML.Contracts.Helpers.html#5620" class="Function">∀∀</a> <a id="5804" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a>
  <a id="5818" class="Symbol">_</a> <a id="5820" class="Symbol">=</a> <a id="5822" class="Symbol">(</a><a id="5823" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="5836" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5838" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="5851" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5853" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a><a id="5865" class="Symbol">)</a> <a id="5867" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5869" class="Symbol">(</a><a id="5870" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="5883" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5885" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a><a id="5897" class="Symbol">)</a>

  <a id="5902" href="BitML.Contracts.Helpers.html#5902" class="Function">_</a> <a id="5904" class="Symbol">:</a> <a id="5906" href="BitML.Contracts.Helpers.html#5448" class="Function">∀C</a> <a id="5909" href="BitML.Contracts.Helpers.html#773" class="Function">PutComponent</a>
  <a id="5924" class="Symbol">_</a> <a id="5926" class="Symbol">=</a> <a id="5928" href="BitML.Contracts.Helpers.html#1368" class="Function">putComponents</a> <a id="5942" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5944" href="BitML.Contracts.Helpers.html#1368" class="Function">putComponents</a> <a id="5958" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5960" href="BitML.Contracts.Helpers.html#1368" class="Function">putComponents</a>

  <a id="5977" href="BitML.Contracts.Helpers.html#5977" class="Function">_</a> <a id="5979" class="Symbol">:</a> <a id="5981" href="BitML.Contracts.Helpers.html#5542" class="Function">∀P</a> <a id="5984" href="BitML.Contracts.Types.html#2776" class="Function">DepositRef</a>
  <a id="5997" class="Symbol">_</a> <a id="5999" class="Symbol">=</a> <a id="6001" href="BitML.Contracts.Helpers.html#1460" class="Function">deposits</a> <a id="6010" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6012" href="BitML.Contracts.Helpers.html#1460" class="Function">deposits</a>

<a id="secretsOfᵖ"></a><a id="6022" href="BitML.Contracts.Helpers.html#6022" class="Function">secretsOfᵖ</a> <a id="6033" class="Symbol">:</a> <a id="6035" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a> <a id="6047" class="Symbol">→</a> <a id="6049" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="6062" class="Symbol">→</a> <a id="6064" href="BitML.BasicTypes.html#278" class="Function">Secrets</a>
<a id="6072" href="BitML.Contracts.Helpers.html#6022" class="Function">secretsOfᵖ</a> <a id="6083" href="BitML.Contracts.Helpers.html#6083" class="Bound">A</a> <a id="6085" class="Symbol">=</a> <a id="6087" href="BitML.Contracts.Helpers.html#6102" class="Function">go</a>
  <a id="6092" class="Keyword">where</a>
    <a id="6102" href="BitML.Contracts.Helpers.html#6102" class="Function">go</a> <a id="6105" class="Symbol">:</a> <a id="6107" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="6120" class="Symbol">→</a> <a id="6122" href="BitML.BasicTypes.html#278" class="Function">Secrets</a>
    <a id="6134" href="BitML.Contracts.Helpers.html#6102" class="Function">go</a> <a id="6137" class="Symbol">(</a><a id="6138" href="BitML.Contracts.Helpers.html#6138" class="Bound">B</a> <a id="6140" href="BitML.Contracts.Types.html#1966" class="InductiveConstructor Operator">:secret</a> <a id="6148" href="BitML.Contracts.Helpers.html#6148" class="Bound">s</a><a id="6149" class="Symbol">)</a> <a id="6151" class="Keyword">with</a> <a id="6156" href="BitML.Contracts.Helpers.html#6083" class="Bound">A</a> <a id="6158" href="Prelude.DecEq.html#593" class="Field Operator">≟</a> <a id="6160" href="BitML.Contracts.Helpers.html#6138" class="Bound">B</a>
    <a id="6166" class="Symbol">...</a> <a id="6170" class="Symbol">|</a> <a id="6172" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="6176" class="Symbol">_</a> <a id="6178" class="Symbol">=</a> <a id="6180" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="6182" class="Bound">s</a> <a id="6184" href="Data.List.Base.html#4458" class="Function Operator">]</a>
    <a id="6190" class="Symbol">...</a> <a id="6194" class="Symbol">|</a> <a id="6196" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a>  <a id="6200" class="Symbol">_</a> <a id="6202" class="Symbol">=</a> <a id="6204" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="6211" href="BitML.Contracts.Helpers.html#6102" class="Function">go</a> <a id="6214" class="Symbol">(</a><a id="6215" href="BitML.Contracts.Helpers.html#6215" class="Bound">l</a> <a id="6217" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="6220" href="BitML.Contracts.Helpers.html#6220" class="Bound">r</a> <a id="6222" class="Symbol">)</a>     <a id="6228" class="Symbol">=</a> <a id="6230" href="BitML.Contracts.Helpers.html#6102" class="Function">go</a> <a id="6233" href="BitML.Contracts.Helpers.html#6215" class="Bound">l</a> <a id="6235" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="6238" href="BitML.Contracts.Helpers.html#6102" class="Function">go</a> <a id="6241" href="BitML.Contracts.Helpers.html#6220" class="Bound">r</a>
    <a id="6247" href="BitML.Contracts.Helpers.html#6102" class="CatchallClause Function">go</a><a id="6249" class="CatchallClause"> </a><a id="6250" class="CatchallClause Symbol">_</a>             <a id="6264" class="Symbol">=</a> <a id="6266" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="6270" class="Comment">-- Deposits</a>

<a id="persistentDeposits"></a><a id="6283" href="BitML.Contracts.Helpers.html#6283" class="Function">persistentDeposits</a> <a id="6302" class="Symbol">:</a> <a id="6304" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="6317" class="Symbol">→</a> <a id="6319" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6324" href="BitML.Contracts.Types.html#2776" class="Function">DepositRef</a>
<a id="6335" href="BitML.Contracts.Helpers.html#6283" class="Function">persistentDeposits</a> <a id="6354" class="Symbol">(</a><a id="6355" href="BitML.Contracts.Helpers.html#6355" class="Bound">a</a> <a id="6357" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="6360" href="BitML.Contracts.Helpers.html#6360" class="Bound">v</a> <a id="6362" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="6365" href="BitML.Contracts.Helpers.html#6365" class="Bound">x</a><a id="6366" class="Symbol">)</a> <a id="6368" class="Symbol">=</a> <a id="6370" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="6372" href="BitML.Contracts.Helpers.html#6355" class="Bound">a</a> <a id="6374" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6376" href="BitML.Contracts.Helpers.html#6360" class="Bound">v</a> <a id="6378" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6380" href="BitML.Contracts.Helpers.html#6365" class="Bound">x</a> <a id="6382" href="Data.List.Base.html#4458" class="Function Operator">]</a>
<a id="6384" href="BitML.Contracts.Helpers.html#6283" class="Function">persistentDeposits</a> <a id="6403" class="Symbol">(</a><a id="6404" href="BitML.Contracts.Helpers.html#6404" class="Bound">p₁</a> <a id="6407" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="6410" href="BitML.Contracts.Helpers.html#6410" class="Bound">p₂</a><a id="6412" class="Symbol">)</a>    <a id="6417" class="Symbol">=</a> <a id="6419" href="BitML.Contracts.Helpers.html#6283" class="Function">persistentDeposits</a> <a id="6438" href="BitML.Contracts.Helpers.html#6404" class="Bound">p₁</a> <a id="6441" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="6444" href="BitML.Contracts.Helpers.html#6283" class="Function">persistentDeposits</a> <a id="6463" href="BitML.Contracts.Helpers.html#6410" class="Bound">p₂</a>
<a id="6466" href="BitML.Contracts.Helpers.html#6283" class="CatchallClause Function">persistentDeposits</a><a id="6484" class="CatchallClause"> </a><a id="6485" class="CatchallClause Symbol">_</a>             <a id="6499" class="Symbol">=</a> <a id="6501" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="persistentParticipants"></a><a id="6505" href="BitML.Contracts.Helpers.html#6505" class="Function">persistentParticipants</a> <a id="6528" class="Symbol">:</a> <a id="6530" href="BitML.Contracts.Types.html#1732" class="Datatype">Precondition</a> <a id="6543" class="Symbol">→</a> <a id="6545" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6550" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a>
<a id="6562" href="BitML.Contracts.Helpers.html#6505" class="Function">persistentParticipants</a> <a id="6585" class="Symbol">(</a><a id="6586" href="BitML.Contracts.Helpers.html#6586" class="Bound">A</a> <a id="6588" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="6591" class="Symbol">_</a> <a id="6593" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="6596" class="Symbol">_)</a> <a id="6599" class="Symbol">=</a> <a id="6601" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="6603" href="BitML.Contracts.Helpers.html#6586" class="Bound">A</a> <a id="6605" href="Data.List.Base.html#4458" class="Function Operator">]</a>
<a id="6607" href="BitML.Contracts.Helpers.html#6505" class="Function">persistentParticipants</a> <a id="6630" class="Symbol">(</a><a id="6631" href="BitML.Contracts.Helpers.html#6631" class="Bound">l</a> <a id="6633" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="6636" href="BitML.Contracts.Helpers.html#6636" class="Bound">r</a><a id="6637" class="Symbol">)</a>      <a id="6644" class="Symbol">=</a> <a id="6646" href="BitML.Contracts.Helpers.html#6505" class="Function">persistentParticipants</a> <a id="6669" href="BitML.Contracts.Helpers.html#6631" class="Bound">l</a> <a id="6671" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="6674" href="BitML.Contracts.Helpers.html#6505" class="Function">persistentParticipants</a> <a id="6697" href="BitML.Contracts.Helpers.html#6636" class="Bound">r</a>
<a id="6699" href="BitML.Contracts.Helpers.html#6505" class="CatchallClause Function">persistentParticipants</a><a id="6721" class="CatchallClause"> </a><a id="6722" class="CatchallClause Symbol">_</a>             <a id="6736" class="Symbol">=</a> <a id="6738" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="persistent⊆"></a><a id="6742" href="BitML.Contracts.Helpers.html#6742" class="Function">persistent⊆</a> <a id="6754" class="Symbol">:</a> <a id="6756" href="BitML.Contracts.Helpers.html#6505" class="Function">persistentParticipants</a> <a id="6779" href="BitML.Contracts.Types.html#2187" class="Generalizable">g</a> <a id="6781" href="Data.List.Relation.Binary.Subset.Setoid.html#692" class="Function Operator">⊆</a> <a id="6783" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="6796" href="BitML.Contracts.Types.html#2187" class="Generalizable">g</a>
<a id="6798" href="BitML.Contracts.Helpers.html#6742" class="Function">persistent⊆</a> <a id="6810" class="Symbol">{</a><a id="6811" class="Argument">g</a> <a id="6813" class="Symbol">=</a> <a id="6815" href="BitML.Contracts.Helpers.html#6815" class="Bound">A</a> <a id="6817" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="6820" class="Symbol">_</a> <a id="6822" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="6825" class="Symbol">_}</a> <a id="6828" href="BitML.Contracts.Helpers.html#6828" class="Bound">p∈</a> <a id="6831" class="Symbol">=</a> <a id="6833" href="BitML.Contracts.Helpers.html#6828" class="Bound">p∈</a>
<a id="6836" href="BitML.Contracts.Helpers.html#6742" class="Function">persistent⊆</a> <a id="6848" class="Symbol">{</a><a id="6849" class="Argument">g</a> <a id="6851" class="Symbol">=</a> <a id="6853" href="BitML.Contracts.Helpers.html#6853" class="Bound">l</a> <a id="6855" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="6858" href="BitML.Contracts.Helpers.html#6858" class="Bound">r</a><a id="6859" class="Symbol">}</a>      <a id="6866" href="BitML.Contracts.Helpers.html#6866" class="Bound">p∈</a>
  <a id="6871" class="Keyword">with</a> <a id="6876" href="Data.List.Membership.Propositional.Properties.html#4081" class="Function">∈-++⁻</a> <a id="6882" class="Symbol">(</a><a id="6883" href="BitML.Contracts.Helpers.html#6505" class="Function">persistentParticipants</a> <a id="6906" href="BitML.Contracts.Helpers.html#6853" class="Bound">l</a><a id="6907" class="Symbol">)</a> <a id="6909" href="BitML.Contracts.Helpers.html#6866" class="Bound">p∈</a>
<a id="6912" class="Symbol">...</a> <a id="6916" class="Symbol">|</a> <a id="6918" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="6923" href="BitML.Contracts.Helpers.html#6923" class="Bound">p∈ˡ</a> <a id="6927" class="Symbol">=</a> <a id="6929" href="Data.List.Membership.Propositional.Properties.html#3903" class="Function">∈-++⁺ˡ</a> <a id="6936" class="Symbol">(</a><a id="6937" href="BitML.Contracts.Helpers.html#6742" class="Function">persistent⊆</a> <a id="6949" class="Symbol">{</a><a id="6950" class="Argument">g</a> <a id="6952" class="Symbol">=</a> <a id="6954" class="Bound">l</a><a id="6955" class="Symbol">}</a> <a id="6957" href="BitML.Contracts.Helpers.html#6923" class="Bound">p∈ˡ</a><a id="6960" class="Symbol">)</a>
<a id="6962" class="Symbol">...</a> <a id="6966" class="Symbol">|</a> <a id="6968" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="6973" href="BitML.Contracts.Helpers.html#6973" class="Bound">p∈ʳ</a> <a id="6977" class="Symbol">=</a> <a id="6979" href="Data.List.Membership.Propositional.Properties.html#3992" class="Function">∈-++⁺ʳ</a> <a id="6986" class="Symbol">(</a><a id="6987" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="7000" class="Bound">l</a><a id="7001" class="Symbol">)</a> <a id="7003" class="Symbol">(</a><a id="7004" href="BitML.Contracts.Helpers.html#6742" class="Function">persistent⊆</a> <a id="7016" class="Symbol">{</a><a id="7017" class="Argument">g</a> <a id="7019" class="Symbol">=</a> <a id="7021" class="Bound">r</a><a id="7022" class="Symbol">}</a> <a id="7024" href="BitML.Contracts.Helpers.html#6973" class="Bound">p∈ʳ</a><a id="7027" class="Symbol">)</a>

<a id="getDeposit"></a><a id="7030" href="BitML.Contracts.Helpers.html#7030" class="Function">getDeposit</a> <a id="7041" class="Symbol">:</a> <a id="7043" href="BitML.Contracts.Helpers.html#984" class="Function">namesʳ</a> <a id="7050" href="BitML.Contracts.Types.html#2187" class="Generalizable">g</a> <a id="7052" href="Prelude.Lists.html#10250" class="Function Operator">↦</a> <a id="7054" class="Symbol">(</a><a id="7055" href="Data.Product.html#916" class="Function">Σ[</a> <a id="7058" href="BitML.Contracts.Helpers.html#7058" class="Bound">d</a> <a id="7060" href="Data.Product.html#916" class="Function">∈</a> <a id="7062" href="BitML.Contracts.Types.html#2776" class="Function">DepositRef</a> <a id="7073" href="Data.Product.html#916" class="Function">]</a> <a id="7075" class="Symbol">(</a><a id="7076" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="7082" href="BitML.Contracts.Helpers.html#7058" class="Bound">d</a> <a id="7084" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="7086" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="7099" href="BitML.Contracts.Types.html#2187" class="Generalizable">g</a><a id="7100" class="Symbol">))</a>
<a id="7103" href="BitML.Contracts.Helpers.html#7030" class="Function">getDeposit</a> <a id="7114" class="Symbol">{</a><a id="7115" class="Argument">g</a> <a id="7117" class="Symbol">=</a> <a id="7119" href="BitML.Contracts.Helpers.html#7119" class="Bound">A</a> <a id="7121" href="BitML.Contracts.Types.html#1782" class="InductiveConstructor Operator">:?</a> <a id="7124" href="BitML.Contracts.Helpers.html#7124" class="Bound">v</a> <a id="7126" href="BitML.Contracts.Types.html#1782" class="InductiveConstructor Operator">at</a> <a id="7129" href="BitML.Contracts.Helpers.html#7129" class="Bound">x</a><a id="7130" class="Symbol">}</a> <a id="7132" class="Symbol">(</a><a id="7133" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="7138" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="7142" class="Symbol">)</a> <a id="7144" class="Symbol">=</a> <a id="7146" class="Symbol">(</a><a id="7147" href="BitML.Contracts.Helpers.html#7119" class="Bound">A</a> <a id="7149" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7151" href="BitML.Contracts.Helpers.html#7124" class="Bound">v</a> <a id="7153" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7155" href="BitML.Contracts.Helpers.html#7129" class="Bound">x</a><a id="7156" class="Symbol">)</a> <a id="7158" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7160" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="7165" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="7170" href="BitML.Contracts.Helpers.html#7030" class="Function">getDeposit</a> <a id="7181" class="Symbol">{</a><a id="7182" class="Argument">g</a> <a id="7184" class="Symbol">=</a> <a id="7186" href="BitML.Contracts.Helpers.html#7186" class="Bound">A</a> <a id="7188" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="7191" href="BitML.Contracts.Helpers.html#7191" class="Bound">v</a> <a id="7193" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="7196" href="BitML.Contracts.Helpers.html#7196" class="Bound">x</a><a id="7197" class="Symbol">}</a> <a id="7199" class="Symbol">(</a><a id="7200" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="7205" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="7209" class="Symbol">)</a> <a id="7211" class="Symbol">=</a> <a id="7213" class="Symbol">(</a><a id="7214" href="BitML.Contracts.Helpers.html#7186" class="Bound">A</a> <a id="7216" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7218" href="BitML.Contracts.Helpers.html#7191" class="Bound">v</a> <a id="7220" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7222" href="BitML.Contracts.Helpers.html#7196" class="Bound">x</a><a id="7223" class="Symbol">)</a> <a id="7225" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7227" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="7232" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="7237" href="BitML.Contracts.Helpers.html#7030" class="Function">getDeposit</a> <a id="7248" class="Symbol">{</a><a id="7249" class="Argument">g</a> <a id="7251" class="Symbol">=</a> <a id="7253" class="Symbol">_</a> <a id="7255" href="BitML.Contracts.Types.html#1966" class="InductiveConstructor Operator">:secret</a> <a id="7263" class="Symbol">_}</a> <a id="7266" class="Symbol">()</a>
<a id="7269" href="BitML.Contracts.Helpers.html#7030" class="Function">getDeposit</a> <a id="7280" class="Symbol">{</a><a id="7281" class="Argument">g</a> <a id="7283" class="Symbol">=</a> <a id="7285" href="BitML.Contracts.Helpers.html#7285" class="Bound">l</a> <a id="7287" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="7290" href="BitML.Contracts.Helpers.html#7290" class="Bound">r</a><a id="7291" class="Symbol">}</a>      <a id="7298" href="BitML.Contracts.Helpers.html#7298" class="Bound">x∈</a>
  <a id="7303" class="Keyword">with</a> <a id="7308" class="Symbol">_</a> <a id="7310" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7312" href="BitML.Contracts.Helpers.html#7312" class="Bound">y∈</a> <a id="7315" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7317" href="BitML.Contracts.Helpers.html#7317" class="Bound">y≡</a> ← <a id="7322" href="Prelude.Lists.html#16652" class="Function">∈-mapMaybe⁻</a> <a id="7334" href="Data.Sum.html#817" class="Function">isInj₂</a> <a id="7341" class="Symbol">{</a><a id="7342" class="Argument">xs</a> <a id="7345" class="Symbol">=</a> <a id="7347" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="7353" href="BitML.Contracts.Helpers.html#7285" class="Bound">l</a> <a id="7355" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="7358" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="7364" href="BitML.Contracts.Helpers.html#7290" class="Bound">r</a><a id="7365" class="Symbol">}</a> <a id="7367" href="BitML.Contracts.Helpers.html#7298" class="Bound">x∈</a>
  <a id="7372" class="Keyword">with</a> <a id="7377" href="Data.List.Membership.Propositional.Properties.html#4081" class="Function">∈-++⁻</a> <a id="7383" class="Symbol">(</a><a id="7384" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="7390" href="BitML.Contracts.Helpers.html#7285" class="Bound">l</a><a id="7391" class="Symbol">)</a> <a id="7393" href="BitML.Contracts.Helpers.html#7312" class="Bound">y∈</a>
<a id="7396" class="Symbol">...</a> <a id="7400" class="Symbol">|</a> <a id="7402" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="7407" href="BitML.Contracts.Helpers.html#7407" class="Bound">x∈ˡ</a> <a id="7411" class="Symbol">=</a> <a id="7413" href="Prelude.Bifunctor.html#500" class="Function">map₂′</a> <a id="7419" href="Data.List.Membership.Propositional.Properties.html#3903" class="Function">∈-++⁺ˡ</a> <a id="7426" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="7428" href="BitML.Contracts.Helpers.html#7030" class="Function">getDeposit</a> <a id="7439" class="Symbol">{</a><a id="7440" class="Argument">g</a> <a id="7442" class="Symbol">=</a> <a id="7444" class="Bound">l</a><a id="7445" class="Symbol">}</a> <a id="7447" class="Symbol">(</a><a id="7448" href="Prelude.Lists.html#16997" class="Function">∈-mapMaybe⁺</a> <a id="7460" href="Data.Sum.html#817" class="Function">isInj₂</a> <a id="7467" href="BitML.Contracts.Helpers.html#7407" class="Bound">x∈ˡ</a> <a id="7471" href="BitML.Contracts.Helpers.html#7317" class="Bound">y≡</a><a id="7473" class="Symbol">)</a>
<a id="7475" class="Symbol">...</a> <a id="7479" class="Symbol">|</a> <a id="7481" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="7486" href="BitML.Contracts.Helpers.html#7486" class="Bound">x∈ʳ</a> <a id="7490" class="Symbol">=</a> <a id="7492" href="Prelude.Bifunctor.html#500" class="Function">map₂′</a> <a id="7498" class="Symbol">(</a><a id="7499" href="Data.List.Membership.Propositional.Properties.html#3992" class="Function">∈-++⁺ʳ</a> <a id="7506" class="Symbol">(</a><a id="7507" href="BitML.Contracts.Helpers.html#1225" class="Function">participants</a> <a id="7520" class="Bound">l</a><a id="7521" class="Symbol">))</a> <a id="7524" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="7526" href="BitML.Contracts.Helpers.html#7030" class="Function">getDeposit</a> <a id="7537" class="Symbol">{</a><a id="7538" class="Argument">g</a> <a id="7540" class="Symbol">=</a> <a id="7542" class="Bound">r</a><a id="7543" class="Symbol">}</a> <a id="7545" class="Symbol">(</a><a id="7546" href="Prelude.Lists.html#16997" class="Function">∈-mapMaybe⁺</a> <a id="7558" href="Data.Sum.html#817" class="Function">isInj₂</a> <a id="7565" href="BitML.Contracts.Helpers.html#7486" class="Bound">x∈ʳ</a> <a id="7569" href="BitML.Contracts.Helpers.html#7317" class="Bound">y≡</a><a id="7571" class="Symbol">)</a>

<a id="getName"></a><a id="7574" href="BitML.Contracts.Helpers.html#7574" class="Function">getName</a> <a id="7582" class="Symbol">:</a> <a id="7584" class="Symbol">(</a><a id="7585" href="BitML.Contracts.Types.html#517" class="Generalizable">A</a> <a id="7587" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7589" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7591" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7593" href="BitML.BasicTypes.html#482" class="Generalizable">x</a><a id="7594" class="Symbol">)</a> <a id="7596" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="7598" href="BitML.Contracts.Helpers.html#6283" class="Function">persistentDeposits</a> <a id="7617" href="BitML.Contracts.Types.html#2187" class="Generalizable">g</a>
        <a id="7627" class="Symbol">→</a> <a id="7629" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7631" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="7633" href="BitML.Contracts.Helpers.html#984" class="Function">namesʳ</a> <a id="7640" href="BitML.Contracts.Types.html#2187" class="Generalizable">g</a>
<a id="7642" href="BitML.Contracts.Helpers.html#7574" class="Function">getName</a> <a id="7650" class="Symbol">{</a><a id="7651" class="Argument">g</a> <a id="7653" class="Symbol">=</a> <a id="7655" class="Symbol">_</a> <a id="7657" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="7660" class="Symbol">_</a> <a id="7662" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="7665" class="Symbol">_}</a> <a id="7668" class="Symbol">(</a><a id="7669" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="7674" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="7678" class="Symbol">)</a> <a id="7680" class="Symbol">=</a> <a id="7682" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="7687" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="7692" href="BitML.Contracts.Helpers.html#7574" class="Function">getName</a> <a id="7700" class="Symbol">{</a><a id="7701" class="Argument">g</a> <a id="7703" class="Symbol">=</a> <a id="7705" class="Symbol">_</a> <a id="7707" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">:!</a> <a id="7710" class="Symbol">_</a> <a id="7712" href="BitML.Contracts.Types.html#1859" class="InductiveConstructor Operator">at</a> <a id="7715" class="Symbol">_}</a> <a id="7718" class="Symbol">(</a><a id="7719" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a> <a id="7725" class="Symbol">())</a>
<a id="7729" href="BitML.Contracts.Helpers.html#7574" class="Function">getName</a> <a id="7737" class="Symbol">{</a><a id="7738" class="Argument">g</a> <a id="7740" class="Symbol">=</a> <a id="7742" href="BitML.Contracts.Helpers.html#7742" class="Bound">l</a> <a id="7744" href="BitML.Contracts.Types.html#2034" class="InductiveConstructor Operator">∣∣</a> <a id="7747" href="BitML.Contracts.Helpers.html#7747" class="Bound">r</a><a id="7748" class="Symbol">}</a>      <a id="7755" href="BitML.Contracts.Helpers.html#7755" class="Bound">d∈</a>
  <a id="7760" class="Keyword">with</a> <a id="7765" href="Data.List.Membership.Propositional.Properties.html#4081" class="Function">∈-++⁻</a> <a id="7771" class="Symbol">(</a><a id="7772" href="BitML.Contracts.Helpers.html#6283" class="Function">persistentDeposits</a> <a id="7791" href="BitML.Contracts.Helpers.html#7742" class="Bound">l</a><a id="7792" class="Symbol">)</a> <a id="7794" href="BitML.Contracts.Helpers.html#7755" class="Bound">d∈</a>
<a id="7797" class="Symbol">...</a> <a id="7801" class="Symbol">|</a> <a id="7803" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="7808" href="BitML.Contracts.Helpers.html#7808" class="Bound">d∈l</a> <a id="7812" class="Symbol">=</a>
  <a id="7816" class="Keyword">let</a> <a id="7820" class="Symbol">_</a> <a id="7822" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7824" href="BitML.Contracts.Helpers.html#7824" class="Bound">y∈</a> <a id="7827" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7829" href="BitML.Contracts.Helpers.html#7829" class="Bound">y≡</a> <a id="7832" class="Symbol">=</a> <a id="7834" href="Prelude.Lists.html#16652" class="Function">∈-mapMaybe⁻</a> <a id="7846" href="Data.Sum.html#817" class="Function">isInj₂</a> <a id="7853" class="Symbol">{</a><a id="7854" class="Argument">xs</a> <a id="7857" class="Symbol">=</a> <a id="7859" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="7865" class="Bound">l</a><a id="7866" class="Symbol">}</a> <a id="7868" class="Symbol">(</a><a id="7869" href="BitML.Contracts.Helpers.html#7574" class="Function">getName</a> <a id="7877" class="Symbol">{</a><a id="7878" class="Argument">g</a> <a id="7880" class="Symbol">=</a> <a id="7882" class="Bound">l</a><a id="7883" class="Symbol">}</a> <a id="7885" href="BitML.Contracts.Helpers.html#7808" class="Bound">d∈l</a><a id="7888" class="Symbol">)</a>
  <a id="7892" class="Keyword">in</a> <a id="7895" href="Prelude.Lists.html#16997" class="Function">∈-mapMaybe⁺</a> <a id="7907" href="Data.Sum.html#817" class="Function">isInj₂</a> <a id="7914" class="Symbol">(</a><a id="7915" href="Data.List.Membership.Propositional.Properties.html#3903" class="Function">∈-++⁺ˡ</a> <a id="7922" href="BitML.Contracts.Helpers.html#7824" class="Bound">y∈</a><a id="7924" class="Symbol">)</a> <a id="7926" href="BitML.Contracts.Helpers.html#7829" class="Bound">y≡</a>
<a id="7929" class="Symbol">...</a> <a id="7933" class="Symbol">|</a> <a id="7935" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="7940" href="BitML.Contracts.Helpers.html#7940" class="Bound">d∈r</a> <a id="7944" class="Symbol">=</a>
  <a id="7948" class="Keyword">let</a> <a id="7952" class="Symbol">_</a> <a id="7954" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7956" href="BitML.Contracts.Helpers.html#7956" class="Bound">y∈</a> <a id="7959" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7961" href="BitML.Contracts.Helpers.html#7961" class="Bound">y≡</a> <a id="7964" class="Symbol">=</a> <a id="7966" href="Prelude.Lists.html#16652" class="Function">∈-mapMaybe⁻</a> <a id="7978" href="Data.Sum.html#817" class="Function">isInj₂</a> <a id="7985" class="Symbol">{</a><a id="7986" class="Argument">xs</a> <a id="7989" class="Symbol">=</a> <a id="7991" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="7997" class="Bound">r</a><a id="7998" class="Symbol">}</a> <a id="8000" class="Symbol">(</a><a id="8001" href="BitML.Contracts.Helpers.html#7574" class="Function">getName</a> <a id="8009" class="Symbol">{</a><a id="8010" class="Argument">g</a> <a id="8012" class="Symbol">=</a> <a id="8014" class="Bound">r</a><a id="8015" class="Symbol">}</a> <a id="8017" href="BitML.Contracts.Helpers.html#7940" class="Bound">d∈r</a><a id="8020" class="Symbol">)</a>
  <a id="8024" class="Keyword">in</a> <a id="8027" href="Prelude.Lists.html#16997" class="Function">∈-mapMaybe⁺</a> <a id="8039" href="Data.Sum.html#817" class="Function">isInj₂</a> <a id="8046" class="Symbol">(</a><a id="8047" href="Data.List.Membership.Propositional.Properties.html#3992" class="Function">∈-++⁺ʳ</a> <a id="8054" class="Symbol">(</a><a id="8055" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="8061" class="Bound">l</a><a id="8062" class="Symbol">)</a> <a id="8064" href="BitML.Contracts.Helpers.html#7956" class="Bound">y∈</a><a id="8066" class="Symbol">)</a> <a id="8068" href="BitML.Contracts.Helpers.html#7961" class="Bound">y≡</a>

<a id="8072" class="Comment">-- Decorations</a>

<a id="decorations⊎"></a><a id="8088" href="BitML.Contracts.Helpers.html#8088" class="Function">decorations⊎</a> <a id="8101" class="Symbol">:</a> <a id="8103" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="8112" class="Symbol">→</a> <a id="8114" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8119" class="Symbol">(</a><a id="8120" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a> <a id="8132" href="Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="8134" href="BitML.BasicTypes.html#382" class="Function">Time</a><a id="8138" class="Symbol">)</a>
<a id="8140" href="BitML.Contracts.Helpers.html#8088" class="Function">decorations⊎</a> <a id="8153" class="Symbol">(</a><a id="8154" href="BitML.Contracts.Helpers.html#8154" class="Bound">A</a>       <a id="8162" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="8164" href="BitML.Contracts.Helpers.html#8164" class="Bound">d</a><a id="8165" class="Symbol">)</a> <a id="8167" class="Symbol">=</a> <a id="8169" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="8174" href="BitML.Contracts.Helpers.html#8154" class="Bound">A</a> <a id="8176" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8178" href="BitML.Contracts.Helpers.html#8088" class="Function">decorations⊎</a> <a id="8191" href="BitML.Contracts.Helpers.html#8164" class="Bound">d</a>
<a id="8193" href="BitML.Contracts.Helpers.html#8088" class="Function">decorations⊎</a> <a id="8206" class="Symbol">(</a><a id="8207" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="8213" href="BitML.Contracts.Helpers.html#8213" class="Bound">t</a> <a id="8215" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="8217" href="BitML.Contracts.Helpers.html#8217" class="Bound">d</a><a id="8218" class="Symbol">)</a> <a id="8220" class="Symbol">=</a> <a id="8222" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="8227" href="BitML.Contracts.Helpers.html#8213" class="Bound">t</a> <a id="8229" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8231" href="BitML.Contracts.Helpers.html#8088" class="Function">decorations⊎</a> <a id="8244" href="BitML.Contracts.Helpers.html#8217" class="Bound">d</a>
<a id="8246" href="BitML.Contracts.Helpers.html#8088" class="CatchallClause Function">decorations⊎</a><a id="8258" class="CatchallClause"> </a><a id="8259" class="CatchallClause Symbol">_</a>             <a id="8273" class="Symbol">=</a> <a id="8275" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="decorations"></a><a id="8279" href="BitML.Contracts.Helpers.html#8279" class="Function">decorations</a> <a id="8291" class="Symbol">:</a> <a id="8293" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="8302" class="Symbol">→</a> <a id="8304" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8309" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a> <a id="8321" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8323" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8328" href="BitML.BasicTypes.html#382" class="Function">Time</a>
<a id="8333" href="BitML.Contracts.Helpers.html#8279" class="Function">decorations</a> <a id="8345" href="BitML.Contracts.Helpers.html#8345" class="Bound">c</a> <a id="8347" class="Symbol">=</a> <a id="8349" href="Data.List.Base.html#3433" class="Function">partitionSums</a> <a id="8363" class="Symbol">(</a><a id="8364" href="BitML.Contracts.Helpers.html#8088" class="Function">decorations⊎</a> <a id="8377" href="BitML.Contracts.Helpers.html#8345" class="Bound">c</a><a id="8378" class="Symbol">)</a>

<a id="authDecorations"></a><a id="8381" href="BitML.Contracts.Helpers.html#8381" class="Function">authDecorations</a> <a id="8397" class="Symbol">:</a> <a id="8399" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="8408" class="Symbol">→</a> <a id="8410" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8415" href="BitML.Contracts.Helpers.html#499" class="Bound">Participant</a>
<a id="8427" href="BitML.Contracts.Helpers.html#8381" class="Function">authDecorations</a> <a id="8443" class="Symbol">=</a> <a id="8445" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="8451" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="8453" href="BitML.Contracts.Helpers.html#8279" class="Function">decorations</a>

<a id="timeDecorations"></a><a id="8466" href="BitML.Contracts.Helpers.html#8466" class="Function">timeDecorations</a> <a id="8482" class="Symbol">:</a> <a id="8484" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="8493" class="Symbol">→</a> <a id="8495" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8500" href="BitML.BasicTypes.html#382" class="Function">Time</a>
<a id="8505" href="BitML.Contracts.Helpers.html#8466" class="Function">timeDecorations</a> <a id="8521" class="Symbol">=</a> <a id="8523" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="8529" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="8531" href="BitML.Contracts.Helpers.html#8279" class="Function">decorations</a>

<a id="removeTopDecorations"></a><a id="8544" href="BitML.Contracts.Helpers.html#8544" class="Function">removeTopDecorations</a> <a id="8565" class="Symbol">:</a> <a id="8567" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="8576" class="Symbol">→</a> <a id="8578" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a>
<a id="8587" href="BitML.Contracts.Helpers.html#8544" class="Function">removeTopDecorations</a> <a id="8608" class="Symbol">(_</a>       <a id="8617" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="8619" href="BitML.Contracts.Helpers.html#8619" class="Bound">d</a><a id="8620" class="Symbol">)</a> <a id="8622" class="Symbol">=</a> <a id="8624" href="BitML.Contracts.Helpers.html#8544" class="Function">removeTopDecorations</a> <a id="8645" href="BitML.Contracts.Helpers.html#8619" class="Bound">d</a>
<a id="8647" href="BitML.Contracts.Helpers.html#8544" class="Function">removeTopDecorations</a> <a id="8668" class="Symbol">(</a><a id="8669" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="8675" class="Symbol">_</a> <a id="8677" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="8679" href="BitML.Contracts.Helpers.html#8679" class="Bound">d</a><a id="8680" class="Symbol">)</a> <a id="8682" class="Symbol">=</a> <a id="8684" href="BitML.Contracts.Helpers.html#8544" class="Function">removeTopDecorations</a> <a id="8705" href="BitML.Contracts.Helpers.html#8679" class="Bound">d</a>
<a id="8707" href="BitML.Contracts.Helpers.html#8544" class="CatchallClause Function">removeTopDecorations</a><a id="8727" class="CatchallClause"> </a><a id="8728" href="BitML.Contracts.Helpers.html#8728" class="CatchallClause Bound">d</a>             <a id="8742" class="Symbol">=</a> <a id="8744" href="BitML.Contracts.Helpers.html#8728" class="Bound">d</a>

<a id="remove-putComponents"></a><a id="8747" href="BitML.Contracts.Helpers.html#8747" class="Function">remove-putComponents</a> <a id="8768" class="Symbol">:</a> <a id="8770" class="Symbol">(</a><a id="8771" href="BitML.Contracts.Helpers.html#1368" class="Function">putComponents</a> <a id="8785" href="BitML.Contracts.Types.html#1243" class="Generalizable">d</a><a id="8786" class="Symbol">)</a> <a id="8788" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8790" href="BitML.Contracts.Helpers.html#1368" class="Function">putComponents</a> <a id="8804" class="Symbol">(</a><a id="8805" href="BitML.Contracts.Helpers.html#8544" class="Function">removeTopDecorations</a> <a id="8826" href="BitML.Contracts.Types.html#1243" class="Generalizable">d</a><a id="8827" class="Symbol">)</a>
<a id="8829" href="BitML.Contracts.Helpers.html#8747" class="Function">remove-putComponents</a> <a id="8850" class="Symbol">{_</a>       <a id="8859" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="8861" href="BitML.Contracts.Helpers.html#8861" class="Bound">d</a><a id="8862" class="Symbol">}</a> <a id="8864" class="Keyword">rewrite</a> <a id="8872" href="BitML.Contracts.Helpers.html#8747" class="Function">remove-putComponents</a> <a id="8893" class="Symbol">{</a><a id="8894" href="BitML.Contracts.Helpers.html#8861" class="Bound">d</a><a id="8895" class="Symbol">}</a> <a id="8897" class="Symbol">=</a> <a id="8899" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="8904" href="BitML.Contracts.Helpers.html#8747" class="Function">remove-putComponents</a> <a id="8925" class="Symbol">{</a><a id="8926" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="8932" class="Symbol">_</a> <a id="8934" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="8936" href="BitML.Contracts.Helpers.html#8936" class="Bound">d</a><a id="8937" class="Symbol">}</a> <a id="8939" class="Keyword">rewrite</a> <a id="8947" href="BitML.Contracts.Helpers.html#8747" class="Function">remove-putComponents</a> <a id="8968" class="Symbol">{</a><a id="8969" href="BitML.Contracts.Helpers.html#8936" class="Bound">d</a><a id="8970" class="Symbol">}</a> <a id="8972" class="Symbol">=</a> <a id="8974" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="8979" href="BitML.Contracts.Helpers.html#8747" class="Function">remove-putComponents</a> <a id="9000" class="Symbol">{</a><a id="9001" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">put</a> <a id="9005" class="Symbol">_</a> <a id="9007" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">&amp;reveal</a> <a id="9015" class="Symbol">_</a> <a id="9017" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">if</a> <a id="9020" class="Symbol">_</a> <a id="9022" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">⇒</a> <a id="9024" class="Symbol">_}</a> <a id="9027" class="Symbol">=</a> <a id="9029" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9034" href="BitML.Contracts.Helpers.html#8747" class="Function">remove-putComponents</a> <a id="9055" class="Symbol">{</a><a id="9056" href="BitML.Contracts.Types.html#886" class="InductiveConstructor">withdraw</a> <a id="9065" class="Symbol">_}</a>               <a id="9082" class="Symbol">=</a> <a id="9084" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9089" href="BitML.Contracts.Helpers.html#8747" class="Function">remove-putComponents</a> <a id="9110" class="Symbol">{</a><a id="9111" href="BitML.Contracts.Types.html#946" class="InductiveConstructor">split</a> <a id="9117" class="Symbol">_}</a>                  <a id="9137" class="Symbol">=</a> <a id="9139" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="remove-names"></a><a id="9145" href="BitML.Contracts.Helpers.html#9145" class="Function">remove-names</a> <a id="9158" class="Symbol">:</a> <a id="9160" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="9166" href="BitML.Contracts.Types.html#1243" class="Generalizable">d</a> <a id="9168" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9170" href="BitML.Contracts.Helpers.html#847" class="Function">names</a> <a id="9176" class="Symbol">(</a><a id="9177" href="BitML.Contracts.Helpers.html#8544" class="Function">removeTopDecorations</a> <a id="9198" href="BitML.Contracts.Types.html#1243" class="Generalizable">d</a><a id="9199" class="Symbol">)</a>
<a id="9201" href="BitML.Contracts.Helpers.html#9145" class="Function">remove-names</a> <a id="9214" class="Symbol">{_</a>       <a id="9223" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="9225" href="BitML.Contracts.Helpers.html#9225" class="Bound">d</a><a id="9226" class="Symbol">}</a> <a id="9228" class="Keyword">rewrite</a> <a id="9236" href="BitML.Contracts.Helpers.html#9145" class="Function">remove-names</a> <a id="9249" class="Symbol">{</a><a id="9250" href="BitML.Contracts.Helpers.html#9225" class="Bound">d</a><a id="9251" class="Symbol">}</a> <a id="9253" class="Symbol">=</a> <a id="9255" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9260" href="BitML.Contracts.Helpers.html#9145" class="Function">remove-names</a> <a id="9273" class="Symbol">{</a><a id="9274" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="9280" class="Symbol">_</a> <a id="9282" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="9284" href="BitML.Contracts.Helpers.html#9284" class="Bound">d</a><a id="9285" class="Symbol">}</a> <a id="9287" class="Keyword">rewrite</a> <a id="9295" href="BitML.Contracts.Helpers.html#9145" class="Function">remove-names</a> <a id="9308" class="Symbol">{</a><a id="9309" href="BitML.Contracts.Helpers.html#9284" class="Bound">d</a><a id="9310" class="Symbol">}</a> <a id="9312" class="Symbol">=</a> <a id="9314" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9319" href="BitML.Contracts.Helpers.html#9145" class="Function">remove-names</a> <a id="9332" class="Symbol">{</a><a id="9333" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">put</a> <a id="9337" class="Symbol">_</a> <a id="9339" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">&amp;reveal</a> <a id="9347" class="Symbol">_</a> <a id="9349" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">if</a> <a id="9352" class="Symbol">_</a> <a id="9354" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">⇒</a> <a id="9356" class="Symbol">_}</a> <a id="9359" class="Symbol">=</a> <a id="9361" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9366" href="BitML.Contracts.Helpers.html#9145" class="Function">remove-names</a> <a id="9379" class="Symbol">{</a><a id="9380" href="BitML.Contracts.Types.html#886" class="InductiveConstructor">withdraw</a> <a id="9389" class="Symbol">_}</a>               <a id="9406" class="Symbol">=</a> <a id="9408" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9413" href="BitML.Contracts.Helpers.html#9145" class="Function">remove-names</a> <a id="9426" class="Symbol">{</a><a id="9427" href="BitML.Contracts.Types.html#946" class="InductiveConstructor">split</a> <a id="9433" class="Symbol">_}</a>                  <a id="9453" class="Symbol">=</a> <a id="9455" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="9461" class="Comment">-- Participants</a>

<a id="9478" class="Comment">-- participants-helperᶜˢ : participants (CS ds) ⊆ participants (put xs &amp;reveal as if p ⇒ ds)</a>
<a id="9571" class="Comment">-- participants-helperᶜˢ {ds = d ∷ ds}{xs}{as}{p} d∈ = d∈</a>
<a id="9629" class="Comment">--   with ∈-++⁻ (participants d) d∈</a>
<a id="9665" class="Comment">-- ... | inj₁ d∈ˡ = ∈-++⁺ˡ d∈ˡ</a>
<a id="9696" class="Comment">-- ... | inj₂ d∈ʳ = ∈-++⁺ʳ (participants d) d∈ʳ -- (participants-helperᶜˢ {ds = ds}{xs}{as}{p} d∈ʳ)</a>

<a id="9797" class="Comment">-- participants-helperᵛᶜˢ : participants (VCS vcs) ⊆ participants (split vcs)</a>
<a id="9875" class="Comment">-- participants-helperᵛᶜˢ {vcs = (_ , ds) ∷ vcs} d∈ = d∈</a>
<a id="9932" class="Comment">--   with ∈-++⁻ (participants ds) d∈</a>
<a id="9969" class="Comment">-- ... | inj₁ d∈ˡ = ∈-++⁺ˡ d∈ˡ</a>
<a id="10000" class="Comment">-- ... | inj₂ d∈ʳ = ∈-++⁺ʳ (participants (CS ds)) d∈ʳ</a>

<a id="10055" class="Comment">-- Subterms</a>

<a id="subterms"></a><a id="10068" href="BitML.Contracts.Helpers.html#10068" class="Function">subterms</a> <a id="subterms⁺"></a><a id="10077" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10087" class="Symbol">:</a> <a id="10089" href="BitML.Contracts.Induction.html#377" class="Datatype">ℂ</a> <a id="10091" class="Symbol">→</a> <a id="10093" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="10098" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a>

<a id="10108" href="BitML.Contracts.Helpers.html#10068" class="Function">subterms</a> <a id="10117" href="BitML.Contracts.Helpers.html#10117" class="Bound">c</a><a id="10118" class="Symbol">@(</a><a id="10120" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="10122" class="Symbol">_)</a>   <a id="10127" class="Symbol">=</a> <a id="10129" href="Data.List.Base.html#6771" class="Function">drop</a> <a id="10134" class="Number">1</a> <a id="10136" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="10138" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10148" href="BitML.Contracts.Helpers.html#10117" class="Bound">c</a>
<a id="10150" href="BitML.Contracts.Helpers.html#10068" class="Function">subterms</a> <a id="10159" href="BitML.Contracts.Helpers.html#10159" class="Bound">c</a><a id="10160" class="Symbol">@(</a><a id="10162" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="10165" class="Symbol">_)</a>  <a id="10169" class="Symbol">=</a> <a id="10171" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10181" href="BitML.Contracts.Helpers.html#10159" class="Bound">c</a>
<a id="10183" href="BitML.Contracts.Helpers.html#10068" class="Function">subterms</a> <a id="10192" href="BitML.Contracts.Helpers.html#10192" class="Bound">c</a><a id="10193" class="Symbol">@(</a><a id="10195" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="10199" class="Symbol">_)</a> <a id="10202" class="Symbol">=</a> <a id="10204" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10214" href="BitML.Contracts.Helpers.html#10192" class="Bound">c</a>

<a id="10217" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10227" class="Symbol">(</a><a id="10228" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="10230" href="BitML.Contracts.Helpers.html#10230" class="Bound">c</a><a id="10231" class="Symbol">)</a> <a id="10233" class="Keyword">with</a> <a id="10238" href="BitML.Contracts.Helpers.html#10230" class="Bound">c</a>
<a id="10240" class="Symbol">...</a> <a id="10244" class="Symbol">|</a> <a id="10246" class="Symbol">_</a> <a id="10248" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="10250" href="BitML.Contracts.Helpers.html#10250" class="Bound">d</a>                      <a id="10273" class="Symbol">=</a> <a id="10275" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10285" class="Symbol">(</a><a id="10286" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="10288" href="BitML.Contracts.Helpers.html#10250" class="Bound">d</a><a id="10289" class="Symbol">)</a>
<a id="10291" class="Symbol">...</a> <a id="10295" class="Symbol">|</a> <a id="10297" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="10303" class="Symbol">_</a> <a id="10305" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="10307" href="BitML.Contracts.Helpers.html#10307" class="Bound">d</a>                <a id="10324" class="Symbol">=</a> <a id="10326" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10336" class="Symbol">(</a><a id="10337" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="10339" href="BitML.Contracts.Helpers.html#10307" class="Bound">d</a><a id="10340" class="Symbol">)</a>
<a id="10342" class="Symbol">...</a> <a id="10346" class="Symbol">|</a> <a id="10348" href="BitML.Contracts.Types.html#946" class="InductiveConstructor">split</a> <a id="10354" href="BitML.Contracts.Helpers.html#10354" class="Bound">vcs</a>                  <a id="10375" class="Symbol">=</a> <a id="10377" class="Bound">c</a> <a id="10379" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10381" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10391" class="Symbol">(</a><a id="10392" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="10396" href="BitML.Contracts.Helpers.html#10354" class="Bound">vcs</a><a id="10399" class="Symbol">)</a>
<a id="10401" class="Symbol">...</a> <a id="10405" class="Symbol">|</a> <a id="10407" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">put</a> <a id="10411" class="Symbol">_</a> <a id="10413" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">&amp;reveal</a> <a id="10421" class="Symbol">_</a> <a id="10423" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">if</a> <a id="10426" class="Symbol">_</a> <a id="10428" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">⇒</a> <a id="10430" href="BitML.Contracts.Helpers.html#10430" class="Bound">cs</a>  <a id="10434" class="Symbol">=</a> <a id="10436" class="Bound">c</a> <a id="10438" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10440" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10450" class="Symbol">(</a><a id="10451" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="10454" href="BitML.Contracts.Helpers.html#10430" class="Bound">cs</a><a id="10456" class="Symbol">)</a>
<a id="10458" class="Symbol">...</a> <a id="10462" class="Symbol">|</a> <a id="10464" href="BitML.Contracts.Types.html#886" class="InductiveConstructor">withdraw</a> <a id="10473" class="Symbol">_</a>                 <a id="10491" class="Symbol">=</a> <a id="10493" class="Bound">c</a> <a id="10495" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10497" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="10500" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10510" class="Symbol">(</a><a id="10511" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="10514" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10516" class="Symbol">)</a>                <a id="10533" class="Symbol">=</a> <a id="10535" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="10538" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10548" class="Symbol">(</a><a id="10549" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="10552" class="Symbol">(</a><a id="10553" href="BitML.Contracts.Helpers.html#10553" class="Bound">c</a> <a id="10555" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10557" href="BitML.Contracts.Helpers.html#10557" class="Bound">cs</a><a id="10559" class="Symbol">))</a>          <a id="10571" class="Symbol">=</a> <a id="10573" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10583" class="Symbol">(</a><a id="10584" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="10586" href="BitML.Contracts.Helpers.html#10553" class="Bound">c</a><a id="10587" class="Symbol">)</a> <a id="10589" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="10592" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10602" class="Symbol">(</a><a id="10603" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="10606" href="BitML.Contracts.Helpers.html#10557" class="Bound">cs</a><a id="10608" class="Symbol">)</a>
<a id="10610" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10620" class="Symbol">(</a><a id="10621" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="10625" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10627" class="Symbol">)</a>               <a id="10643" class="Symbol">=</a> <a id="10645" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="10648" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10658" class="Symbol">(</a><a id="10659" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="10663" class="Symbol">((_</a> <a id="10667" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10669" href="BitML.Contracts.Helpers.html#10669" class="Bound">cs</a><a id="10671" class="Symbol">)</a> <a id="10673" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10675" href="BitML.Contracts.Helpers.html#10675" class="Bound">vcs</a><a id="10678" class="Symbol">))</a> <a id="10681" class="Symbol">=</a> <a id="10683" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10693" class="Symbol">(</a><a id="10694" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="10697" href="BitML.Contracts.Helpers.html#10669" class="Bound">cs</a><a id="10699" class="Symbol">)</a> <a id="10701" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="10704" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="10714" class="Symbol">(</a><a id="10715" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="10719" href="BitML.Contracts.Helpers.html#10675" class="Bound">vcs</a><a id="10722" class="Symbol">)</a>

<a id="subterms′"></a><a id="10725" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="10735" class="Symbol">:</a> <a id="10737" href="BitML.Contracts.Induction.html#377" class="Datatype">ℂ</a> <a id="10739" class="Symbol">→</a> <a id="10741" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="10746" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a>
<a id="10755" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="10765" class="Symbol">(</a><a id="10766" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="10768" href="BitML.Contracts.Helpers.html#10768" class="Bound">c</a><a id="10769" class="Symbol">)</a> <a id="10771" class="Keyword">with</a> <a id="10776" href="BitML.Contracts.Helpers.html#10768" class="Bound">c</a>
<a id="10778" class="Symbol">...</a> <a id="10782" class="Symbol">|</a> <a id="10784" class="Symbol">_</a> <a id="10786" href="BitML.Contracts.Types.html#1021" class="InductiveConstructor Operator">⇒</a> <a id="10788" href="BitML.Contracts.Helpers.html#10788" class="Bound">d</a>                      <a id="10811" class="Symbol">=</a> <a id="10813" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="10823" class="Symbol">(</a><a id="10824" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="10826" href="BitML.Contracts.Helpers.html#10788" class="Bound">d</a><a id="10827" class="Symbol">)</a>
<a id="10829" class="Symbol">...</a> <a id="10833" class="Symbol">|</a> <a id="10835" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">after</a> <a id="10841" class="Symbol">_</a> <a id="10843" href="BitML.Contracts.Types.html#1094" class="InductiveConstructor Operator">⇒</a> <a id="10845" href="BitML.Contracts.Helpers.html#10845" class="Bound">d</a>                <a id="10862" class="Symbol">=</a> <a id="10864" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="10874" class="Symbol">(</a><a id="10875" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="10877" href="BitML.Contracts.Helpers.html#10845" class="Bound">d</a><a id="10878" class="Symbol">)</a>
<a id="10880" class="Symbol">...</a> <a id="10884" class="Symbol">|</a> <a id="10886" href="BitML.Contracts.Types.html#946" class="InductiveConstructor">split</a> <a id="10892" href="BitML.Contracts.Helpers.html#10892" class="Bound">vcs</a>                  <a id="10913" class="Symbol">=</a> <a id="10915" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="10925" class="Symbol">(</a><a id="10926" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="10930" href="BitML.Contracts.Helpers.html#10892" class="Bound">vcs</a><a id="10933" class="Symbol">)</a>
<a id="10935" class="Symbol">...</a> <a id="10939" class="Symbol">|</a> <a id="10941" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">put</a> <a id="10945" class="Symbol">_</a> <a id="10947" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">&amp;reveal</a> <a id="10955" class="Symbol">_</a> <a id="10957" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">if</a> <a id="10960" class="Symbol">_</a> <a id="10962" href="BitML.Contracts.Types.html#771" class="InductiveConstructor Operator">⇒</a> <a id="10964" href="BitML.Contracts.Helpers.html#10964" class="Bound">cs</a>  <a id="10968" class="Symbol">=</a> <a id="10970" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="10980" class="Symbol">(</a><a id="10981" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="10984" href="BitML.Contracts.Helpers.html#10964" class="Bound">cs</a><a id="10986" class="Symbol">)</a>
<a id="10988" class="Symbol">...</a> <a id="10992" class="Symbol">|</a> <a id="10994" href="BitML.Contracts.Types.html#886" class="InductiveConstructor">withdraw</a> <a id="11003" class="Symbol">_</a>                 <a id="11021" class="Symbol">=</a> <a id="11023" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="11026" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11036" class="Symbol">(</a><a id="11037" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="11040" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="11042" class="Symbol">)</a>                <a id="11059" class="Symbol">=</a> <a id="11061" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="11064" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11074" class="Symbol">(</a><a id="11075" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="11078" class="Symbol">(</a><a id="11079" href="BitML.Contracts.Helpers.html#11079" class="Bound">c</a> <a id="11081" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11083" href="BitML.Contracts.Helpers.html#11083" class="Bound">cs</a><a id="11085" class="Symbol">))</a>          <a id="11097" class="Symbol">=</a> <a id="11099" href="BitML.Contracts.Helpers.html#11079" class="Bound">c</a> <a id="11101" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11103" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11113" class="Symbol">(</a><a id="11114" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="11116" href="BitML.Contracts.Helpers.html#11079" class="Bound">c</a><a id="11117" class="Symbol">)</a> <a id="11119" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="11122" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11132" class="Symbol">(</a><a id="11133" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="11136" href="BitML.Contracts.Helpers.html#11083" class="Bound">cs</a><a id="11138" class="Symbol">)</a>
<a id="11140" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11150" class="Symbol">(</a><a id="11151" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="11155" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="11157" class="Symbol">)</a>               <a id="11173" class="Symbol">=</a> <a id="11175" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="11178" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11188" class="Symbol">(</a><a id="11189" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="11193" class="Symbol">((_</a> <a id="11197" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11199" href="BitML.Contracts.Helpers.html#11199" class="Bound">cs</a><a id="11201" class="Symbol">)</a> <a id="11203" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11205" href="BitML.Contracts.Helpers.html#11205" class="Bound">vcs</a><a id="11208" class="Symbol">))</a> <a id="11211" class="Symbol">=</a> <a id="11213" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11223" class="Symbol">(</a><a id="11224" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="11227" href="BitML.Contracts.Helpers.html#11199" class="Bound">cs</a><a id="11229" class="Symbol">)</a> <a id="11231" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="11234" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11244" class="Symbol">(</a><a id="11245" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="11249" href="BitML.Contracts.Helpers.html#11205" class="Bound">vcs</a><a id="11252" class="Symbol">)</a>

<a id="11255" class="Comment">-- Lemmas about `subterms`</a>

<a id="subterms⊆ᶜˢ"></a><a id="11283" href="BitML.Contracts.Helpers.html#11283" class="Function">subterms⊆ᶜˢ</a> <a id="11295" class="Symbol">:</a> <a id="11297" href="BitML.Contracts.Types.html#1261" class="Generalizable">ds</a> <a id="11300" href="Data.List.Relation.Binary.Subset.Setoid.html#692" class="Function Operator">⊆</a> <a id="11302" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11312" class="Symbol">(</a><a id="11313" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="11316" href="BitML.Contracts.Types.html#1261" class="Generalizable">ds</a><a id="11318" class="Symbol">)</a>
<a id="11320" href="BitML.Contracts.Helpers.html#11283" class="Function">subterms⊆ᶜˢ</a> <a id="11332" class="Symbol">{</a><a id="11333" class="Argument">ds</a> <a id="11336" class="Symbol">=</a> <a id="11338" href="BitML.Contracts.Helpers.html#11338" class="Bound">d</a> <a id="11340" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11342" href="BitML.Contracts.Helpers.html#11342" class="Bound">ds</a><a id="11344" class="Symbol">}</a> <a id="11346" class="Symbol">(</a><a id="11347" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="11352" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="11356" class="Symbol">)</a> <a id="11358" class="Symbol">=</a> <a id="11360" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="11365" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="11370" href="BitML.Contracts.Helpers.html#11283" class="Function">subterms⊆ᶜˢ</a> <a id="11382" class="Symbol">{</a><a id="11383" class="Argument">ds</a> <a id="11386" class="Symbol">=</a> <a id="11388" href="BitML.Contracts.Helpers.html#11388" class="Bound">d</a> <a id="11390" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11392" href="BitML.Contracts.Helpers.html#11392" class="Bound">ds</a><a id="11394" class="Symbol">}</a> <a id="11396" class="Symbol">(</a><a id="11397" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a> <a id="11403" href="BitML.Contracts.Helpers.html#11403" class="Bound">d∈</a><a id="11405" class="Symbol">)</a>  <a id="11408" class="Symbol">=</a> <a id="11410" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a> <a id="11416" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="11418" href="Data.List.Membership.Propositional.Properties.html#3992" class="Function">∈-++⁺ʳ</a> <a id="11425" class="Symbol">(</a><a id="11426" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11436" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="11438" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="11440" href="BitML.Contracts.Helpers.html#11388" class="Bound">d</a><a id="11441" class="Symbol">)</a> <a id="11443" class="Symbol">(</a><a id="11444" href="BitML.Contracts.Helpers.html#11283" class="Function">subterms⊆ᶜˢ</a> <a id="11456" href="BitML.Contracts.Helpers.html#11403" class="Bound">d∈</a><a id="11458" class="Symbol">)</a>

<a id="subterms⊆ᵛᶜˢ"></a><a id="11461" href="BitML.Contracts.Helpers.html#11461" class="Function">subterms⊆ᵛᶜˢ</a> <a id="11474" class="Symbol">:</a> <a id="11476" class="Symbol">(</a><a id="11477" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="11479" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11481" href="BitML.Contracts.Types.html#1261" class="Generalizable">ds</a><a id="11483" class="Symbol">)</a> <a id="11485" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="11487" href="BitML.Contracts.Types.html#1287" class="Generalizable">vcs</a> <a id="11491" class="Symbol">→</a> <a id="11493" href="BitML.Contracts.Types.html#1261" class="Generalizable">ds</a> <a id="11496" href="Data.List.Relation.Binary.Subset.Setoid.html#692" class="Function Operator">⊆</a> <a id="11498" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11508" class="Symbol">(</a><a id="11509" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="11513" href="BitML.Contracts.Types.html#1287" class="Generalizable">vcs</a><a id="11516" class="Symbol">)</a>
<a id="11518" href="BitML.Contracts.Helpers.html#11461" class="Function">subterms⊆ᵛᶜˢ</a> <a id="11531" class="Symbol">{</a><a id="11532" class="Argument">vcs</a> <a id="11536" class="Symbol">=</a> <a id="11538" class="Symbol">(_</a> <a id="11541" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11543" href="BitML.Contracts.Helpers.html#11543" class="Bound">ds</a><a id="11545" class="Symbol">)</a> <a id="11547" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11549" href="BitML.Contracts.Helpers.html#11549" class="Bound">vcs</a><a id="11552" class="Symbol">}</a> <a id="11554" class="Symbol">(</a><a id="11555" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="11560" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="11564" class="Symbol">)</a> <a id="11566" class="Symbol">=</a> <a id="11568" href="Data.List.Membership.Propositional.Properties.html#3903" class="Function">∈-++⁺ˡ</a> <a id="11575" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="11577" href="BitML.Contracts.Helpers.html#11283" class="Function">subterms⊆ᶜˢ</a>
<a id="11589" href="BitML.Contracts.Helpers.html#11461" class="Function">subterms⊆ᵛᶜˢ</a> <a id="11602" class="Symbol">{</a><a id="11603" class="Argument">vcs</a> <a id="11607" class="Symbol">=</a> <a id="11609" class="Symbol">(_</a> <a id="11612" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11614" href="BitML.Contracts.Helpers.html#11614" class="Bound">ds</a><a id="11616" class="Symbol">)</a> <a id="11618" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11620" href="BitML.Contracts.Helpers.html#11620" class="Bound">vcs</a><a id="11623" class="Symbol">}</a> <a id="11625" class="Symbol">(</a><a id="11626" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a> <a id="11632" href="BitML.Contracts.Helpers.html#11632" class="Bound">p</a><a id="11633" class="Symbol">)</a>   <a id="11637" class="Symbol">=</a> <a id="11639" href="Data.List.Membership.Propositional.Properties.html#3992" class="Function">∈-++⁺ʳ</a> <a id="11646" class="Symbol">(</a><a id="11647" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11657" class="Symbol">(</a><a id="11658" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="11661" href="BitML.Contracts.Helpers.html#11614" class="Bound">ds</a><a id="11663" class="Symbol">))</a> <a id="11666" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="11668" href="BitML.Contracts.Helpers.html#11461" class="Function">subterms⊆ᵛᶜˢ</a> <a id="11681" href="BitML.Contracts.Helpers.html#11632" class="Bound">p</a>

<a id="11684" class="Symbol">{-#</a> <a id="11688" class="Keyword">TERMINATING</a> <a id="11700" class="Symbol">#-}</a>
<a id="subterms′-collect⊆ᶜˢ"></a><a id="11704" href="BitML.Contracts.Helpers.html#11704" class="Function">subterms′-collect⊆ᶜˢ</a> <a id="11725" class="Symbol">:</a> <a id="11727" class="Symbol">∀</a> <a id="11729" class="Symbol">{{</a><a id="11731" href="BitML.Contracts.Helpers.html#11731" class="Bound">_</a> <a id="11733" class="Symbol">:</a> <a id="11735" href="BitML.Contracts.Types.html#634" class="Datatype">Contract</a> <a id="11744" href="Prelude.Collections.html#148" class="Record Operator">has</a> <a id="11748" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a><a id="11749" class="Symbol">}}</a>
  <a id="11754" class="Symbol">→</a> <a id="11756" href="BitML.Contracts.Types.html#1243" class="Generalizable">d</a> <a id="11758" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="11760" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11770" class="Symbol">(</a><a id="11771" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="11774" href="BitML.Contracts.Types.html#1261" class="Generalizable">ds</a><a id="11776" class="Symbol">)</a> <a id="11778" class="Symbol">→</a> <a id="11780" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="11788" class="Symbol">{</a><a id="11789" class="Argument">B</a> <a id="11791" class="Symbol">=</a> <a id="11793" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a><a id="11794" class="Symbol">}</a> <a id="11796" href="BitML.Contracts.Types.html#1243" class="Generalizable">d</a> <a id="11798" href="Data.List.Relation.Binary.Subset.Setoid.html#692" class="Function Operator">⊆</a> <a id="11800" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="11808" class="Symbol">{</a><a id="11809" class="Argument">B</a> <a id="11811" class="Symbol">=</a> <a id="11813" href="BitML.Contracts.Helpers.html#838" class="Generalizable">X</a><a id="11814" class="Symbol">}</a> <a id="11816" href="BitML.Contracts.Types.html#1261" class="Generalizable">ds</a>
<a id="11819" href="BitML.Contracts.Helpers.html#11704" class="Function">subterms′-collect⊆ᶜˢ</a> <a id="11840" class="Symbol">{</a><a id="11841" class="Argument">X</a> <a id="11843" class="Symbol">=</a> <a id="11845" href="BitML.Contracts.Helpers.html#11845" class="Bound">X</a><a id="11846" class="Symbol">}</a> <a id="11848" class="Symbol">{</a><a id="11849" class="Argument">ds</a> <a id="11852" class="Symbol">=</a> <a id="11854" href="BitML.Contracts.Helpers.html#11854" class="Bound">c</a> <a id="11856" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11858" href="BitML.Contracts.Helpers.html#11858" class="Bound">cs</a><a id="11860" class="Symbol">}</a> <a id="11862" href="BitML.Contracts.Helpers.html#11862" class="Bound">d∈</a>
  <a id="11867" class="Keyword">with</a> <a id="11872" href="BitML.Contracts.Helpers.html#11862" class="Bound">d∈</a>
<a id="11875" class="Symbol">...</a> <a id="11879" class="Symbol">|</a> <a id="11881" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="11886" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="11891" class="Symbol">=</a> <a id="11893" href="Data.List.Membership.Propositional.Properties.html#3903" class="Function">∈-++⁺ˡ</a>
<a id="11900" class="Symbol">...</a> <a id="11904" class="Symbol">|</a> <a id="11906" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a> <a id="11912" href="BitML.Contracts.Helpers.html#11912" class="Bound">d∈′</a>
  <a id="11918" class="Keyword">with</a> <a id="11923" href="Data.List.Membership.Propositional.Properties.html#4081" class="Function">∈-++⁻</a> <a id="11929" class="Symbol">(</a><a id="11930" href="BitML.Contracts.Helpers.html#10725" class="Function">subterms′</a> <a id="11940" class="Symbol">(</a><a id="11941" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="11943" class="Bound">c</a><a id="11944" class="Symbol">))</a> <a id="11947" href="BitML.Contracts.Helpers.html#11912" class="Bound">d∈′</a>
<a id="11951" class="Symbol">...</a> <a id="11955" class="Symbol">|</a> <a id="11957" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="11962" href="BitML.Contracts.Helpers.html#11962" class="Bound">d∈ʳ</a> <a id="11966" class="Symbol">=</a> <a id="11968" href="Data.List.Membership.Propositional.Properties.html#3992" class="Function">∈-++⁺ʳ</a> <a id="11975" class="Symbol">_</a> <a id="11977" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="11979" href="BitML.Contracts.Helpers.html#11704" class="Function">subterms′-collect⊆ᶜˢ</a> <a id="12000" class="Symbol">{</a><a id="12001" class="Argument">ds</a> <a id="12004" class="Symbol">=</a> <a id="12006" class="Bound">cs</a><a id="12008" class="Symbol">}</a> <a id="12010" href="BitML.Contracts.Helpers.html#11962" class="Bound">d∈ʳ</a>
<a id="12014" class="Symbol">...</a> <a id="12018" class="Symbol">|</a> <a id="12020" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="12025" href="BitML.Contracts.Helpers.html#12025" class="Bound">d∈ˡ</a> <a id="12029" class="Symbol">=</a> <a id="12031" href="Data.List.Membership.Propositional.Properties.html#3903" class="Function">∈-++⁺ˡ</a>
               <a id="12053" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="12055" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="12061" class="Symbol">(_</a> <a id="12064" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈_</a><a id="12066" class="Symbol">)</a> <a id="12068" class="Symbol">(</a><a id="12069" href="Data.List.Properties.html#5296" class="Function">L.++-identityʳ</a> <a id="12084" class="Symbol">(</a><a id="12085" href="Prelude.Collections.html#198" class="Field">collect</a> <a id="12093" class="Symbol">{</a><a id="12094" class="Argument">B</a> <a id="12096" class="Symbol">=</a> <a id="12098" class="Bound">X</a><a id="12099" class="Symbol">}</a> <a id="12101" class="Bound">c</a><a id="12102" class="Symbol">))</a>
               <a id="12120" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="12122" href="BitML.Contracts.Helpers.html#11704" class="Function">subterms′-collect⊆ᶜˢ</a> <a id="12143" class="Symbol">{</a><a id="12144" class="Argument">ds</a> <a id="12147" class="Symbol">=</a> <a id="12149" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="12151" class="Bound">c</a> <a id="12153" href="Data.List.Base.html#4458" class="Function Operator">]</a><a id="12154" class="Symbol">}</a> <a id="12156" class="Symbol">(</a><a id="12157" href="Data.List.Membership.Propositional.Properties.html#3903" class="Function">∈-++⁺ˡ</a> <a id="12164" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="12166" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a> <a id="12172" href="BitML.Contracts.Helpers.html#12025" class="Bound">d∈ˡ</a><a id="12175" class="Symbol">)</a>

<a id="12178" class="Comment">-- subterms′-names⊆ : d ∈ subterms′ (CS ds) → names d ⊆ names ds</a>
<a id="12243" class="Comment">-- subterms′-names⊆ {d}{ds = c ∷ cs} d∈</a>
<a id="12283" class="Comment">--   with d∈</a>
<a id="12296" class="Comment">-- ... | here refl = ∈-++⁺ˡ</a>
<a id="12324" class="Comment">-- ... | there d∈′</a>
<a id="12343" class="Comment">--   with ∈-++⁻ (subterms′ (C c)) d∈′</a>
<a id="12381" class="Comment">-- ... | inj₁ d∈ˡ = {!!}</a>
<a id="12406" class="Comment">-- ... | inj₂ d∈ʳ = ∈-++⁺ʳ _ ∘ subterms′-names⊆ {ds = cs} d∈ʳ</a>

<a id="12469" class="Comment">-- postulate</a>
<a id="12482" class="Comment">--   subterms′-putComponents⊆ : d ∈ subterms′ (CS ds) → putComponents d ⊆ putComponents ds</a>
<a id="12573" class="Comment">-- subterms′-putComponents⊆ d∈ = {!!}</a>

<a id="↦-∈"></a><a id="12612" href="BitML.Contracts.Helpers.html#12612" class="Function">↦-∈</a> <a id="12616" class="Symbol">:</a> <a id="12618" class="Symbol">∀</a> <a id="12620" class="Symbol">{</a><a id="12621" href="BitML.Contracts.Helpers.html#12621" class="Bound">R</a> <a id="12623" class="Symbol">:</a> <a id="12625" class="PrimitiveType">Set</a><a id="12628" class="Symbol">}</a>
  <a id="12632" class="Symbol">→</a> <a id="12634" class="Symbol">(∀</a> <a id="12637" class="Symbol">{</a><a id="12638" href="BitML.Contracts.Helpers.html#12638" class="Bound">d</a><a id="12639" class="Symbol">}</a> <a id="12641" class="Symbol">→</a> <a id="12643" href="BitML.Contracts.Helpers.html#12638" class="Bound">d</a> <a id="12645" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="12647" href="BitML.Contracts.Types.html#1261" class="Generalizable">ds</a> <a id="12650" class="Symbol">→</a> <a id="12652" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="12662" class="Symbol">(</a><a id="12663" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="12665" href="BitML.Contracts.Helpers.html#12638" class="Bound">d</a><a id="12666" class="Symbol">)</a> <a id="12668" href="Prelude.Lists.html#10250" class="Function Operator">↦</a> <a id="12670" href="BitML.Contracts.Helpers.html#12621" class="Bound">R</a><a id="12671" class="Symbol">)</a>
  <a id="12675" class="Symbol">→</a> <a id="12677" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="12687" class="Symbol">(</a><a id="12688" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="12691" href="BitML.Contracts.Types.html#1261" class="Generalizable">ds</a><a id="12693" class="Symbol">)</a> <a id="12695" href="Prelude.Lists.html#10250" class="Function Operator">↦</a> <a id="12697" href="BitML.Contracts.Helpers.html#12621" class="Bound">R</a>
<a id="12699" href="BitML.Contracts.Helpers.html#12612" class="Function">↦-∈</a> <a id="12703" class="Symbol">{</a><a id="12704" class="Argument">ds</a> <a id="12707" class="Symbol">=</a> <a id="12709" href="BitML.Contracts.Helpers.html#12709" class="Bound">c</a> <a id="12711" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="12713" href="BitML.Contracts.Helpers.html#12713" class="Bound">cs</a><a id="12715" class="Symbol">}</a> <a id="12717" href="BitML.Contracts.Helpers.html#12717" class="Bound">f</a> <a id="12719" href="BitML.Contracts.Helpers.html#12719" class="Bound">x∈</a>
  <a id="12724" class="Keyword">with</a> <a id="12729" href="Data.List.Membership.Propositional.Properties.html#4081" class="Function">∈-++⁻</a> <a id="12735" class="Symbol">(</a><a id="12736" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="12746" class="Symbol">(</a><a id="12747" href="BitML.Contracts.Induction.html#393" class="InductiveConstructor">C</a> <a id="12749" href="BitML.Contracts.Helpers.html#12709" class="Bound">c</a><a id="12750" class="Symbol">))</a> <a id="12753" href="BitML.Contracts.Helpers.html#12719" class="Bound">x∈</a>
<a id="12756" class="Symbol">...</a> <a id="12760" class="Symbol">|</a> <a id="12762" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="12767" href="BitML.Contracts.Helpers.html#12767" class="Bound">x∈ˡ</a> <a id="12771" class="Symbol">=</a> <a id="12773" class="Bound">f</a> <a id="12775" class="Symbol">(</a><a id="12776" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="12781" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="12785" class="Symbol">)</a> <a id="12787" href="BitML.Contracts.Helpers.html#12767" class="Bound">x∈ˡ</a>
<a id="12791" class="Symbol">...</a> <a id="12795" class="Symbol">|</a> <a id="12797" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="12802" href="BitML.Contracts.Helpers.html#12802" class="Bound">x∈ʳ</a> <a id="12806" class="Symbol">=</a> <a id="12808" href="BitML.Contracts.Helpers.html#12612" class="Function">↦-∈</a> <a id="12812" class="Symbol">(</a><a id="12813" class="Bound">f</a> <a id="12815" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="12817" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a><a id="12822" class="Symbol">)</a> <a id="12824" href="BitML.Contracts.Helpers.html#12802" class="Bound">x∈ʳ</a>

<a id="↦-∈ᵛ"></a><a id="12829" href="BitML.Contracts.Helpers.html#12829" class="Function">↦-∈ᵛ</a> <a id="12834" class="Symbol">:</a> <a id="12836" class="Symbol">∀</a> <a id="12838" class="Symbol">{</a><a id="12839" href="BitML.Contracts.Helpers.html#12839" class="Bound">R</a> <a id="12841" class="Symbol">:</a> <a id="12843" class="PrimitiveType">Set</a><a id="12846" class="Symbol">}</a>
  <a id="12850" class="Symbol">→</a> <a id="12852" class="Symbol">(∀</a> <a id="12855" class="Symbol">{</a><a id="12856" href="BitML.Contracts.Helpers.html#12856" class="Bound">cs</a><a id="12858" class="Symbol">}</a> <a id="12860" class="Symbol">→</a> <a id="12862" href="BitML.Contracts.Helpers.html#12856" class="Bound">cs</a> <a id="12865" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="12867" href="Data.List.Base.html#1497" class="Function">map</a> <a id="12871" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="12877" href="BitML.Contracts.Types.html#1287" class="Generalizable">vcs</a> <a id="12881" class="Symbol">→</a> <a id="12883" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="12893" class="Symbol">(</a><a id="12894" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="12897" href="BitML.Contracts.Helpers.html#12856" class="Bound">cs</a><a id="12899" class="Symbol">)</a> <a id="12901" href="Prelude.Lists.html#10250" class="Function Operator">↦</a> <a id="12903" href="BitML.Contracts.Helpers.html#12839" class="Bound">R</a><a id="12904" class="Symbol">)</a>
  <a id="12908" class="Symbol">→</a> <a id="12910" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="12920" class="Symbol">(</a><a id="12921" href="BitML.Contracts.Induction.html#436" class="InductiveConstructor">VCS</a> <a id="12925" href="BitML.Contracts.Types.html#1287" class="Generalizable">vcs</a><a id="12928" class="Symbol">)</a> <a id="12930" href="Prelude.Lists.html#10250" class="Function Operator">↦</a> <a id="12932" href="BitML.Contracts.Helpers.html#12839" class="Bound">R</a>
<a id="12934" href="BitML.Contracts.Helpers.html#12829" class="Function">↦-∈ᵛ</a> <a id="12939" class="Symbol">{</a><a id="12940" class="Argument">vcs</a> <a id="12944" class="Symbol">=</a> <a id="12946" class="Symbol">(_</a> <a id="12949" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="12951" href="BitML.Contracts.Helpers.html#12951" class="Bound">cs</a><a id="12953" class="Symbol">)</a> <a id="12955" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="12957" href="BitML.Contracts.Helpers.html#12957" class="Bound">vcs</a><a id="12960" class="Symbol">}</a> <a id="12962" href="BitML.Contracts.Helpers.html#12962" class="Bound">f</a> <a id="12964" href="BitML.Contracts.Helpers.html#12964" class="Bound">x∈</a>
  <a id="12969" class="Keyword">with</a> <a id="12974" href="Data.List.Membership.Propositional.Properties.html#4081" class="Function">∈-++⁻</a> <a id="12980" class="Symbol">(</a><a id="12981" href="BitML.Contracts.Helpers.html#10077" class="Function">subterms⁺</a> <a id="12991" class="Symbol">(</a><a id="12992" href="BitML.Contracts.Induction.html#414" class="InductiveConstructor">CS</a> <a id="12995" href="BitML.Contracts.Helpers.html#12951" class="Bound">cs</a><a id="12997" class="Symbol">))</a> <a id="13000" href="BitML.Contracts.Helpers.html#12964" class="Bound">x∈</a>
<a id="13003" class="Symbol">...</a> <a id="13007" class="Symbol">|</a> <a id="13009" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="13014" href="BitML.Contracts.Helpers.html#13014" class="Bound">x∈ˡ</a> <a id="13018" class="Symbol">=</a> <a id="13020" class="Bound">f</a> <a id="13022" class="Symbol">(</a><a id="13023" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="13028" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="13032" class="Symbol">)</a> <a id="13034" href="BitML.Contracts.Helpers.html#13014" class="Bound">x∈ˡ</a>
<a id="13038" class="Symbol">...</a> <a id="13042" class="Symbol">|</a> <a id="13044" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="13049" href="BitML.Contracts.Helpers.html#13049" class="Bound">x∈ʳ</a> <a id="13053" class="Symbol">=</a> <a id="13055" href="BitML.Contracts.Helpers.html#12829" class="Function">↦-∈ᵛ</a> <a id="13060" class="Symbol">(</a><a id="13061" class="Bound">f</a> <a id="13063" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="13065" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a><a id="13070" class="Symbol">)</a> <a id="13072" href="BitML.Contracts.Helpers.html#13049" class="Bound">x∈ʳ</a>
</pre></body></html>