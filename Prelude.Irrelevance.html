<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Irrelevance</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Prelude.Irrelevance.html" class="Module">Prelude.Irrelevance</a> <a id="28" class="Keyword">where</a>

<a id="35" class="Keyword">open</a> <a id="40" class="Keyword">import</a> <a id="47" href="Level.html" class="Module">Level</a>
<a id="53" class="Keyword">open</a> <a id="58" class="Keyword">import</a> <a id="65" href="Function.html" class="Module">Function</a>
<a id="74" class="Keyword">open</a> <a id="79" class="Keyword">import</a> <a id="86" href="Data.Product.html" class="Module">Data.Product</a>
<a id="99" class="Keyword">open</a> <a id="104" class="Keyword">import</a> <a id="111" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="128" class="Keyword">open</a> <a id="133" class="Keyword">import</a> <a id="140" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>

<a id="168" class="Keyword">open</a> <a id="173" class="Keyword">import</a> <a id="180" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>

<a id="199" class="Keyword">open</a> <a id="204" class="Keyword">import</a> <a id="211" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="221" class="Keyword">open</a> <a id="226" class="Keyword">import</a> <a id="233" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="272" class="Keyword">private</a>
  <a id="282" class="Keyword">variable</a>
    <a id="295" href="Prelude.Irrelevance.html#295" class="Generalizable">a</a> <a id="297" href="Prelude.Irrelevance.html#297" class="Generalizable">b</a> <a id="299" href="Prelude.Irrelevance.html#299" class="Generalizable">p</a> <a id="301" class="Symbol">:</a> <a id="303" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="313" href="Prelude.Irrelevance.html#313" class="Generalizable">A</a> <a id="315" class="Symbol">:</a> <a id="317" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="321" href="Prelude.Irrelevance.html#295" class="Generalizable">a</a>
    <a id="327" href="Prelude.Irrelevance.html#327" class="Generalizable">B</a> <a id="329" class="Symbol">:</a> <a id="331" href="Prelude.Irrelevance.html#313" class="Generalizable">A</a> <a id="333" class="Symbol">→</a> <a id="335" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="339" href="Prelude.Irrelevance.html#297" class="Generalizable">b</a>
    <a id="345" href="Prelude.Irrelevance.html#345" class="Generalizable">P</a> <a id="347" class="Symbol">:</a> <a id="349" href="Prelude.Irrelevance.html#313" class="Generalizable">A</a> <a id="351" class="Symbol">→</a> <a id="353" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="357" href="Prelude.Irrelevance.html#299" class="Generalizable">p</a>

<a id="360" class="Keyword">record</a> <a id="Squashed"></a><a id="367" href="Prelude.Irrelevance.html#367" class="Record">Squashed</a> <a id="376" class="Symbol">(</a><a id="377" href="Prelude.Irrelevance.html#377" class="Bound">A</a> <a id="379" class="Symbol">:</a> <a id="381" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="385" href="Prelude.Irrelevance.html#295" class="Generalizable">a</a><a id="386" class="Symbol">)</a> <a id="388" class="Symbol">:</a> <a id="390" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="394" href="Prelude.Irrelevance.html#385" class="Bound">a</a> <a id="396" class="Keyword">where</a>
  <a id="404" class="Keyword">field</a>
    <a id="Squashed.∀≡"></a><a id="414" href="Prelude.Irrelevance.html#414" class="Field">∀≡</a> <a id="417" class="Symbol">:</a> <a id="419" class="Symbol">∀</a> <a id="421" class="Symbol">(</a><a id="422" href="Prelude.Irrelevance.html#422" class="Bound">x</a> <a id="424" href="Prelude.Irrelevance.html#424" class="Bound">y</a> <a id="426" class="Symbol">:</a> <a id="428" href="Prelude.Irrelevance.html#377" class="Bound">A</a><a id="429" class="Symbol">)</a> <a id="431" class="Symbol">→</a> <a id="433" href="Prelude.Irrelevance.html#422" class="Bound">x</a> <a id="435" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="437" href="Prelude.Irrelevance.html#424" class="Bound">y</a>

  <a id="Squashed._∀≡↝_"></a><a id="442" href="Prelude.Irrelevance.html#442" class="Function Operator">_∀≡↝_</a> <a id="448" class="Symbol">:</a> <a id="450" class="Symbol">∀</a> <a id="452" class="Symbol">{</a><a id="453" href="Prelude.Irrelevance.html#453" class="Bound">P</a> <a id="455" class="Symbol">:</a> <a id="457" href="Prelude.Irrelevance.html#377" class="Bound">A</a> <a id="459" class="Symbol">→</a> <a id="461" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="465" href="Prelude.Irrelevance.html#299" class="Generalizable">p</a><a id="466" class="Symbol">}</a> <a id="468" class="Symbol">→</a> <a id="470" href="Data.Product.html#1369" class="Function">∃</a> <a id="472" href="Prelude.Irrelevance.html#453" class="Bound">P</a> <a id="474" class="Symbol">→</a> <a id="476" class="Symbol">(</a><a id="477" href="Prelude.Irrelevance.html#477" class="Bound">x</a> <a id="479" class="Symbol">:</a> <a id="481" href="Prelude.Irrelevance.html#377" class="Bound">A</a><a id="482" class="Symbol">)</a> <a id="484" class="Symbol">→</a> <a id="486" href="Prelude.Irrelevance.html#453" class="Bound">P</a> <a id="488" href="Prelude.Irrelevance.html#477" class="Bound">x</a>
  <a id="492" href="Prelude.Irrelevance.html#442" class="Function Operator">_∀≡↝_</a> <a id="498" class="Symbol">(</a><a id="499" href="Prelude.Irrelevance.html#499" class="Bound">y</a> <a id="501" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="503" href="Prelude.Irrelevance.html#503" class="Bound">p</a><a id="504" class="Symbol">)</a> <a id="506" href="Prelude.Irrelevance.html#506" class="Bound">x</a> <a id="508" class="Keyword">rewrite</a> <a id="516" href="Prelude.Irrelevance.html#414" class="Field">∀≡</a> <a id="519" href="Prelude.Irrelevance.html#499" class="Bound">y</a> <a id="521" href="Prelude.Irrelevance.html#506" class="Bound">x</a> <a id="523" class="Symbol">=</a> <a id="525" href="Prelude.Irrelevance.html#503" class="Bound">p</a>
<a id="527" class="Keyword">open</a> <a id="532" href="Prelude.Irrelevance.html#367" class="Module">Squashed</a> <a id="541" class="Symbol">⦃</a> <a id="543" class="Symbol">...</a> <a id="547" class="Symbol">⦄</a> <a id="549" class="Keyword">public</a>

<a id="557" class="Keyword">instance</a>
  <a id="Squashed-⊤"></a><a id="568" href="Prelude.Irrelevance.html#568" class="Function">Squashed-⊤</a> <a id="579" class="Symbol">:</a> <a id="581" href="Prelude.Irrelevance.html#367" class="Record">Squashed</a> <a id="590" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="594" href="Prelude.Irrelevance.html#568" class="Function">Squashed-⊤</a> <a id="605" class="Symbol">.</a><a id="606" href="Prelude.Irrelevance.html#414" class="Field">∀≡</a> <a id="609" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="612" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="615" class="Symbol">=</a> <a id="617" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

  <a id="Dec-Σ"></a><a id="625" href="Prelude.Irrelevance.html#625" class="Function">Dec-Σ</a> <a id="631" class="Symbol">:</a> <a id="633" class="Symbol">⦃</a> <a id="635" href="Prelude.Irrelevance.html#635" class="Bound">_</a> <a id="637" class="Symbol">:</a> <a id="639" href="Prelude.Irrelevance.html#367" class="Record">Squashed</a> <a id="648" href="Prelude.Irrelevance.html#313" class="Generalizable">A</a> <a id="650" class="Symbol">⦄</a> <a id="652" class="Symbol">⦃</a> <a id="654" href="Prelude.Irrelevance.html#654" class="Bound">_</a> <a id="656" class="Symbol">:</a> <a id="658" href="Prelude.Irrelevance.html#313" class="Generalizable">A</a> <a id="660" href="Prelude.Decidable.html#143" class="Record Operator">⁇</a> <a id="662" class="Symbol">⦄</a> <a id="664" class="Symbol">⦃</a> <a id="666" href="Prelude.Irrelevance.html#666" class="Bound">_</a> <a id="668" class="Symbol">:</a> <a id="670" class="Symbol">∀</a> <a id="672" class="Symbol">{</a><a id="673" href="Prelude.Irrelevance.html#673" class="Bound">x</a><a id="674" class="Symbol">}</a> <a id="676" class="Symbol">→</a> <a id="678" href="Prelude.Irrelevance.html#327" class="Generalizable">B</a> <a id="680" href="Prelude.Irrelevance.html#673" class="Bound">x</a> <a id="682" href="Prelude.Decidable.html#143" class="Record Operator">⁇</a> <a id="684" class="Symbol">⦄</a> <a id="686" class="Symbol">→</a> <a id="688" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="690" href="Prelude.Irrelevance.html#313" class="Generalizable">A</a> <a id="692" href="Prelude.Irrelevance.html#327" class="Generalizable">B</a> <a id="694" href="Prelude.Decidable.html#143" class="Record Operator">⁇</a>
  <a id="698" href="Prelude.Irrelevance.html#625" class="Function">Dec-Σ</a> <a id="704" class="Symbol">.</a><a id="705" href="Prelude.Decidable.html#197" class="Field">dec</a>
    <a id="713" class="Keyword">with</a> <a id="718" href="Prelude.Decidable.html#197" class="Field">dec</a>
  <a id="724" class="Symbol">...</a> <a id="728" class="Symbol">|</a> <a id="730" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="733" href="Prelude.Irrelevance.html#733" class="Bound">¬x</a> <a id="736" class="Symbol">=</a> <a id="738" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="741" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="743" href="Prelude.Irrelevance.html#733" class="Bound">¬x</a> <a id="746" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="748" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a>
  <a id="756" class="Symbol">...</a> <a id="760" class="Symbol">|</a> <a id="762" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="766" href="Prelude.Irrelevance.html#766" class="Bound">x</a>
    <a id="772" class="Keyword">with</a> <a id="777" href="Prelude.Decidable.html#197" class="Field">dec</a>
  <a id="783" class="Symbol">...</a> <a id="787" class="Symbol">|</a> <a id="789" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="792" href="Prelude.Irrelevance.html#792" class="Bound">¬Px</a> <a id="796" class="Symbol">=</a> <a id="798" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="801" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="803" href="Prelude.Irrelevance.html#792" class="Bound">¬Px</a> <a id="807" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="809" class="Symbol">(</a><a id="810" href="Prelude.Irrelevance.html#442" class="Function Operator">_∀≡↝</a> <a id="815" class="Bound">x</a><a id="816" class="Symbol">)</a>
  <a id="820" class="Symbol">...</a> <a id="824" class="Symbol">|</a> <a id="826" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="830" href="Prelude.Irrelevance.html#830" class="Bound">Px</a> <a id="833" class="Symbol">=</a> <a id="835" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="839" class="Symbol">(</a><a id="840" class="Bound">x</a> <a id="842" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="844" href="Prelude.Irrelevance.html#830" class="Bound">Px</a><a id="846" class="Symbol">)</a>

<a id="849" class="Comment">-- open import Prelude.Lists</a>
<a id="878" class="Comment">-- private variable xs ys : List A</a>

<a id="914" class="Comment">-- Squashed-Unique×⊆ : Unique xs → Unique ys → Squashed (xs ⊆ ys)</a>
<a id="980" class="Comment">-- Squashed-Unique×⊆ {xs = xs} {ys = ys} ∀xs≡ ∀ys≡ .∀≡ xs⊆ xs⊆′ = {!!}</a>
<a id="1051" class="Comment">-- -- need extensionality...</a>

<a id="1081" class="Comment">-- Products with erased proj₂, aka refinements.</a>

<a id="1130" class="Keyword">private</a> <a id="1138" class="Keyword">variable</a> <a id="1147" href="Prelude.Irrelevance.html#1147" class="Generalizable">ℓ</a> <a id="1149" href="Prelude.Irrelevance.html#1149" class="Generalizable">ℓ′</a> <a id="1152" class="Symbol">:</a> <a id="1154" href="Agda.Primitive.html#597" class="Postulate">Level</a>

<a id="1161" class="Keyword">record</a> <a id="Σ₀"></a><a id="1168" href="Prelude.Irrelevance.html#1168" class="Record">Σ₀</a> <a id="1171" class="Symbol">(</a><a id="1172" href="Prelude.Irrelevance.html#1172" class="Bound">A</a> <a id="1174" class="Symbol">:</a> <a id="1176" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1180" href="Prelude.Irrelevance.html#1147" class="Generalizable">ℓ</a><a id="1181" class="Symbol">)</a> <a id="1183" class="Symbol">(</a><a id="1184" href="Prelude.Irrelevance.html#1184" class="Bound">P</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="Prelude.Irrelevance.html#1172" class="Bound">A</a> <a id="1190" class="Symbol">→</a> <a id="1192" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1196" href="Prelude.Irrelevance.html#1149" class="Generalizable">ℓ′</a><a id="1198" class="Symbol">)</a> <a id="1200" class="Symbol">:</a> <a id="1202" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1206" class="Symbol">(</a><a id="1207" href="Prelude.Irrelevance.html#1180" class="Bound">ℓ</a> <a id="1209" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1211" href="Prelude.Irrelevance.html#1196" class="Bound">ℓ′</a><a id="1213" class="Symbol">)</a> <a id="1215" class="Keyword">where</a>
  <a id="1223" class="Keyword">constructor</a> <a id="_,₀_"></a><a id="1235" href="Prelude.Irrelevance.html#1235" class="InductiveConstructor Operator">_,₀_</a>
  <a id="1242" class="Keyword">field</a>
    <a id="Σ₀.element"></a><a id="1252" href="Prelude.Irrelevance.html#1252" class="Field">element</a>   <a id="1262" class="Symbol">:</a> <a id="1264" href="Prelude.Irrelevance.html#1172" class="Bound">A</a>
    <a id="1270" class="Symbol">.</a><a id="Σ₀.property"></a><a id="1271" href="Prelude.Irrelevance.html#1271" class="Field">property</a> <a id="1280" class="Symbol">:</a> <a id="1282" href="Prelude.Irrelevance.html#1184" class="Bound">P</a> <a id="1284" href="Prelude.Irrelevance.html#1252" class="Field">element</a>
<a id="1292" class="Keyword">open</a> <a id="1297" href="Prelude.Irrelevance.html#1168" class="Module">Σ₀</a> <a id="1300" class="Keyword">public</a>
<a id="1307" class="Keyword">infixr</a> <a id="1314" class="Number">4</a> <a id="1316" href="Prelude.Irrelevance.html#1235" class="InductiveConstructor Operator">_,₀_</a>

<a id="1322" class="Keyword">infixr</a> <a id="1329" class="Number">2</a> <a id="1331" href="Prelude.Irrelevance.html#1337" class="Function Operator">_×₀_</a>

<a id="_×₀_"></a><a id="1337" href="Prelude.Irrelevance.html#1337" class="Function Operator">_×₀_</a> <a id="1342" class="Symbol">:</a> <a id="1344" class="Symbol">∀</a> <a id="1346" class="Symbol">(</a><a id="1347" href="Prelude.Irrelevance.html#1347" class="Bound">A</a> <a id="1349" class="Symbol">:</a> <a id="1351" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1355" href="Prelude.Irrelevance.html#1147" class="Generalizable">ℓ</a><a id="1356" class="Symbol">)</a> <a id="1358" class="Symbol">(</a><a id="1359" href="Prelude.Irrelevance.html#1359" class="Bound">B</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1367" href="Prelude.Irrelevance.html#1149" class="Generalizable">ℓ′</a><a id="1369" class="Symbol">)</a> <a id="1371" class="Symbol">→</a> <a id="1373" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1377" class="Symbol">(</a><a id="1378" href="Prelude.Irrelevance.html#1147" class="Generalizable">ℓ</a> <a id="1380" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1382" href="Prelude.Irrelevance.html#1149" class="Generalizable">ℓ′</a><a id="1384" class="Symbol">)</a>
<a id="1386" href="Prelude.Irrelevance.html#1386" class="Bound">A</a> <a id="1388" href="Prelude.Irrelevance.html#1337" class="Function Operator">×₀</a> <a id="1391" href="Prelude.Irrelevance.html#1391" class="Bound">B</a> <a id="1393" class="Symbol">=</a> <a id="1395" href="Prelude.Irrelevance.html#1168" class="Record">Σ₀</a> <a id="1398" href="Prelude.Irrelevance.html#1386" class="Bound">A</a> <a id="1400" class="Symbol">(</a><a id="1401" href="Function.Base.html#636" class="Function">const</a> <a id="1407" href="Prelude.Irrelevance.html#1391" class="Bound">B</a><a id="1408" class="Symbol">)</a>

<a id="∃₀"></a><a id="1411" href="Prelude.Irrelevance.html#1411" class="Function">∃₀</a> <a id="1414" class="Symbol">:</a> <a id="1416" class="Symbol">∀</a> <a id="1418" class="Symbol">{</a><a id="1419" href="Prelude.Irrelevance.html#1419" class="Bound">A</a> <a id="1421" class="Symbol">:</a> <a id="1423" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1427" href="Prelude.Irrelevance.html#1147" class="Generalizable">ℓ</a><a id="1428" class="Symbol">}</a> <a id="1430" class="Symbol">→</a> <a id="1432" class="Symbol">(</a><a id="1433" href="Prelude.Irrelevance.html#1419" class="Bound">A</a> <a id="1435" class="Symbol">→</a> <a id="1437" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1441" href="Prelude.Irrelevance.html#1149" class="Generalizable">ℓ′</a><a id="1443" class="Symbol">)</a> <a id="1445" class="Symbol">→</a> <a id="1447" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Prelude.Irrelevance.html#1147" class="Generalizable">ℓ</a> <a id="1454" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1456" href="Prelude.Irrelevance.html#1149" class="Generalizable">ℓ′</a><a id="1458" class="Symbol">)</a>
<a id="1460" href="Prelude.Irrelevance.html#1411" class="Function">∃₀</a> <a id="1463" class="Symbol">=</a> <a id="1465" href="Prelude.Irrelevance.html#1168" class="Record">Σ₀</a> <a id="1468" class="Symbol">_</a>

<a id="1471" class="Comment">{-
record Squash {a} (A : Set a) : Set a where
  constructor squash
  field
    .unsquash : A
open Squash public

¬squash : .(¬ A) → ¬ Squash A
¬squash ¬x (squash x) = {!¬x x!}

instance
  Dec-Squash : ⦃ _ : A ⁇ ⦄ → Squash A ⁇
  Dec-Squash .dec
    with dec
  ... | no ¬p = no (¬squash ¬p)
  ... | yes p = yes (squash p)

  Dec-Σ : ∀ ⦃ _ : A ⁇ ⦄ ⦃ _ : ∀ {x} → B x ⁇ ⦄ → Σ (Squash A) B ⁇
  Dec-Σ .dec
    with dec
  ... | no ¬x = no (¬x ∘ proj₁)
  ... | yes x
    with dec
  ... | no ¬Xx = no λ{ (squash _ , Xx) → ¬Xx Xx }
  ... | yes Xx = yes (x , Xx)
-}</a>
</pre></body></html>