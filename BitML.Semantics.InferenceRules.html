<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Semantics.InferenceRules</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml/tree/master/BitML/Semantics/InferenceRules.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-----------------------------------------------</a>
<a id="49" class="Comment">-- Small-step semantics for the BitML calculus</a>
<a id="96" class="Comment">-----------------------------------------------</a>
<a id="144" class="Keyword">open</a> <a id="149" class="Keyword">import</a> <a id="156" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="168" class="Symbol">;</a> <a id="170" class="Keyword">open</a> <a id="175" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="185" class="Keyword">open</a> <a id="190" class="Keyword">import</a> <a id="197" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="211" class="Keyword">open</a> <a id="216" class="Keyword">import</a> <a id="223" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="241" class="Keyword">open</a> <a id="246" class="Keyword">import</a> <a id="253" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Prelude.Sets.html" class="Module">Prelude.Sets</a>
<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Prelude.Nary.html" class="Module">Prelude.Nary</a> <a id="348" class="Keyword">hiding</a> <a id="355" class="Symbol">(</a><a id="356" href="Prelude.Nary.html#246" class="Function Operator">⟦_⟧</a><a id="359" class="Symbol">)</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="412" class="Keyword">open</a> <a id="417" class="Keyword">import</a> <a id="424" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="440" class="Keyword">open</a> <a id="445" class="Keyword">import</a> <a id="452" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="475" class="Keyword">open</a> <a id="480" class="Keyword">import</a> <a id="487" href="Prelude.Split.html" class="Module">Prelude.Split</a> <a id="501" class="Keyword">renaming</a> <a id="510" class="Symbol">(</a><a id="511" href="Prelude.Split.html#174" class="Field">split</a> <a id="517" class="Symbol">to</a> <a id="520" class="Field">mkSplit</a><a id="527" class="Symbol">)</a>
<a id="529" class="Keyword">open</a> <a id="534" class="Keyword">import</a> <a id="541" href="Prelude.Null.html" class="Module">Prelude.Null</a>

<a id="555" class="Keyword">open</a> <a id="560" class="Keyword">import</a> <a id="567" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="BitML.Predicate.html" class="Module">BitML.Predicate</a> <a id="612" class="Keyword">hiding</a> <a id="619" class="Symbol">(</a><a id="620" href="BitML.Predicate.html#347" class="InductiveConstructor">`</a><a id="621" class="Symbol">;</a> <a id="623" href="BitML.Predicate.html#366" class="InductiveConstructor Operator">∣_∣</a><a id="626" class="Symbol">)</a>

<a id="629" class="Keyword">module</a> <a id="636" href="BitML.Semantics.InferenceRules.html" class="Module">BitML.Semantics.InferenceRules</a>
  <a id="669" class="Symbol">(</a><a id="670" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="682" class="Symbol">:</a> <a id="684" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="688" class="Symbol">)</a>
  <a id="692" class="Symbol">⦃</a> <a id="694" href="BitML.Semantics.InferenceRules.html#694" class="Bound">_</a> <a id="696" class="Symbol">:</a> <a id="698" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="704" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="716" class="Symbol">⦄</a>
  <a id="720" class="Symbol">(</a><a id="721" href="BitML.Semantics.InferenceRules.html#721" class="Bound">Honest</a> <a id="728" class="Symbol">:</a> <a id="730" href="Data.List.NonEmpty.Base.html#1088" class="Record">List⁺</a> <a id="736" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a><a id="747" class="Symbol">)</a>
  <a id="751" class="Keyword">where</a>

<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="BitML.Contracts.html" class="Module">BitML.Contracts</a> <a id="786" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="798" href="BitML.Semantics.InferenceRules.html#721" class="Bound">Honest</a> <a id="805" class="Keyword">hiding</a> <a id="812" class="Symbol">(</a><a id="813" href="BitML.Contracts.Types.html#1383" class="Generalizable">d</a><a id="814" class="Symbol">)</a>
<a id="816" class="Keyword">open</a> <a id="821" class="Keyword">import</a> <a id="828" href="BitML.Semantics.Action.html" class="Module">BitML.Semantics.Action</a> <a id="851" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="863" href="BitML.Semantics.InferenceRules.html#721" class="Bound">Honest</a>
<a id="870" class="Keyword">open</a> <a id="875" class="Keyword">import</a> <a id="882" href="BitML.Semantics.Configurations.Types.html" class="Module">BitML.Semantics.Configurations.Types</a> <a id="919" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="931" href="BitML.Semantics.InferenceRules.html#721" class="Bound">Honest</a>
<a id="938" class="Keyword">open</a> <a id="943" class="Keyword">import</a> <a id="950" href="BitML.Semantics.Configurations.Helpers.html" class="Module">BitML.Semantics.Configurations.Helpers</a> <a id="989" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="1001" href="BitML.Semantics.InferenceRules.html#721" class="Bound">Honest</a>
<a id="1008" class="Keyword">open</a> <a id="1013" class="Keyword">import</a> <a id="1020" href="BitML.Semantics.Label.html" class="Module">BitML.Semantics.Label</a> <a id="1042" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="1054" href="BitML.Semantics.InferenceRules.html#721" class="Bound">Honest</a>
<a id="1061" class="Keyword">open</a> <a id="1066" class="Keyword">import</a> <a id="1073" href="BitML.Semantics.Predicate.html" class="Module">BitML.Semantics.Predicate</a> <a id="1099" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="1111" href="BitML.Semantics.InferenceRules.html#721" class="Bound">Honest</a>

<a id="1119" class="Comment">---------------------------------------------</a>
<a id="1165" class="Comment">-- Semantic rules for untimed configurations.</a>

<a id="1212" class="Comment">-- T0D0 freshness conditions are not completely accurate</a>
<a id="1269" class="Comment">-- i.e. using `ids Γ` does not examine names in authorization</a>

<a id="1332" class="Keyword">infix</a> <a id="1338" class="Number">-1</a> <a id="1341" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">_—[_]→_</a> <a id="1349" href="BitML.Semantics.InferenceRules.html#8764" class="Function Operator">_—[_]↛_</a>
<a id="1357" class="Keyword">data</a> <a id="_—[_]→_"></a><a id="1362" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">_—[_]→_</a> <a id="1370" class="Symbol">:</a> <a id="1372" href="BitML.Semantics.Configurations.Types.html#577" class="Datatype">Configuration</a> <a id="1386" class="Symbol">→</a> <a id="1388" href="BitML.Semantics.Label.html#554" class="Datatype">Label</a> <a id="1394" class="Symbol">→</a> <a id="1396" href="BitML.Semantics.Configurations.Types.html#577" class="Datatype">Configuration</a> <a id="1410" class="Symbol">→</a> <a id="1412" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1417" class="Keyword">where</a>

  <a id="1426" class="Comment">------------------------------</a>
  <a id="1459" class="Comment">-- i) Rules for deposits</a>

  <a id="_—[_]→_.[DEP-AuthJoin]"></a><a id="1487" href="BitML.Semantics.InferenceRules.html#1487" class="InductiveConstructor">[DEP-AuthJoin]</a> <a id="1502" class="Symbol">:</a>

    <a id="1509" href="Prelude.InferenceRules.html#40621" class="Function Operator">────────────────────────────────────────────────────────────────────────</a>
    <a id="1586" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="1588" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1590" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="1594" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="1596" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="1600" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="1602" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1604" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="1606" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1608" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="1612" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="1615" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="1619" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="1621" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1623" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="1631" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="1634" href="BitML.Semantics.Label.html#575" class="InductiveConstructor Operator">auth-join⦅</a> <a id="1645" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1647" href="BitML.Semantics.Label.html#575" class="InductiveConstructor Operator">,</a> <a id="1649" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="1651" href="BitML.Semantics.Label.html#575" class="InductiveConstructor Operator">↔</a> <a id="1653" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="1655" href="BitML.Semantics.Label.html#575" class="InductiveConstructor Operator">⦆</a> <a id="1657" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="1664" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="1666" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1668" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="1672" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="1674" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="1678" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="1680" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1682" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="1684" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1686" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="1690" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="1693" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="1697" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="1699" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1701" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1703" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="1709" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="1711" href="BitML.Semantics.Action.html#851" class="InductiveConstructor Operator">↔</a> <a id="1713" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="1715" href="BitML.Semantics.Action.html#851" class="InductiveConstructor Operator">▷⟨</a> <a id="1718" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1720" href="BitML.Semantics.Action.html#851" class="InductiveConstructor Operator">,</a> <a id="1722" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="1724" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1726" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="1729" href="BitML.Semantics.Action.html#851" class="InductiveConstructor Operator">⟩</a> <a id="1731" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="1733" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1735" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Join]"></a><a id="1741" href="BitML.Semantics.InferenceRules.html#1741" class="InductiveConstructor">[DEP-Join]</a> <a id="1752" class="Symbol">:</a>

    <a id="1759" href="BitML.BasicTypes.html#489" class="Generalizable">z</a> <a id="1761" href="Prelude.Membership.html#502" class="Function Operator">∉</a> <a id="1763" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="1765" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="1769" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="1771" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1773" href="BitML.Contracts.Helpers.html#5124" class="Function">ids</a> <a id="1777" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="1779" class="Comment">-- z fresh</a>
    <a id="1794" href="Prelude.InferenceRules.html#11460" class="Function Operator">────────────────────────────────────────────────────────────────────────</a>
    <a id="1871" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="1873" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1875" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="1879" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="1881" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="1885" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="1887" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1889" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="1891" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1893" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="1897" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="1900" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="1904" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="1906" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1908" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1910" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="1916" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="1918" href="BitML.Semantics.Action.html#851" class="InductiveConstructor Operator">↔</a> <a id="1920" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="1922" href="BitML.Semantics.Action.html#851" class="InductiveConstructor Operator">▷⟨</a> <a id="1925" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1927" href="BitML.Semantics.Action.html#851" class="InductiveConstructor Operator">,</a> <a id="1929" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="1931" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1933" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="1936" href="BitML.Semantics.Action.html#851" class="InductiveConstructor Operator">⟩</a> <a id="1938" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="1940" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1942" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="1950" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="1953" href="BitML.Semantics.Label.html#635" class="InductiveConstructor Operator">join⦅</a> <a id="1959" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="1961" href="BitML.Semantics.Label.html#635" class="InductiveConstructor Operator">↔</a> <a id="1963" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="1965" href="BitML.Semantics.Label.html#635" class="InductiveConstructor Operator">⦆</a> <a id="1967" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="1974" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="1976" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="1978" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="1982" class="Symbol">(</a><a id="1983" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="1985" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1987" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a><a id="1989" class="Symbol">)</a> <a id="1991" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="1995" href="BitML.BasicTypes.html#489" class="Generalizable">z</a> <a id="1997" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="1999" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDivide]"></a><a id="2005" href="BitML.Semantics.InferenceRules.html#2005" class="InductiveConstructor">[DEP-AuthDivide]</a> <a id="2022" class="Symbol">:</a>

    <a id="2029" href="Prelude.InferenceRules.html#42493" class="Function Operator">────────────────────────────────────────────────────────</a>
    <a id="2090" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2092" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2094" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2098" class="Symbol">(</a><a id="2099" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2101" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2103" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a><a id="2105" class="Symbol">)</a> <a id="2107" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2111" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2113" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2115" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="2123" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="2126" href="BitML.Semantics.Label.html#679" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="2139" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2141" href="BitML.Semantics.Label.html#679" class="InductiveConstructor Operator">,</a> <a id="2143" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2145" href="BitML.Semantics.Label.html#679" class="InductiveConstructor Operator">▷</a> <a id="2147" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2149" href="BitML.Semantics.Label.html#679" class="InductiveConstructor Operator">,</a> <a id="2151" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="2154" href="BitML.Semantics.Label.html#679" class="InductiveConstructor Operator">⦆</a> <a id="2156" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="2163" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2165" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2167" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2171" class="Symbol">(</a><a id="2172" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2174" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2176" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a><a id="2178" class="Symbol">)</a> <a id="2180" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2184" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2186" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2188" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2190" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="2196" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2198" href="BitML.Semantics.Action.html#927" class="InductiveConstructor Operator">▷⟨</a> <a id="2201" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2203" href="BitML.Semantics.Action.html#927" class="InductiveConstructor Operator">,</a> <a id="2205" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2207" href="BitML.Semantics.Action.html#927" class="InductiveConstructor Operator">,</a> <a id="2209" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="2212" href="BitML.Semantics.Action.html#927" class="InductiveConstructor Operator">⟩</a> <a id="2214" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="2216" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2218" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Divide]"></a><a id="2224" href="BitML.Semantics.InferenceRules.html#2224" class="InductiveConstructor">[DEP-Divide]</a> <a id="2237" class="Symbol">:</a>

    <a id="2244" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Prelude.Membership.html#502" class="Function Operator">_∉</a> <a id="2252" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2254" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="2258" href="BitML.Contracts.Helpers.html#5124" class="Function">ids</a> <a id="2262" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a><a id="2263" class="Symbol">)</a> <a id="2265" class="Symbol">(</a><a id="2266" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="2268" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2270" href="BitML.BasicTypes.html#494" class="Generalizable">y′</a> <a id="2273" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2275" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2277" class="Symbol">)</a> <a id="2279" class="Comment">-- y, y′ fresh</a>
    <a id="2298" href="Prelude.InferenceRules.html#12572" class="Function Operator">────────────────────────────────────────────────────────</a>
    <a id="2359" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2361" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2363" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2367" class="Symbol">(</a><a id="2368" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2370" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2372" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a><a id="2374" class="Symbol">)</a> <a id="2376" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2380" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2382" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2384" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2386" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="2392" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2394" href="BitML.Semantics.Action.html#927" class="InductiveConstructor Operator">▷⟨</a> <a id="2397" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2399" href="BitML.Semantics.Action.html#927" class="InductiveConstructor Operator">,</a> <a id="2401" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2403" href="BitML.Semantics.Action.html#927" class="InductiveConstructor Operator">,</a> <a id="2405" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="2408" href="BitML.Semantics.Action.html#927" class="InductiveConstructor Operator">⟩</a> <a id="2410" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="2412" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2414" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="2422" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="2425" href="BitML.Semantics.Label.html#757" class="InductiveConstructor Operator">divide⦅</a> <a id="2433" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2435" href="BitML.Semantics.Label.html#757" class="InductiveConstructor Operator">▷</a> <a id="2437" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2439" href="BitML.Semantics.Label.html#757" class="InductiveConstructor Operator">,</a> <a id="2441" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="2444" href="BitML.Semantics.Label.html#757" class="InductiveConstructor Operator">⦆</a> <a id="2446" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="2453" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2455" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2457" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2461" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2463" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2467" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="2469" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2471" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2473" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2475" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2479" href="BitML.BasicTypes.html#403" class="Generalizable">v′</a> <a id="2482" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2486" href="BitML.BasicTypes.html#494" class="Generalizable">y′</a> <a id="2489" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2491" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDonate]"></a><a id="2497" href="BitML.Semantics.InferenceRules.html#2497" class="InductiveConstructor">[DEP-AuthDonate]</a> <a id="2514" class="Symbol">:</a>

    <a id="2521" href="Prelude.InferenceRules.html#44599" class="Function Operator">──────────────────────────────────────</a>
    <a id="2564" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2566" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2568" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2572" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2574" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2578" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2580" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2582" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="2590" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="2593" href="BitML.Semantics.Label.html#821" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="2606" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2608" href="BitML.Semantics.Label.html#821" class="InductiveConstructor Operator">,</a> <a id="2610" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2612" href="BitML.Semantics.Label.html#821" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2615" href="BitML.Contracts.Types.html#534" class="Generalizable">B</a> <a id="2617" href="BitML.Semantics.Label.html#821" class="InductiveConstructor Operator">⦆</a> <a id="2619" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="2626" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2628" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2630" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2634" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2636" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2640" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2642" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2644" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2646" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="2652" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2654" href="BitML.Semantics.Action.html#1019" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2657" href="BitML.Contracts.Types.html#534" class="Generalizable">B</a> <a id="2659" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="2661" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2663" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Donate]"></a><a id="2669" href="BitML.Semantics.InferenceRules.html#2669" class="InductiveConstructor">[DEP-Donate]</a> <a id="2682" class="Symbol">:</a>

    <a id="2689" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="2691" href="Prelude.Membership.html#502" class="Function Operator">∉</a> <a id="2693" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2695" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="2699" href="BitML.Contracts.Helpers.html#5124" class="Function">ids</a> <a id="2703" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="2705" class="Comment">-- y fresh</a>
    <a id="2720" href="Prelude.InferenceRules.html#13517" class="Function Operator">──────────────────────────────────────</a>
    <a id="2763" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2765" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2767" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2771" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2773" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2777" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2779" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2781" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="2783" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="2789" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2791" href="BitML.Semantics.Action.html#1019" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2794" href="BitML.Contracts.Types.html#534" class="Generalizable">B</a> <a id="2796" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="2798" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2800" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="2808" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="2811" href="BitML.Semantics.Label.html#893" class="InductiveConstructor Operator">donate⦅</a> <a id="2819" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="2821" href="BitML.Semantics.Label.html#893" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2824" href="BitML.Contracts.Types.html#534" class="Generalizable">B</a> <a id="2826" href="BitML.Semantics.Label.html#893" class="InductiveConstructor Operator">⦆</a> <a id="2828" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="2835" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="2837" href="BitML.Contracts.Types.html#534" class="Generalizable">B</a> <a id="2839" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="2843" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="2845" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="2849" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="2851" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="2853" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDestroy]"></a><a id="2859" href="BitML.Semantics.InferenceRules.html#2859" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="2877" class="Symbol">:</a>
    <a id="2883" class="Symbol">∀</a> <a id="2885" class="Symbol">{</a><a id="2886" href="BitML.Semantics.InferenceRules.html#2886" class="Bound">ds</a> <a id="2889" class="Symbol">:</a> <a id="2891" href="BitML.Contracts.Types.html#3087" class="Function">DepositRefs</a><a id="2902" class="Symbol">}</a> <a id="2904" class="Symbol">{</a><a id="2905" href="BitML.Semantics.InferenceRules.html#2905" class="Bound">j</a> <a id="2907" class="Symbol">:</a> <a id="2909" href="Prelude.Lists.Indexed.html#492" class="Function">Index</a> <a id="2915" href="BitML.Semantics.InferenceRules.html#2886" class="Bound">ds</a><a id="2917" class="Symbol">}</a> <a id="2919" class="Symbol">→</a>

    <a id="2926" class="Keyword">let</a> <a id="2930" href="BitML.Semantics.InferenceRules.html#2930" class="Bound">xs</a> <a id="2933" class="Symbol">=</a> <a id="2935" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2939" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="2947" href="BitML.Semantics.InferenceRules.html#2886" class="Bound">ds</a>
        <a id="2958" href="BitML.Semantics.InferenceRules.html#2958" class="Bound">Aⱼ</a> <a id="2961" class="Symbol">=</a> <a id="2963" class="Symbol">(</a><a id="2964" href="BitML.Semantics.InferenceRules.html#2886" class="Bound">ds</a> <a id="2967" href="Prelude.Lists.Indexed.html#600" class="Function Operator">‼</a> <a id="2969" href="BitML.Semantics.InferenceRules.html#2905" class="Bound">j</a><a id="2970" class="Symbol">)</a> <a id="2972" class="Symbol">.</a><a id="2973" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="2987" href="BitML.Semantics.InferenceRules.html#2987" class="Bound">j′</a> <a id="2990" class="Symbol">=</a> <a id="2992" href="Prelude.Lists.Indexed.html#9672" class="Function">‼-map</a> <a id="2998" class="Symbol">{</a><a id="2999" class="Argument">xs</a> <a id="3002" class="Symbol">=</a> <a id="3004" href="BitML.Semantics.InferenceRules.html#2886" class="Bound">ds</a><a id="3006" class="Symbol">}</a> <a id="3008" href="BitML.Semantics.InferenceRules.html#2905" class="Bound">j</a>
        <a id="3018" href="BitML.Semantics.InferenceRules.html#3018" class="Bound">Δ</a>  <a id="3021" class="Symbol">=</a> <a id="3023" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="3026" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3030" class="Symbol">(</a><a id="3031" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="3040" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="3050" class="Symbol">)</a> <a id="3052" href="BitML.Semantics.InferenceRules.html#2886" class="Bound">ds</a>
    <a id="3059" class="Keyword">in</a>

    <a id="3067" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="3069" href="Prelude.Membership.html#502" class="Function Operator">∉</a> <a id="3071" href="BitML.Contracts.Helpers.html#5124" class="Function">ids</a> <a id="3075" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="3077" class="Comment">-- y fresh (except in destroy authorizations for xs)</a>
    <a id="3134" href="Prelude.InferenceRules.html#12185" class="Function Operator">──────────────────────────────────────────────────────────────</a>
    <a id="3201" href="BitML.Semantics.InferenceRules.html#3018" class="Bound">Δ</a> <a id="3203" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="3205" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="3213" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="3216" href="BitML.Semantics.Label.html#951" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="3230" href="BitML.Semantics.InferenceRules.html#2958" class="Bound">Aⱼ</a> <a id="3233" href="BitML.Semantics.Label.html#951" class="InductiveConstructor Operator">,</a> <a id="3235" href="BitML.Semantics.InferenceRules.html#2930" class="Bound">xs</a> <a id="3238" href="BitML.Semantics.Label.html#951" class="InductiveConstructor Operator">,</a> <a id="3240" href="BitML.Semantics.InferenceRules.html#2987" class="Bound">j′</a> <a id="3243" href="BitML.Semantics.Label.html#951" class="InductiveConstructor Operator">⦆</a> <a id="3245" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="3252" href="BitML.Semantics.InferenceRules.html#3018" class="Bound">Δ</a> <a id="3254" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="3256" href="BitML.Semantics.InferenceRules.html#2958" class="Bound">Aⱼ</a> <a id="3259" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="3265" href="BitML.Semantics.InferenceRules.html#2930" class="Bound">xs</a> <a id="3268" href="BitML.Semantics.Action.html#1097" class="InductiveConstructor Operator">,</a> <a id="3270" href="BitML.Semantics.InferenceRules.html#2987" class="Bound">j′</a> <a id="3273" href="BitML.Semantics.Action.html#1097" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3277" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="3279" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="3281" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="3283" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Destroy]"></a><a id="3289" href="BitML.Semantics.InferenceRules.html#3289" class="InductiveConstructor">[DEP-Destroy]</a> <a id="3303" class="Symbol">:</a>
    <a id="3309" class="Symbol">∀</a> <a id="3311" class="Symbol">{</a><a id="3312" href="BitML.Semantics.InferenceRules.html#3312" class="Bound">ds</a> <a id="3315" class="Symbol">:</a> <a id="3317" href="BitML.Contracts.Types.html#3087" class="Function">DepositRefs</a><a id="3328" class="Symbol">}</a> <a id="3330" class="Symbol">→</a>

    <a id="3337" class="Keyword">let</a>
      <a id="3347" href="BitML.Semantics.InferenceRules.html#3347" class="Bound">xs</a> <a id="3350" class="Symbol">=</a> <a id="3352" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3356" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="3364" href="BitML.Semantics.InferenceRules.html#3312" class="Bound">ds</a>
      <a id="3373" href="BitML.Semantics.InferenceRules.html#3373" class="Bound">Δ</a>  <a id="3376" class="Symbol">=</a> <a id="3378" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="3381" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3385" class="Symbol">(λ{</a> <a id="3389" class="Symbol">(</a><a id="3390" href="BitML.Semantics.InferenceRules.html#3390" class="Bound">i</a> <a id="3392" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3394" href="BitML.Semantics.InferenceRules.html#3394" class="Bound">Aᵢ</a> <a id="3397" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3399" href="BitML.Semantics.InferenceRules.html#3399" class="Bound">vᵢ</a> <a id="3402" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3404" href="BitML.Semantics.InferenceRules.html#3404" class="Bound">xᵢ</a><a id="3406" class="Symbol">)</a> <a id="3408" class="Symbol">→</a>
                <a id="3426" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="3428" href="BitML.Semantics.InferenceRules.html#3394" class="Bound">Aᵢ</a> <a id="3431" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="3435" href="BitML.Semantics.InferenceRules.html#3399" class="Bound">vᵢ</a> <a id="3438" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="3442" href="BitML.Semantics.InferenceRules.html#3404" class="Bound">xᵢ</a> <a id="3445" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="3447" href="BitML.Semantics.InferenceRules.html#3394" class="Bound">Aᵢ</a> <a id="3450" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="3456" href="BitML.Semantics.InferenceRules.html#3347" class="Bound">xs</a> <a id="3459" href="BitML.Semantics.Action.html#1097" class="InductiveConstructor Operator">,</a> <a id="3461" href="Prelude.Lists.Indexed.html#9672" class="Function">‼-map</a> <a id="3467" class="Symbol">{</a><a id="3468" class="Argument">xs</a> <a id="3471" class="Symbol">=</a> <a id="3473" href="BitML.Semantics.InferenceRules.html#3312" class="Bound">ds</a><a id="3475" class="Symbol">}</a> <a id="3477" href="BitML.Semantics.InferenceRules.html#3390" class="Bound">i</a> <a id="3479" href="BitML.Semantics.Action.html#1097" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3483" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="3485" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a>
              <a id="3501" class="Symbol">})</a> <a id="3504" class="Symbol">(</a><a id="3505" href="Prelude.Lists.Indexed.html#1518" class="Function">enumerate</a> <a id="3515" href="BitML.Semantics.InferenceRules.html#3312" class="Bound">ds</a><a id="3517" class="Symbol">)</a>
    <a id="3523" class="Keyword">in</a>
    <a id="3530" href="Prelude.InferenceRules.html#40621" class="Function Operator">────────────────────────────────────────────────────────────────────────</a>
    <a id="3607" href="BitML.Semantics.InferenceRules.html#3373" class="Bound">Δ</a> <a id="3609" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="3611" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="3619" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="3622" href="BitML.Semantics.Label.html#1028" class="InductiveConstructor Operator">destroy⦅</a> <a id="3631" href="BitML.Semantics.InferenceRules.html#3347" class="Bound">xs</a> <a id="3634" href="BitML.Semantics.Label.html#1028" class="InductiveConstructor Operator">⦆</a> <a id="3636" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="3643" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>

  <a id="3648" class="Comment">------------------------------------------------------------</a>
  <a id="3711" class="Comment">-- ii) Rules for contract advertisements and stipulation</a>

  <a id="_—[_]→_.[C-Advertise]"></a><a id="3771" href="BitML.Semantics.InferenceRules.html#3771" class="InductiveConstructor">[C-Advertise]</a> <a id="3785" class="Symbol">:</a> <a id="3787" class="Keyword">let</a> <a id="3791" href="BitML.Contracts.Types.html#2530" class="InductiveConstructor Operator">⟨</a> <a id="3793" href="BitML.Semantics.InferenceRules.html#3793" class="Bound">G</a> <a id="3795" href="BitML.Contracts.Types.html#2530" class="InductiveConstructor Operator">⟩</a> <a id="3797" class="Symbol">_</a> <a id="3799" class="Symbol">=</a> <a id="3801" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a><a id="3803" class="Symbol">;</a> <a id="3805" href="BitML.Semantics.InferenceRules.html#3805" class="Bound">partG</a> <a id="3811" class="Symbol">=</a> <a id="3813" href="BitML.Contracts.Helpers.html#3407" class="Function">nub-participants</a> <a id="3830" href="BitML.Semantics.InferenceRules.html#3793" class="Bound">G</a> <a id="3832" class="Keyword">in</a>

    <a id="3840" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="3842" href="BitML.Contracts.Validity.html#1738" class="Record">ValidAdvertisement</a> <a id="3861" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a>    <a id="3867" class="Comment">-- the advertisement is valid</a>
    <a id="3901" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="3903" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="3907" class="Symbol">(</a><a id="3908" href="Prelude.Membership.html#428" class="Field Operator">_∈</a> <a id="3911" href="BitML.Contracts.Types.html#499" class="Function">Hon</a><a id="3914" class="Symbol">)</a> <a id="3916" href="BitML.Semantics.InferenceRules.html#3805" class="Bound">partG</a>       <a id="3928" class="Comment">-- at least one honest participant</a>
    <a id="3967" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="3969" href="BitML.Contracts.Helpers.html#6633" class="Function">deposits</a> <a id="3978" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="3981" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="3983" href="BitML.Contracts.Helpers.html#6633" class="Function">deposits</a> <a id="3992" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="3994" class="Comment">-- all persistent deposits in place</a>
      <a id="4036" href="Prelude.InferenceRules.html#12318" class="Function Operator">────────────────────────────────────────────────────────────</a>
      <a id="4103" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="4105" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="4108" href="BitML.Semantics.Label.html#1070" class="InductiveConstructor Operator">advertise⦅</a> <a id="4119" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="4122" href="BitML.Semantics.Label.html#1070" class="InductiveConstructor Operator">⦆</a> <a id="4124" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a> <a id="4127" href="BitML.Semantics.Configurations.Types.html#667" class="InductiveConstructor Operator">`</a> <a id="4129" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="4132" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="4134" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthCommit]"></a><a id="4140" href="BitML.Semantics.InferenceRules.html#4140" class="InductiveConstructor">[C-AuthCommit]</a> <a id="4155" class="Symbol">:</a> <a id="4157" class="Keyword">let</a> <a id="4161" href="BitML.Contracts.Types.html#2530" class="InductiveConstructor Operator">⟨</a> <a id="4163" href="BitML.Semantics.InferenceRules.html#4163" class="Bound">G</a> <a id="4165" href="BitML.Contracts.Types.html#2530" class="InductiveConstructor Operator">⟩</a> <a id="4167" class="Symbol">_</a> <a id="4169" class="Symbol">=</a> <a id="4171" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="4174" class="Keyword">in</a>
    <a id="4181" class="Symbol">∀</a> <a id="4183" class="Symbol">{</a><a id="4184" href="BitML.Semantics.InferenceRules.html#4184" class="Bound">secrets</a> <a id="4192" class="Symbol">:</a> <a id="4194" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4199" class="Symbol">(</a><a id="4200" href="BitML.BasicTypes.html#261" class="Function">Secret</a> <a id="4207" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4209" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4215" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="4216" class="Symbol">)}</a> <a id="4219" class="Symbol">→</a>

    <a id="4226" class="Keyword">let</a> <a id="4230" class="Symbol">(</a><a id="4231" href="BitML.Semantics.InferenceRules.html#4231" class="Bound">as</a> <a id="4234" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4236" href="BitML.Semantics.InferenceRules.html#4236" class="Bound">ms</a><a id="4238" class="Symbol">)</a> <a id="4240" class="Symbol">=</a> <a id="4242" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="4248" href="BitML.Semantics.InferenceRules.html#4184" class="Bound">secrets</a>
        <a id="4264" href="BitML.Semantics.InferenceRules.html#4264" class="Bound">Δ</a>         <a id="4274" class="Symbol">=</a> <a id="4276" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="4279" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4283" class="Symbol">(</a><a id="4284" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="4292" href="BitML.Semantics.Configurations.Types.html#1044" class="InductiveConstructor Operator">⟨</a> <a id="4294" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="4296" href="BitML.Semantics.Configurations.Types.html#1044" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4301" class="Symbol">)</a> <a id="4303" href="BitML.Semantics.InferenceRules.html#4184" class="Bound">secrets</a>
    <a id="4315" class="Keyword">in</a>

    <a id="4323" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="4325" href="BitML.Semantics.InferenceRules.html#4231" class="Bound">as</a> <a id="4328" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4330" href="BitML.Contracts.Helpers.html#7411" class="Function">secretsOfᵖ</a> <a id="4341" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="4343" href="BitML.Semantics.InferenceRules.html#4163" class="Bound">G</a>         <a id="4353" class="Comment">-- a₁..aₖ secrets of A in G</a>
    <a id="4385" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="4387" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4391" class="Symbol">(</a><a id="4392" href="Prelude.Membership.html#502" class="Function Operator">_∉</a> <a id="4395" href="BitML.Semantics.Configurations.Helpers.html#11386" class="Function">secretsOfᶜᶠ</a> <a id="4407" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="4409" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a><a id="4410" class="Symbol">)</a> <a id="4412" href="BitML.Semantics.InferenceRules.html#4231" class="Bound">as</a> <a id="4415" class="Comment">-- ∀i ∈ 1..k : ∄N : {A : aᵢ ♯ N} ∈ Γ</a>
    <a id="4456" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="4458" class="Symbol">(</a><a id="4459" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="4461" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="4463" href="BitML.Contracts.Types.html#499" class="Function">Hon</a> <a id="4467" class="Symbol">→</a> <a id="4469" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4473" href="Data.Maybe.html#810" class="Function">Is-just</a> <a id="4481" href="BitML.Semantics.InferenceRules.html#4236" class="Bound">ms</a><a id="4483" class="Symbol">)</a>  <a id="4486" class="Comment">-- honest participants commit to valid lengths</a>
      <a id="4539" href="Prelude.InferenceRules.html#11303" class="Function Operator">──────────────────────────────────────────────────────────────────────────</a>
      <a id="4620" href="BitML.Semantics.Configurations.Types.html#667" class="InductiveConstructor Operator">`</a> <a id="4622" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="4625" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="4627" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
        <a id="4637" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="4640" href="BitML.Semantics.Label.html#1129" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="4653" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="4655" href="BitML.Semantics.Label.html#1129" class="InductiveConstructor Operator">,</a> <a id="4657" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="4660" href="BitML.Semantics.Label.html#1129" class="InductiveConstructor Operator">,</a> <a id="4662" href="BitML.Semantics.InferenceRules.html#4184" class="Bound">secrets</a> <a id="4670" href="BitML.Semantics.Label.html#1129" class="InductiveConstructor Operator">⦆</a> <a id="4672" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
      <a id="4681" href="BitML.Semantics.Configurations.Types.html#667" class="InductiveConstructor Operator">`</a> <a id="4683" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="4686" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="4688" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="4690" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="4692" href="BitML.Semantics.InferenceRules.html#4264" class="Bound">Δ</a> <a id="4694" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="4696" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="4698" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="4704" href="BitML.Semantics.Action.html#684" class="InductiveConstructor Operator">♯▷</a> <a id="4707" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="4710" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-AuthInit]"></a><a id="4716" href="BitML.Semantics.InferenceRules.html#4716" class="InductiveConstructor">[C-AuthInit]</a> <a id="4729" class="Symbol">:</a> <a id="4731" class="Keyword">let</a> <a id="4735" href="BitML.Contracts.Types.html#2530" class="InductiveConstructor Operator">⟨</a> <a id="4737" href="BitML.Semantics.InferenceRules.html#4737" class="Bound">G</a> <a id="4739" href="BitML.Contracts.Types.html#2530" class="InductiveConstructor Operator">⟩</a> <a id="4741" class="Symbol">_</a> <a id="4743" class="Symbol">=</a> <a id="4745" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a><a id="4747" class="Symbol">;</a> <a id="4749" href="BitML.Semantics.InferenceRules.html#4749" class="Bound">partG</a> <a id="4755" class="Symbol">=</a> <a id="4757" href="BitML.Contracts.Helpers.html#3407" class="Function">nub-participants</a> <a id="4774" href="BitML.Semantics.InferenceRules.html#4737" class="Bound">G</a> <a id="4776" class="Keyword">in</a>

    <a id="4784" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="4786" href="BitML.Semantics.InferenceRules.html#4749" class="Bound">partG</a> <a id="4792" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="4794" href="BitML.Semantics.Configurations.Helpers.html#11615" class="Function">committedParticipants</a> <a id="4816" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="4819" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="4821" class="Comment">-- all participants have committed their secrets</a>
    <a id="4874" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="4876" class="Symbol">(</a><a id="4877" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="4879" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4881" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="4883" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4885" href="BitML.BasicTypes.html#485" class="Generalizable">x</a><a id="4886" class="Symbol">)</a> <a id="4888" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="4890" href="BitML.Contracts.Helpers.html#8767" class="Function">persistentDeposits</a> <a id="4909" href="BitML.Semantics.InferenceRules.html#4737" class="Bound">G</a> <a id="4911" class="Comment">-- G = A :! v @ x | ...</a>
      <a id="4941" href="Prelude.InferenceRules.html#10547" class="Function Operator">───────────────────────────────────────────────────────────────────────────────────</a>
      <a id="5031" href="BitML.Semantics.Configurations.Types.html#667" class="InductiveConstructor Operator">`</a> <a id="5033" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="5036" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="5038" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
        <a id="5048" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="5051" href="BitML.Semantics.Label.html#1226" class="InductiveConstructor Operator">auth-init⦅</a> <a id="5062" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="5064" href="BitML.Semantics.Label.html#1226" class="InductiveConstructor Operator">,</a> <a id="5066" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="5069" href="BitML.Semantics.Label.html#1226" class="InductiveConstructor Operator">,</a> <a id="5071" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="5073" href="BitML.Semantics.Label.html#1226" class="InductiveConstructor Operator">⦆</a> <a id="5075" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
      <a id="5084" href="BitML.Semantics.Configurations.Types.html#667" class="InductiveConstructor Operator">`</a> <a id="5086" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="5089" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="5091" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="5093" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="5095" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="5097" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="5103" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="5105" href="BitML.Semantics.Action.html#747" class="InductiveConstructor Operator">▷ˢ</a> <a id="5108" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="5111" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-Init]"></a><a id="5117" href="BitML.Semantics.InferenceRules.html#5117" class="InductiveConstructor">[C-Init]</a> <a id="5126" class="Symbol">:</a> <a id="5128" class="Keyword">let</a> <a id="5132" href="BitML.Contracts.Types.html#2530" class="InductiveConstructor Operator">⟨</a> <a id="5134" href="BitML.Semantics.InferenceRules.html#5134" class="Bound">G</a> <a id="5136" href="BitML.Contracts.Types.html#2530" class="InductiveConstructor Operator">⟩</a> <a id="5138" href="BitML.Semantics.InferenceRules.html#5138" class="Bound">C</a> <a id="5140" class="Symbol">=</a> <a id="5142" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a><a id="5144" class="Symbol">;</a> <a id="5146" href="BitML.Semantics.InferenceRules.html#5146" class="Bound">partG</a> <a id="5152" class="Symbol">=</a> <a id="5154" href="BitML.Contracts.Helpers.html#3407" class="Function">nub-participants</a> <a id="5171" href="BitML.Semantics.InferenceRules.html#5134" class="Bound">G</a> <a id="5173" class="Keyword">in</a>

    <a id="5181" class="Comment">-- all participants have committed their secrets (guaranteed from [C-AuthInit])</a>

    <a id="5266" class="Keyword">let</a> <a id="5270" href="BitML.Semantics.InferenceRules.html#5270" class="Bound">toSpend</a> <a id="5278" class="Symbol">=</a> <a id="5280" href="BitML.Contracts.Helpers.html#8767" class="Function">persistentDeposits</a> <a id="5299" href="BitML.Semantics.InferenceRules.html#5134" class="Bound">G</a>
        <a id="5309" href="BitML.Semantics.InferenceRules.html#5309" class="Bound">vs</a>      <a id="5317" class="Symbol">=</a> <a id="5319" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5323" href="Prelude.Nary.html#2292" class="Function">select₂</a> <a id="5331" href="BitML.Semantics.InferenceRules.html#5270" class="Bound">toSpend</a>
        <a id="5347" href="BitML.Semantics.InferenceRules.html#5347" class="Bound">xs</a>      <a id="5355" class="Symbol">=</a> <a id="5357" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5361" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="5369" href="BitML.Semantics.InferenceRules.html#5270" class="Bound">toSpend</a>
    <a id="5381" class="Keyword">in</a>

    <a id="5389" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="5391" href="Prelude.Membership.html#502" class="Function Operator">∉</a> <a id="5393" href="BitML.Semantics.InferenceRules.html#5347" class="Bound">xs</a> <a id="5396" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5399" href="BitML.Contracts.Helpers.html#5124" class="Function">ids</a> <a id="5403" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="5405" class="Comment">-- x fresh</a>
    <a id="5420" href="Prelude.InferenceRules.html#10635" class="Function Operator">──────────────────────────────────────────────────────────────────────────────────</a>
    <a id="5507" href="BitML.Semantics.Configurations.Types.html#667" class="InductiveConstructor Operator">`</a> <a id="5509" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a>
    <a id="5516" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="5518" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
    <a id="5524" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="5526" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="5529" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5533" class="Symbol">(λ{</a> <a id="5537" class="Symbol">(</a><a id="5538" href="BitML.Semantics.InferenceRules.html#5538" class="Bound">Aᵢ</a> <a id="5541" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5543" href="BitML.Semantics.InferenceRules.html#5543" class="Bound">vᵢ</a> <a id="5546" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5548" href="BitML.Semantics.InferenceRules.html#5548" class="Bound">xᵢ</a><a id="5550" class="Symbol">)</a> <a id="5552" class="Symbol">→</a> <a id="5554" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="5556" href="BitML.Semantics.InferenceRules.html#5538" class="Bound">Aᵢ</a> <a id="5559" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="5563" href="BitML.Semantics.InferenceRules.html#5543" class="Bound">vᵢ</a> <a id="5566" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="5570" href="BitML.Semantics.InferenceRules.html#5548" class="Bound">xᵢ</a> <a id="5573" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="5575" href="BitML.Semantics.InferenceRules.html#5538" class="Bound">Aᵢ</a> <a id="5578" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="5584" href="BitML.Semantics.InferenceRules.html#5548" class="Bound">xᵢ</a> <a id="5587" href="BitML.Semantics.Action.html#747" class="InductiveConstructor Operator">▷ˢ</a> <a id="5590" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="5593" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="5595" class="Symbol">})</a> <a id="5598" href="BitML.Semantics.InferenceRules.html#5270" class="Bound">toSpend</a>
    <a id="5610" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="5612" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="5615" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5619" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">_auth[</a> <a id="5626" href="BitML.Semantics.Action.html#684" class="InductiveConstructor Operator">♯▷</a> <a id="5629" href="BitML.Contracts.Types.html#2731" class="Generalizable">ad</a> <a id="5632" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="5634" href="BitML.Semantics.InferenceRules.html#5146" class="Bound">partG</a>
      <a id="5646" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="5649" href="BitML.Semantics.Label.html#1300" class="InductiveConstructor Operator">init⦅</a> <a id="5655" href="BitML.Semantics.InferenceRules.html#5134" class="Bound">G</a> <a id="5657" href="BitML.Semantics.Label.html#1300" class="InductiveConstructor Operator">,</a> <a id="5659" href="BitML.Semantics.InferenceRules.html#5138" class="Bound">C</a> <a id="5661" href="BitML.Semantics.Label.html#1300" class="InductiveConstructor Operator">⦆</a> <a id="5663" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="5670" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="5672" href="BitML.Semantics.InferenceRules.html#5138" class="Bound">C</a> <a id="5674" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="5676" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="5680" href="BitML.Semantics.InferenceRules.html#5309" class="Bound">vs</a> <a id="5683" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="5687" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="5689" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="5691" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>

  <a id="5696" class="Comment">---------------------------------------------------</a>
  <a id="5750" class="Comment">-- iii) Rules for executing active contracts</a>

  <a id="_—[_]→_.[C-Split]"></a><a id="5798" href="BitML.Semantics.InferenceRules.html#5798" class="InductiveConstructor">[C-Split]</a> <a id="5808" class="Symbol">:</a>
    <a id="5814" class="Symbol">∀</a> <a id="5816" class="Symbol">{</a><a id="5817" href="BitML.Semantics.InferenceRules.html#5817" class="Bound">vcis</a> <a id="5822" class="Symbol">:</a> <a id="5824" href="BitML.Contracts.Types.html#755" class="Function">VIContracts</a><a id="5835" class="Symbol">}</a> <a id="5837" class="Symbol">→</a>

    <a id="5844" class="Keyword">let</a> <a id="5848" class="Symbol">(</a><a id="5849" href="BitML.Semantics.InferenceRules.html#5849" class="Bound">vs</a> <a id="5852" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5854" href="BitML.Semantics.InferenceRules.html#5854" class="Bound">cs</a> <a id="5857" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5859" href="BitML.Semantics.InferenceRules.html#5859" class="Bound">ys</a><a id="5861" class="Symbol">)</a> <a id="5863" class="Symbol">=</a> <a id="5865" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="5872" href="BitML.Semantics.InferenceRules.html#5817" class="Bound">vcis</a> <a id="5877" class="Keyword">in</a>

    <a id="5885" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="5889" class="Symbol">(</a><a id="5890" href="Prelude.Membership.html#502" class="Function Operator">_∉</a> <a id="5893" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="5895" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="5899" href="BitML.Contracts.Helpers.html#5124" class="Function">ids</a> <a id="5903" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a><a id="5904" class="Symbol">)</a> <a id="5906" href="BitML.Semantics.InferenceRules.html#5859" class="Bound">ys</a> <a id="5909" class="Comment">-- ys fresh</a>
    <a id="5925" href="Prelude.InferenceRules.html#13335" class="Function Operator">──────────────────────────────────────────</a>
    <a id="5972" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="5974" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="5976" href="BitML.Contracts.Types.html#1102" class="InductiveConstructor">split</a> <a id="5982" class="Symbol">(</a><a id="5983" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="5987" href="BitML.Semantics.InferenceRules.html#5849" class="Bound">vs</a> <a id="5990" href="BitML.Semantics.InferenceRules.html#5854" class="Bound">cs</a><a id="5992" class="Symbol">)</a> <a id="5994" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="5996" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="5998" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="6002" href="BitML.Semantics.InferenceRules.html#5849" class="Bound">vs</a> <a id="6005" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="6009" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="6011" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6013" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="6021" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="6024" href="BitML.Semantics.Label.html#1360" class="InductiveConstructor Operator">split⦅</a> <a id="6031" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="6033" href="BitML.Semantics.Label.html#1360" class="InductiveConstructor Operator">⦆</a> <a id="6035" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="6042" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="6045" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6049" class="Symbol">(</a><a id="6050" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="6059" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6061" href="Function.Base.html#1563" class="Function">flip</a> <a id="6066" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="6074" class="Symbol">)</a> <a id="6076" href="BitML.Semantics.InferenceRules.html#5817" class="Bound">vcis</a> <a id="6081" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6083" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthRev]"></a><a id="6089" href="BitML.Semantics.InferenceRules.html#6089" class="InductiveConstructor">[C-AuthRev]</a> <a id="6101" class="Symbol">:</a>

    <a id="6108" href="Prelude.InferenceRules.html#46120" class="Function Operator">─────────────────────────</a>
    <a id="6138" href="BitML.Semantics.Configurations.Types.html#1044" class="InductiveConstructor Operator">⟨</a> <a id="6140" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="6142" href="BitML.Semantics.Configurations.Types.html#1044" class="InductiveConstructor Operator">∶</a> <a id="6144" href="BitML.BasicTypes.html#442" class="Generalizable">a</a> <a id="6146" href="BitML.Semantics.Configurations.Types.html#1044" class="InductiveConstructor Operator">♯</a> <a id="6148" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="6153" href="BitML.BasicTypes.html#392" class="Generalizable">n</a> <a id="6155" href="BitML.Semantics.Configurations.Types.html#1044" class="InductiveConstructor Operator">⟩</a> <a id="6157" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6159" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="6167" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="6170" href="BitML.Semantics.Label.html#1396" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="6180" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="6182" href="BitML.Semantics.Label.html#1396" class="InductiveConstructor Operator">,</a> <a id="6184" href="BitML.BasicTypes.html#442" class="Generalizable">a</a> <a id="6186" href="BitML.Semantics.Label.html#1396" class="InductiveConstructor Operator">⦆</a> <a id="6188" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="6195" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="6197" href="BitML.Semantics.Configurations.Types.html#1144" class="InductiveConstructor Operator">∶</a> <a id="6199" href="BitML.BasicTypes.html#442" class="Generalizable">a</a> <a id="6201" href="BitML.Semantics.Configurations.Types.html#1144" class="InductiveConstructor Operator">♯</a> <a id="6203" href="BitML.BasicTypes.html#392" class="Generalizable">n</a> <a id="6205" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6207" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-PutRev]"></a><a id="6213" href="BitML.Semantics.InferenceRules.html#6213" class="InductiveConstructor">[C-PutRev]</a> <a id="6224" class="Symbol">:</a>
    <a id="6230" class="Symbol">∀</a> <a id="6232" class="Symbol">{</a><a id="6233" href="BitML.Semantics.InferenceRules.html#6233" class="Bound">ds</a> <a id="6236" class="Symbol">:</a> <a id="6238" href="BitML.Contracts.Types.html#3087" class="Function">DepositRefs</a><a id="6249" class="Symbol">}</a>
      <a id="6257" class="Symbol">{</a><a id="6258" href="BitML.Semantics.InferenceRules.html#6258" class="Bound">ss</a> <a id="6261" class="Symbol">:</a> <a id="6263" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="6268" class="Symbol">(</a><a id="6269" href="BitML.Semantics.InferenceRules.html#670" class="Bound">Participant</a> <a id="6281" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="6283" href="BitML.BasicTypes.html#261" class="Function">Secret</a> <a id="6290" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="6292" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="6293" class="Symbol">)}</a> <a id="6296" class="Symbol">→</a>

    <a id="6303" class="Keyword">let</a> <a id="6307" class="Symbol">(_</a> <a id="6310" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6312" href="BitML.Semantics.InferenceRules.html#6312" class="Bound">vs</a> <a id="6315" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6317" href="BitML.Semantics.InferenceRules.html#6317" class="Bound">xs</a><a id="6319" class="Symbol">)</a> <a id="6321" class="Symbol">=</a> <a id="6323" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="6330" href="BitML.Semantics.InferenceRules.html#6233" class="Bound">ds</a>
        <a id="6341" class="Symbol">(_</a> <a id="6344" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6346" href="BitML.Semantics.InferenceRules.html#6346" class="Bound">as</a> <a id="6349" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6351" class="Symbol">_)</a>  <a id="6355" class="Symbol">=</a> <a id="6357" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="6364" href="BitML.Semantics.InferenceRules.html#6258" class="Bound">ss</a>
        <a id="6375" href="BitML.Semantics.InferenceRules.html#6375" class="Bound">Γ</a> <a id="6377" class="Symbol">=</a> <a id="6379" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="6382" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6386" class="Symbol">(</a><a id="6387" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="6396" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="6406" class="Symbol">)</a> <a id="6408" href="BitML.Semantics.InferenceRules.html#6233" class="Bound">ds</a>
        <a id="6419" href="BitML.Semantics.InferenceRules.html#6419" class="Bound">Δ</a> <a id="6421" class="Symbol">=</a> <a id="6423" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="6426" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6430" class="Symbol">(</a><a id="6431" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="6440" href="BitML.Semantics.Configurations.Types.html#1144" class="InductiveConstructor Operator">_∶_♯_</a><a id="6445" class="Symbol">)</a> <a id="6447" href="BitML.Semantics.InferenceRules.html#6258" class="Bound">ss</a>
        <a id="6458" href="BitML.Semantics.InferenceRules.html#6458" class="Bound">ΔΓ′</a> <a id="6462" class="Symbol">=</a> <a id="6464" href="BitML.Semantics.InferenceRules.html#6419" class="Bound">Δ</a> <a id="6466" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6468" href="BitML.Semantics.Configurations.Types.html#1429" class="Generalizable">Γ′</a>
    <a id="6475" class="Keyword">in</a>

    <a id="6483" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="6485" href="BitML.BasicTypes.html#489" class="Generalizable">z</a> <a id="6487" href="Prelude.Membership.html#502" class="Function Operator">∉</a> <a id="6489" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="6491" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="6495" href="BitML.Contracts.Helpers.html#5124" class="Function">ids</a> <a id="6499" class="Symbol">(</a><a id="6500" href="BitML.Semantics.InferenceRules.html#6375" class="Bound">Γ</a> <a id="6502" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6504" href="BitML.Semantics.InferenceRules.html#6458" class="Bound">ΔΓ′</a><a id="6507" class="Symbol">)</a> <a id="6509" class="Comment">-- z fresh</a>
    <a id="6524" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="6526" href="BitML.Semantics.Predicate.html#1145" class="Function Operator">⟦</a> <a id="6528" href="BitML.Predicate.html#785" class="Generalizable">p</a> <a id="6530" href="BitML.Semantics.Predicate.html#1145" class="Function Operator">⟧</a> <a id="6532" href="BitML.Semantics.InferenceRules.html#6419" class="Bound">Δ</a> <a id="6534" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6536" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="6541" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="6546" class="Comment">-- predicate is true</a>
      <a id="6573" href="Prelude.InferenceRules.html#12693" class="Function Operator">──────────────────────────────────────────────────────</a>
      <a id="6634" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="6636" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="6638" href="BitML.Contracts.Types.html#854" class="InductiveConstructor Operator">put</a> <a id="6642" href="BitML.Semantics.InferenceRules.html#6317" class="Bound">xs</a> <a id="6645" href="BitML.Contracts.Types.html#854" class="InductiveConstructor Operator">&amp;reveal</a> <a id="6653" href="BitML.Semantics.InferenceRules.html#6346" class="Bound">as</a> <a id="6656" href="BitML.Contracts.Types.html#854" class="InductiveConstructor Operator">if</a> <a id="6659" href="BitML.Predicate.html#785" class="Generalizable">p</a> <a id="6661" href="BitML.Contracts.Types.html#854" class="InductiveConstructor Operator">⇒</a> <a id="6663" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="6665" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="6667" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="6669" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="6671" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="6675" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="6677" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6679" class="Symbol">(</a><a id="6680" href="BitML.Semantics.InferenceRules.html#6375" class="Bound">Γ</a> <a id="6682" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6684" href="BitML.Semantics.InferenceRules.html#6458" class="Bound">ΔΓ′</a><a id="6687" class="Symbol">)</a>
        <a id="6697" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="6700" href="BitML.Semantics.Label.html#1450" class="InductiveConstructor Operator">put⦅</a> <a id="6705" href="BitML.Semantics.InferenceRules.html#6317" class="Bound">xs</a> <a id="6708" href="BitML.Semantics.Label.html#1450" class="InductiveConstructor Operator">,</a> <a id="6710" href="BitML.Semantics.InferenceRules.html#6346" class="Bound">as</a> <a id="6713" href="BitML.Semantics.Label.html#1450" class="InductiveConstructor Operator">,</a> <a id="6715" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="6717" href="BitML.Semantics.Label.html#1450" class="InductiveConstructor Operator">⦆</a> <a id="6719" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
      <a id="6728" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="6730" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="6732" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="6734" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="6736" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="6738" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="6742" href="BitML.Semantics.InferenceRules.html#6312" class="Bound">vs</a> <a id="6745" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="6749" href="BitML.BasicTypes.html#489" class="Generalizable">z</a> <a id="6751" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6753" href="BitML.Semantics.InferenceRules.html#6458" class="Bound">ΔΓ′</a>


  <a id="_—[_]→_.[C-Withdraw]"></a><a id="6761" href="BitML.Semantics.InferenceRules.html#6761" class="InductiveConstructor">[C-Withdraw]</a> <a id="6774" class="Symbol">:</a>

    <a id="6781" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="6783" href="Prelude.Membership.html#502" class="Function Operator">∉</a> <a id="6785" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="6787" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="6791" href="BitML.Contracts.Helpers.html#5124" class="Function">ids</a> <a id="6795" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="6797" class="Comment">-- x fresh</a>
    <a id="6812" href="Prelude.InferenceRules.html#13833" class="Function Operator">──────────────────────────────</a>
    <a id="6847" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="6849" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="6851" href="BitML.Contracts.Types.html#966" class="InductiveConstructor">withdraw</a> <a id="6860" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="6862" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="6864" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="6866" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="6868" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="6872" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="6874" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6876" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="6884" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="6887" href="BitML.Semantics.Label.html#1506" class="InductiveConstructor Operator">withdraw⦅</a> <a id="6897" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="6899" href="BitML.Semantics.Label.html#1506" class="InductiveConstructor Operator">,</a> <a id="6901" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="6903" href="BitML.Semantics.Label.html#1506" class="InductiveConstructor Operator">,</a> <a id="6905" href="BitML.BasicTypes.html#487" class="Generalizable">y</a> <a id="6907" href="BitML.Semantics.Label.html#1506" class="InductiveConstructor Operator">⦆</a> <a id="6909" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="6916" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟨</a> <a id="6918" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="6920" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">has</a> <a id="6924" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="6926" href="BitML.Semantics.Configurations.Types.html#844" class="InductiveConstructor Operator">⟩at</a> <a id="6930" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="6932" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="6934" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthControl]"></a><a id="6940" href="BitML.Semantics.InferenceRules.html#6940" class="InductiveConstructor">[C-AuthControl]</a> <a id="6956" class="Symbol">:</a>
    <a id="6962" class="Symbol">∀</a> <a id="6964" class="Symbol">{</a><a id="6965" href="BitML.Semantics.InferenceRules.html#6965" class="Bound">i</a> <a id="6967" class="Symbol">:</a> <a id="6969" href="Prelude.Lists.Indexed.html#492" class="Function">Index</a> <a id="6975" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a><a id="6976" class="Symbol">}</a> <a id="6978" class="Symbol">→</a> <a id="6980" class="Keyword">let</a> <a id="6984" href="BitML.Semantics.InferenceRules.html#6984" class="Bound">d</a> <a id="6986" class="Symbol">=</a> <a id="6988" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="6990" href="Prelude.Lists.Indexed.html#600" class="Function Operator">‼</a> <a id="6992" href="BitML.Semantics.InferenceRules.html#6965" class="Bound">i</a> <a id="6994" class="Keyword">in</a>

    <a id="7002" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="7004" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="7006" href="BitML.Contracts.Helpers.html#13817" class="Function">authDecorations</a> <a id="7022" href="BitML.Semantics.InferenceRules.html#6984" class="Bound">d</a> <a id="7024" class="Comment">-- D ≡ A : D′</a>
    <a id="7042" href="Prelude.InferenceRules.html#13643" class="Function Operator">───────────────────────────────────</a>
    <a id="7082" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="7084" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="7086" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="7088" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="7090" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="7094" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="7096" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="7098" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
      <a id="7106" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="7109" href="BitML.Semantics.Label.html#1579" class="InductiveConstructor Operator">auth-control⦅</a> <a id="7123" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="7125" href="BitML.Semantics.Label.html#1579" class="InductiveConstructor Operator">,</a> <a id="7127" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="7129" href="BitML.Semantics.Label.html#1579" class="InductiveConstructor Operator">▷</a> <a id="7131" href="BitML.Semantics.InferenceRules.html#6984" class="Bound">d</a> <a id="7133" href="BitML.Semantics.Label.html#1579" class="InductiveConstructor Operator">⦆</a> <a id="7135" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
    <a id="7142" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="7144" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="7146" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="7148" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="7150" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="7154" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="7156" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="7158" href="BitML.Contracts.Types.html#532" class="Generalizable">A</a> <a id="7160" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">auth[</a> <a id="7166" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="7168" href="BitML.Semantics.Action.html#802" class="InductiveConstructor Operator">▷</a> <a id="7170" href="BitML.Semantics.InferenceRules.html#6984" class="Bound">d</a> <a id="7172" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="7174" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="7176" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>


  <a id="7182" class="Comment">-- T0D0 linearize, i.e. introduce new label and produce intermediate configuration:</a>
  <a id="7268" class="Comment">-- ⟨ c , v ⟩at x ∣ Δ ∣ Γ —[ choice⦅ c , i ⦆ ]→ ⟨ [ d∗ ] , v ⟩at x ∣ Γ</a>
  <a id="_—[_]→_.[C-Control]"></a><a id="7340" href="BitML.Semantics.InferenceRules.html#7340" class="InductiveConstructor">[C-Control]</a> <a id="7352" class="Symbol">:</a>
    <a id="7358" class="Symbol">∀</a> <a id="7360" class="Symbol">{</a><a id="7361" href="BitML.Semantics.InferenceRules.html#7361" class="Bound">i</a> <a id="7363" class="Symbol">:</a> <a id="7365" href="Prelude.Lists.Indexed.html#492" class="Function">Index</a> <a id="7371" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a><a id="7372" class="Symbol">}</a> <a id="7374" class="Symbol">→</a> <a id="7376" class="Keyword">let</a> <a id="7380" class="Keyword">open</a> <a id="7385" href="BitML.Contracts.Helpers.html#1505" class="Module">∣SELECT</a> <a id="7393" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="7395" href="BitML.Semantics.InferenceRules.html#7361" class="Bound">i</a> <a id="7397" class="Keyword">in</a>

    <a id="7405" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="7407" href="Prelude.Null.html#283" class="Function">¬Null</a> <a id="7413" class="Symbol">(</a><a id="7414" href="BitML.Contracts.Helpers.html#13817" class="Function">authDecorations</a> <a id="7430" href="BitML.Contracts.Helpers.html#1550" class="Function">d</a><a id="7431" class="Symbol">)</a> <a id="7433" href="Data.Sum.Base.html#743" class="Datatype Operator">⊎</a> <a id="7435" class="Symbol">(</a><a id="7436" href="Data.List.Base.html#4873" class="Function">length</a> <a id="7443" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="7445" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="7447" class="Number">1</a><a id="7448" class="Symbol">)</a>
    <a id="7454" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7456" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="7458" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="7460" href="BitML.Semantics.Configurations.Types.html#1454" class="Generalizable">L</a>
    <a id="7466" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7468" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="7470" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="7472" href="BitML.Contracts.Helpers.html#1563" class="Function">d∗</a> <a id="7475" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="7477" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="7479" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="7481" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="7485" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="7487" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="7489" href="BitML.Semantics.Configurations.Types.html#1454" class="Generalizable">L</a> <a id="7491" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="7494" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="7496" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a> <a id="7499" href="BitML.Semantics.Configurations.Types.html#1429" class="Generalizable">Γ′</a> <a id="7502" class="Comment">-- T0D0 replace with _—↠_?</a>
    <a id="7533" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7535" href="BitML.Semantics.Label.html#1814" class="Function">cv</a> <a id="7538" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="7540" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7542" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="7547" href="BitML.BasicTypes.html#485" class="Generalizable">x</a>
      <a id="7555" href="Prelude.InferenceRules.html#11835" class="Function Operator">───────────────────────────────────────────────────────────────────</a>
      <a id="7629" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="7631" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="7633" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="7635" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="7637" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="7641" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="7643" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="7645" href="BitML.Semantics.Configurations.Types.html#1487" class="Function Operator">||</a> <a id="7648" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7652" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">_auth[</a> <a id="7659" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="7661" href="BitML.Semantics.Action.html#802" class="InductiveConstructor Operator">▷</a> <a id="7663" href="BitML.Contracts.Helpers.html#1550" class="Function">d</a> <a id="7665" href="BitML.Semantics.Configurations.Types.html#959" class="InductiveConstructor Operator">]</a> <a id="7667" class="Symbol">(</a><a id="7668" href="Prelude.Lists.Dec.html#1540" class="Function">nub</a> <a id="7672" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7674" href="BitML.Contracts.Helpers.html#13817" class="Function">authDecorations</a> <a id="7690" href="BitML.Contracts.Helpers.html#1550" class="Function">d</a><a id="7691" class="Symbol">)</a> <a id="7693" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="7695" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a>
        <a id="7705" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="7708" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="7710" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a>
      <a id="7719" href="BitML.Semantics.Configurations.Types.html#1429" class="Generalizable">Γ′</a>


<a id="7724" class="Comment">-------------------------------------------</a>
<a id="7768" class="Comment">-- Semantic rules for timed configurations.</a>

<a id="7813" class="Keyword">infix</a> <a id="7819" class="Number">3</a> <a id="7821" href="BitML.Semantics.InferenceRules.html#7826" class="Function Operator">_≈ₜ_</a>
<a id="_≈ₜ_"></a><a id="7826" href="BitML.Semantics.InferenceRules.html#7826" class="Function Operator">_≈ₜ_</a> <a id="7831" class="Symbol">:</a> <a id="7833" href="BitML.Semantics.Configurations.Types.html#1609" class="Record">TimedConfiguration</a> <a id="7852" class="Symbol">→</a> <a id="7854" href="BitML.Semantics.Configurations.Types.html#1609" class="Record">TimedConfiguration</a> <a id="7873" class="Symbol">→</a> <a id="7875" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="7880" href="BitML.Semantics.InferenceRules.html#7880" class="Bound">c</a> <a id="7882" href="BitML.Semantics.InferenceRules.html#7826" class="Function Operator">≈ₜ</a> <a id="7885" href="BitML.Semantics.InferenceRules.html#7885" class="Bound">c′</a> <a id="7888" class="Symbol">=</a> <a id="7890" class="Symbol">(</a><a id="7891" href="BitML.Semantics.Configurations.Types.html#1697" class="Field">time</a> <a id="7896" href="BitML.Semantics.InferenceRules.html#7880" class="Bound">c</a> <a id="7898" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7900" href="BitML.Semantics.Configurations.Types.html#1697" class="Field">time</a> <a id="7905" href="BitML.Semantics.InferenceRules.html#7885" class="Bound">c′</a><a id="7907" class="Symbol">)</a> <a id="7909" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="7911" class="Symbol">(</a><a id="7912" href="BitML.Semantics.Configurations.Types.html#1668" class="Field">cfg</a> <a id="7916" href="BitML.Semantics.InferenceRules.html#7880" class="Bound">c</a> <a id="7918" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="7920" href="BitML.Semantics.Configurations.Types.html#1668" class="Field">cfg</a> <a id="7924" href="BitML.Semantics.InferenceRules.html#7885" class="Bound">c′</a><a id="7926" class="Symbol">)</a>

<a id="7929" class="Keyword">infix</a> <a id="7935" class="Number">-1</a> <a id="7938" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">_—[_]→ₜ_</a>
<a id="7947" class="Keyword">data</a> <a id="_—[_]→ₜ_"></a><a id="7952" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">_—[_]→ₜ_</a> <a id="7961" class="Symbol">:</a> <a id="7963" href="BitML.Semantics.Configurations.Types.html#1609" class="Record">TimedConfiguration</a> <a id="7982" class="Symbol">→</a> <a id="7984" href="BitML.Semantics.Label.html#554" class="Datatype">Label</a> <a id="7990" class="Symbol">→</a> <a id="7992" href="BitML.Semantics.Configurations.Types.html#1609" class="Record">TimedConfiguration</a> <a id="8011" class="Symbol">→</a> <a id="8013" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="8018" class="Keyword">where</a>

  <a id="8027" class="Comment">-- iv) Rules for handling time</a>
  <a id="_—[_]→ₜ_.[Action]"></a><a id="8060" href="BitML.Semantics.InferenceRules.html#8060" class="InductiveConstructor">[Action]</a> <a id="8069" class="Symbol">:</a>

    <a id="8076" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="8078" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="8080" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="8083" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="8085" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a> <a id="8088" href="BitML.Semantics.Configurations.Types.html#1429" class="Generalizable">Γ′</a>
    <a id="8095" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8097" href="BitML.Semantics.Label.html#1814" class="Function">cv</a> <a id="8100" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="8102" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8104" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
      <a id="8118" href="Prelude.InferenceRules.html#14057" class="Function Operator">───────────────────────</a>
      <a id="8148" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="8150" href="BitML.Semantics.Configurations.Types.html#1655" class="InductiveConstructor Operator">at</a> <a id="8153" href="BitML.BasicTypes.html#536" class="Generalizable">t</a> <a id="8155" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">—[</a> <a id="8158" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="8160" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">]→ₜ</a> <a id="8164" href="BitML.Semantics.Configurations.Types.html#1429" class="Generalizable">Γ′</a> <a id="8167" href="BitML.Semantics.Configurations.Types.html#1655" class="InductiveConstructor Operator">at</a> <a id="8170" href="BitML.BasicTypes.html#536" class="Generalizable">t</a>


  <a id="_—[_]→ₜ_.[Delay]"></a><a id="8176" href="BitML.Semantics.InferenceRules.html#8176" class="InductiveConstructor">[Delay]</a> <a id="8184" class="Symbol">:</a>

    <a id="8191" href="BitML.BasicTypes.html#538" class="Generalizable">δ</a> <a id="8193" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="8195" class="Number">0</a>
    <a id="8201" href="Prelude.InferenceRules.html#13560" class="Function Operator">─────────────────────────────────────</a>
    <a id="8243" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="8245" href="BitML.Semantics.Configurations.Types.html#1655" class="InductiveConstructor Operator">at</a> <a id="8248" href="BitML.BasicTypes.html#536" class="Generalizable">t</a> <a id="8250" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">—[</a> <a id="8253" href="BitML.Semantics.Label.html#1647" class="InductiveConstructor Operator">delay⦅</a> <a id="8260" href="BitML.BasicTypes.html#538" class="Generalizable">δ</a> <a id="8262" href="BitML.Semantics.Label.html#1647" class="InductiveConstructor Operator">⦆</a> <a id="8264" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">]→ₜ</a> <a id="8268" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="8270" href="BitML.Semantics.Configurations.Types.html#1655" class="InductiveConstructor Operator">at</a> <a id="8273" class="Symbol">(</a><a id="8274" href="BitML.BasicTypes.html#536" class="Generalizable">t</a> <a id="8276" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="8278" href="BitML.BasicTypes.html#538" class="Generalizable">δ</a><a id="8279" class="Symbol">)</a>


  <a id="_—[_]→ₜ_.[Timeout]"></a><a id="8285" href="BitML.Semantics.InferenceRules.html#8285" class="InductiveConstructor">[Timeout]</a> <a id="8295" class="Symbol">:</a>
    <a id="8301" class="Symbol">∀</a> <a id="8303" class="Symbol">{</a><a id="8304" href="BitML.Semantics.InferenceRules.html#8304" class="Bound">i</a> <a id="8306" class="Symbol">:</a> <a id="8308" href="Prelude.Lists.Indexed.html#492" class="Function">Index</a> <a id="8314" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a><a id="8315" class="Symbol">}</a> <a id="8317" class="Symbol">→</a> <a id="8319" class="Keyword">let</a> <a id="8323" class="Keyword">open</a> <a id="8328" href="BitML.Contracts.Helpers.html#1505" class="Module">∣SELECT</a> <a id="8336" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="8338" href="BitML.Semantics.InferenceRules.html#8304" class="Bound">i</a><a id="8339" class="Symbol">;</a> <a id="8341" href="BitML.Semantics.InferenceRules.html#8341" class="Bound">As</a> <a id="8344" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8346" href="BitML.Semantics.InferenceRules.html#8346" class="Bound">ts</a> <a id="8349" class="Symbol">=</a> <a id="8351" href="BitML.Contracts.Helpers.html#13717" class="Function">decorations</a> <a id="8363" href="BitML.Contracts.Helpers.html#1550" class="Function">d</a> <a id="8365" class="Keyword">in</a>

    <a id="8373" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="8375" href="Prelude.Null.html#263" class="Field">Null</a> <a id="8380" href="BitML.Semantics.InferenceRules.html#8341" class="Bound">As</a>                           <a id="8409" class="Comment">-- no authorizations required to pick branch</a>
    <a id="8458" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8460" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="8464" class="Symbol">(</a><a id="8465" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="8468" href="BitML.BasicTypes.html#536" class="Generalizable">t</a><a id="8469" class="Symbol">)</a> <a id="8471" href="BitML.Semantics.InferenceRules.html#8346" class="Bound">ts</a>                     <a id="8494" class="Comment">-- all time constraints are satisfied</a>
    <a id="8536" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8538" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="8540" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="8542" href="BitML.Contracts.Helpers.html#1563" class="Function">d∗</a> <a id="8545" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="8547" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="8549" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="8551" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="8555" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="8557" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="8559" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a> <a id="8561" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="8564" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="8566" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a> <a id="8569" href="BitML.Semantics.Configurations.Types.html#1429" class="Generalizable">Γ′</a> <a id="8572" class="Comment">-- resulting state if we pick branch</a>
    <a id="8613" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8615" href="BitML.Semantics.Label.html#1814" class="Function">cv</a> <a id="8618" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="8620" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8622" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="8627" href="BitML.BasicTypes.html#485" class="Generalizable">x</a>
      <a id="8635" href="Prelude.InferenceRules.html#10977" class="Function Operator">──────────────────────────────────────────────────────────────────────────────</a>
      <a id="8720" class="Symbol">(</a><a id="8721" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟨</a> <a id="8723" href="BitML.Contracts.Types.html#1413" class="Generalizable">c</a> <a id="8725" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">,</a> <a id="8727" href="BitML.BasicTypes.html#401" class="Generalizable">v</a> <a id="8729" href="BitML.Semantics.Configurations.Types.html#733" class="InductiveConstructor Operator">⟩at</a> <a id="8733" href="BitML.BasicTypes.html#485" class="Generalizable">x</a> <a id="8735" href="BitML.Semantics.Configurations.Types.html#1240" class="InductiveConstructor Operator">∣</a> <a id="8737" href="BitML.Semantics.Configurations.Types.html#1427" class="Generalizable">Γ</a><a id="8738" class="Symbol">)</a> <a id="8740" href="BitML.Semantics.Configurations.Types.html#1655" class="InductiveConstructor Operator">at</a> <a id="8743" href="BitML.BasicTypes.html#536" class="Generalizable">t</a> <a id="8745" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">—[</a> <a id="8748" href="BitML.Semantics.Label.html#1779" class="Generalizable">α</a> <a id="8750" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">]→ₜ</a> <a id="8754" href="BitML.Semantics.Configurations.Types.html#1429" class="Generalizable">Γ′</a> <a id="8757" href="BitML.Semantics.Configurations.Types.html#1655" class="InductiveConstructor Operator">at</a> <a id="8760" href="BitML.BasicTypes.html#536" class="Generalizable">t</a>


<a id="_—[_]↛_"></a><a id="8764" href="BitML.Semantics.InferenceRules.html#8764" class="Function Operator">_—[_]↛_</a> <a id="8772" class="Symbol">:</a> <a id="8774" href="BitML.Semantics.Configurations.Types.html#577" class="Datatype">Configuration</a> <a id="8788" class="Symbol">→</a> <a id="8790" href="BitML.Semantics.Label.html#554" class="Datatype">Label</a> <a id="8796" class="Symbol">→</a> <a id="8798" href="BitML.Semantics.Configurations.Types.html#577" class="Datatype">Configuration</a> <a id="8812" class="Symbol">→</a> <a id="8814" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="8819" href="BitML.Semantics.InferenceRules.html#8819" class="Bound">Γ</a> <a id="8821" href="BitML.Semantics.InferenceRules.html#8764" class="Function Operator">—[</a> <a id="8824" href="BitML.Semantics.InferenceRules.html#8824" class="Bound">α</a> <a id="8826" href="BitML.Semantics.InferenceRules.html#8764" class="Function Operator">]↛</a> <a id="8829" href="BitML.Semantics.InferenceRules.html#8829" class="Bound">Γ′</a> <a id="8832" class="Symbol">=</a> <a id="8834" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="8836" class="Symbol">(</a><a id="8837" href="BitML.Semantics.InferenceRules.html#8819" class="Bound">Γ</a> <a id="8839" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">—[</a> <a id="8842" href="BitML.Semantics.InferenceRules.html#8824" class="Bound">α</a> <a id="8844" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">]→</a> <a id="8847" href="BitML.Semantics.InferenceRules.html#8829" class="Bound">Γ′</a><a id="8849" class="Symbol">)</a>

<a id="_—[_]↛ₜ_"></a><a id="8852" href="BitML.Semantics.InferenceRules.html#8852" class="Function Operator">_—[_]↛ₜ_</a> <a id="8861" class="Symbol">:</a> <a id="8863" href="BitML.Semantics.Configurations.Types.html#1609" class="Record">TimedConfiguration</a> <a id="8882" class="Symbol">→</a> <a id="8884" href="BitML.Semantics.Label.html#554" class="Datatype">Label</a> <a id="8890" class="Symbol">→</a> <a id="8892" href="BitML.Semantics.Configurations.Types.html#1609" class="Record">TimedConfiguration</a> <a id="8911" class="Symbol">→</a> <a id="8913" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="8918" href="BitML.Semantics.InferenceRules.html#8918" class="Bound">Γₜ</a> <a id="8921" href="BitML.Semantics.InferenceRules.html#8852" class="Function Operator">—[</a> <a id="8924" href="BitML.Semantics.InferenceRules.html#8924" class="Bound">α</a> <a id="8926" href="BitML.Semantics.InferenceRules.html#8852" class="Function Operator">]↛ₜ</a> <a id="8930" href="BitML.Semantics.InferenceRules.html#8930" class="Bound">Γₜ′</a> <a id="8934" class="Symbol">=</a> <a id="8936" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="8938" class="Symbol">(</a><a id="8939" href="BitML.Semantics.InferenceRules.html#8918" class="Bound">Γₜ</a> <a id="8942" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">—[</a> <a id="8945" href="BitML.Semantics.InferenceRules.html#8924" class="Bound">α</a> <a id="8947" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">]→ₜ</a> <a id="8951" href="BitML.Semantics.InferenceRules.html#8930" class="Bound">Γₜ′</a><a id="8954" class="Symbol">)</a>

<a id="8957" class="Comment">-----------------------------------------------------------------------------------</a>
<a id="9041" class="Comment">-- Derive the reflexive transitive closure for of _—→_ and _—→ₜ_.</a>

<a id="9108" class="Keyword">open</a> <a id="9113" class="Keyword">import</a> <a id="9120" href="Prelude.Closures.html" class="Module">Prelude.Closures</a>
<a id="9137" class="Keyword">open</a> <a id="9142" href="Prelude.Closures.html#5166" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="9181" href="BitML.Semantics.InferenceRules.html#1362" class="Datatype Operator">_—[_]→_</a> <a id="9189" class="Keyword">public</a>
<a id="9196" class="Keyword">open</a> <a id="9201" href="Prelude.Closures.html#5166" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="9240" href="BitML.Semantics.InferenceRules.html#7952" class="Datatype Operator">_—[_]→ₜ_</a> <a id="9249" class="Keyword">public</a>
  <a id="9258" class="Keyword">renaming</a> <a id="9267" class="Symbol">(</a> <a id="9269" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a> <a id="9276" class="Symbol">to</a> <a id="9279" class="InductiveConstructor Operator">beginₜ_</a><a id="9286" class="Symbol">;</a> <a id="9288" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a> <a id="9291" class="Symbol">to</a> <a id="9294" class="InductiveConstructor Operator">_∎ₜ</a>
           <a id="9309" class="Symbol">;</a> <a id="9311" href="Prelude.Closures.html#5689" class="InductiveConstructor Operator">_—→⟨_⟩_⊢_</a> <a id="9321" class="Symbol">to</a> <a id="9324" class="InductiveConstructor Operator">_—→ₜ⟨_⟩_⊢_</a><a id="9334" class="Symbol">;</a> <a id="9336" href="Prelude.Closures.html#6788" class="Function Operator">_—→⟨_⟩_</a> <a id="9344" class="Symbol">to</a> <a id="9347" class="Function Operator">_—→ₜ⟨_⟩_</a><a id="9355" class="Symbol">;</a> <a id="9357" href="Prelude.Closures.html#7340" class="Function Operator">_`—→⟨_⟩_⊢_</a> <a id="9368" class="Symbol">to</a> <a id="9371" class="Function Operator">_`—→ₜ⟨_⟩_⊢_</a>
           <a id="9394" class="Symbol">;</a> <a id="9396" href="Prelude.Closures.html#1483" class="Function Operator">_—→_</a> <a id="9401" class="Symbol">to</a> <a id="9404" class="Function Operator">_—→ₜ_</a>
           <a id="9421" class="Symbol">;</a> <a id="9423" href="Prelude.Closures.html#5618" class="Datatype Operator">_—[_]↠_</a> <a id="9431" class="Symbol">to</a> <a id="9434" class="Datatype Operator">_—[_]↠ₜ_</a><a id="9442" class="Symbol">;</a> <a id="9444" href="Prelude.Closures.html#6035" class="Function Operator">_—↠_</a> <a id="9449" class="Symbol">to</a> <a id="9452" class="Function Operator">_—↠ₜ_</a>
           <a id="9469" class="Symbol">;</a> <a id="9471" href="Prelude.Closures.html#5842" class="Datatype Operator">_—[_]↠⁺_</a> <a id="9480" class="Symbol">to</a> <a id="9483" class="Datatype Operator">_—[_]↠⁺ₜ_</a><a id="9492" class="Symbol">;</a> <a id="9494" href="Prelude.Closures.html#6061" class="Function Operator">_—↠⁺_</a> <a id="9500" class="Symbol">to</a> <a id="9503" class="Function Operator">_—↠⁺ₜ_</a>
           <a id="9521" class="Symbol">;</a> <a id="9523" href="Prelude.Closures.html#6265" class="InductiveConstructor Operator">_⟨_⟩←—_⊢_</a> <a id="9533" class="Symbol">to</a> <a id="9536" class="InductiveConstructor Operator">_⟨_⟩←—ₜ_⊢_</a><a id="9546" class="Symbol">;</a> <a id="9548" href="Prelude.Closures.html#7042" class="Function Operator">_⟨_⟩←—_</a> <a id="9556" class="Symbol">to</a> <a id="9559" class="Function Operator">_⟨_⟩←—ₜ_</a><a id="9567" class="Symbol">;</a> <a id="9569" href="Prelude.Closures.html#7776" class="Function Operator">_`⟨_⟩←—_⊢_</a> <a id="9580" class="Symbol">to</a> <a id="9583" class="Function Operator">_`⟨_⟩←—ₜ_⊢_</a>
           <a id="9606" class="Symbol">;</a> <a id="9608" href="Prelude.Closures.html#2309" class="Function Operator">_←[_]—_</a> <a id="9616" class="Symbol">to</a> <a id="9619" class="Function Operator">_←[_]—ₜ_</a><a id="9627" class="Symbol">;</a> <a id="9629" href="Prelude.Closures.html#2708" class="Function Operator">_←—_</a> <a id="9634" class="Symbol">to</a> <a id="9637" class="Function Operator">_←—ₜ_</a>
           <a id="9654" class="Symbol">;</a> <a id="9656" href="Prelude.Closures.html#6194" class="Datatype Operator">_↞[_]—_</a> <a id="9664" class="Symbol">to</a> <a id="9667" class="Datatype Operator">_↞[_]—ₜ_</a><a id="9675" class="Symbol">;</a> <a id="9677" href="Prelude.Closures.html#6635" class="Function Operator">_↞—_</a> <a id="9682" class="Symbol">to</a> <a id="9685" class="Function Operator">_↞—ₜ_</a>
           <a id="9702" class="Symbol">;</a> <a id="9704" href="Prelude.Closures.html#6430" class="Datatype Operator">_⁺↞[_]—_</a> <a id="9713" class="Symbol">to</a> <a id="9716" class="Datatype Operator">_⁺↞[_]—ₜ_</a><a id="9725" class="Symbol">;</a> <a id="9727" href="Prelude.Closures.html#6661" class="Function Operator">_⁺↞—_</a> <a id="9733" class="Symbol">to</a> <a id="9736" class="Function Operator">_⁺↞—ₜ_</a>
           <a id="9754" class="Symbol">;</a> <a id="9756" href="Prelude.Closures.html#7619" class="Function">viewLeft</a> <a id="9765" class="Symbol">to</a> <a id="9768" class="Function">viewLeftₜ</a><a id="9777" class="Symbol">;</a> <a id="9779" href="Prelude.Closures.html#8051" class="Function">viewRight</a> <a id="9789" class="Symbol">to</a> <a id="9792" class="Function">viewRightₜ</a><a id="9802" class="Symbol">;</a> <a id="9804" href="Prelude.Closures.html#8190" class="Function">view↔</a> <a id="9810" class="Symbol">to</a> <a id="9813" class="Function">view↔ₜ</a>
           <a id="9831" class="Symbol">)</a>
</pre></body></html>