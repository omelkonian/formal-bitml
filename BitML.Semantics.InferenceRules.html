<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Semantics.InferenceRules</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-----------------------------------------------</a>
<a id="49" class="Comment">-- Small-step semantics for the BitML calculus.</a>
<a id="97" class="Comment">-----------------------------------------------</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Prelude.DecLists.html" class="Module">Prelude.DecLists</a>
<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Prelude.Sets.html" class="Module">Prelude.Sets</a>
<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Prelude.Nary.html" class="Module">Prelude.Nary</a> <a id="332" class="Keyword">hiding</a> <a id="339" class="Symbol">(</a><a id="340" href="Prelude.Nary.html#219" class="Function Operator">⟦_⟧</a><a id="343" class="Symbol">)</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>

<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="426" class="Keyword">open</a> <a id="431" class="Keyword">import</a> <a id="438" href="BitML.Predicate.html" class="Module">BitML.Predicate</a> <a id="454" class="Keyword">hiding</a> <a id="461" class="Symbol">(</a><a id="462" href="BitML.Predicate.html#512" class="InductiveConstructor">`</a><a id="463" class="Symbol">;</a> <a id="465" href="BitML.Predicate.html#531" class="InductiveConstructor Operator">∣_∣</a><a id="468" class="Symbol">)</a>

<a id="471" class="Keyword">module</a> <a id="478" href="BitML.Semantics.InferenceRules.html" class="Module">BitML.Semantics.InferenceRules</a>
  <a id="511" class="Symbol">(</a><a id="512" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="524" class="Symbol">:</a> <a id="526" class="PrimitiveType">Set</a><a id="529" class="Symbol">)</a>
  <a id="533" class="Symbol">⦃</a> <a id="535" href="BitML.Semantics.InferenceRules.html#535" class="Bound">_</a> <a id="537" class="Symbol">:</a> <a id="539" href="Prelude.DecEq.Core.html#103" class="Record">DecEq</a> <a id="545" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="557" class="Symbol">⦄</a>
  <a id="561" class="Symbol">(</a><a id="562" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a> <a id="569" class="Symbol">:</a> <a id="571" href="Data.List.NonEmpty.Base.html#1079" class="Record">List⁺</a> <a id="577" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a><a id="588" class="Symbol">)</a>
  <a id="592" class="Keyword">where</a>

<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="BitML.Contracts.html" class="Module">BitML.Contracts</a> <a id="627" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="639" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="646" class="Keyword">open</a> <a id="651" class="Keyword">import</a> <a id="658" href="BitML.Semantics.Action.html" class="Module">BitML.Semantics.Action</a> <a id="681" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="693" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="BitML.Semantics.Configurations.Types.html" class="Module">BitML.Semantics.Configurations.Types</a> <a id="749" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="761" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="768" class="Keyword">open</a> <a id="773" class="Keyword">import</a> <a id="780" href="BitML.Semantics.Configurations.Helpers.html" class="Module">BitML.Semantics.Configurations.Helpers</a> <a id="819" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="831" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="838" class="Keyword">open</a> <a id="843" class="Keyword">import</a> <a id="850" href="BitML.Semantics.Label.html" class="Module">BitML.Semantics.Label</a> <a id="872" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="884" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="891" class="Keyword">open</a> <a id="896" class="Keyword">import</a> <a id="903" href="BitML.Semantics.Predicate.html" class="Module">BitML.Semantics.Predicate</a> <a id="929" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="941" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>

<a id="949" class="Comment">---------------------------------------------</a>
<a id="995" class="Comment">-- Semantic rules for untimed configurations.</a>

<a id="1042" class="Comment">-- T0D0 fresh variables can be arbitrarily picked out, maybe that is wrong?</a>
<a id="1118" class="Comment">-- solve by requiring something like `fresh α ∉ fuv(Γ)`</a>

<a id="1175" class="Keyword">infix</a> <a id="1181" class="Number">-1</a> <a id="1184" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">_—[_]→_</a> <a id="1192" href="BitML.Semantics.InferenceRules.html#7641" class="Function Operator">_—[_]↛_</a>
<a id="1200" class="Keyword">data</a> <a id="_—[_]→_"></a><a id="1205" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">_—[_]→_</a> <a id="1213" class="Symbol">:</a> <a id="1215" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="1237" class="Symbol">→</a> <a id="1239" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="1253" class="Symbol">→</a> <a id="1255" class="PrimitiveType">Set</a> <a id="1259" class="Keyword">where</a>

  <a id="1268" class="Comment">------------------------------</a>
  <a id="1301" class="Comment">-- i) Rules for deposits</a>

  <a id="_—[_]→_.[DEP-AuthJoin]"></a><a id="1329" href="BitML.Semantics.InferenceRules.html#1329" class="InductiveConstructor">[DEP-AuthJoin]</a> <a id="1344" class="Symbol">:</a>

      <a id="1353" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="1432" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1434" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1436" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1440" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1442" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1446" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1448" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1450" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1452" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1454" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1458" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1461" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1465" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1467" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1469" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="1479" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="1482" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">auth-join⦅</a> <a id="1493" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1495" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">,</a> <a id="1497" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1499" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">↔</a> <a id="1501" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1503" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">⦆</a> <a id="1505" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="1514" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1516" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1518" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1522" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1524" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1528" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1530" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1532" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1534" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1536" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1540" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1543" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1547" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1549" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1551" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1553" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="1559" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1561" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">↔</a> <a id="1563" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1565" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">▷⟨</a> <a id="1568" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1570" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">,</a> <a id="1572" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1574" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1576" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1579" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">⟩</a> <a id="1581" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="1583" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1585" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Join]"></a><a id="1591" href="BitML.Semantics.InferenceRules.html#1591" class="InductiveConstructor">[DEP-Join]</a> <a id="1602" class="Symbol">:</a>

      <a id="1611" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="1690" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1692" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1694" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1698" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1700" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1704" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1706" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1708" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1710" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1712" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1716" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1719" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1723" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1725" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1727" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1729" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="1735" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1737" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">↔</a> <a id="1739" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1741" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">▷⟨</a> <a id="1744" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1746" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">,</a> <a id="1748" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1750" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1752" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1755" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">⟩</a> <a id="1757" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="1759" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1761" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="1771" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="1774" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">join⦅</a> <a id="1780" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1782" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">↔</a> <a id="1784" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1786" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">⦆</a> <a id="1788" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="1797" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1799" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1801" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1805" class="Symbol">(</a><a id="1806" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1808" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1810" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="1812" class="Symbol">)</a> <a id="1814" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1818" href="BitML.BasicTypes.html#486" class="Generalizable">z</a> <a id="1820" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1822" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDivide]"></a><a id="1828" href="BitML.Semantics.InferenceRules.html#1828" class="InductiveConstructor">[DEP-AuthDivide]</a> <a id="1845" class="Symbol">:</a>

      <a id="1854" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="1933" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1935" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1937" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1941" class="Symbol">(</a><a id="1942" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1944" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1946" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="1948" class="Symbol">)</a> <a id="1950" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1954" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1956" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1958" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="1968" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="1971" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="1984" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1986" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">,</a> <a id="1988" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1990" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">▷</a> <a id="1992" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1994" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">,</a> <a id="1996" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1999" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">⦆</a> <a id="2001" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="2010" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2012" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2014" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2018" class="Symbol">(</a><a id="2019" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2021" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2023" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="2025" class="Symbol">)</a> <a id="2027" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2031" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2033" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2035" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2037" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2043" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2045" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">▷⟨</a> <a id="2048" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2050" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2052" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2054" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2056" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2059" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">⟩</a> <a id="2061" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2063" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2065" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Divide]"></a><a id="2071" href="BitML.Semantics.InferenceRules.html#2071" class="InductiveConstructor">[DEP-Divide]</a> <a id="2084" class="Symbol">:</a>

      <a id="2093" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="2172" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2174" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2176" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2180" class="Symbol">(</a><a id="2181" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2183" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2185" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="2187" class="Symbol">)</a> <a id="2189" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2193" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2195" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2197" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2199" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2205" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2207" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">▷⟨</a> <a id="2210" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2212" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2214" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2216" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2218" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2221" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">⟩</a> <a id="2223" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2225" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2227" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="2237" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="2240" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">divide⦅</a> <a id="2248" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2250" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">▷</a> <a id="2252" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2254" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">,</a> <a id="2256" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2259" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">⦆</a> <a id="2261" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="2270" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2272" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2274" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2278" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2280" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2284" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="2286" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2288" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2290" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2292" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2296" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2299" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2303" href="BitML.BasicTypes.html#491" class="Generalizable">y′</a> <a id="2306" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2308" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDonate]"></a><a id="2314" href="BitML.Semantics.InferenceRules.html#2314" class="InductiveConstructor">[DEP-AuthDonate]</a> <a id="2331" class="Symbol">:</a>

      <a id="2340" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="2419" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2421" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2423" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2427" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2429" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2433" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2435" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2437" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="2447" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="2450" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="2463" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2465" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">,</a> <a id="2467" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2469" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2472" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2474" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">⦆</a> <a id="2476" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="2485" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2487" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2489" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2493" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2495" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2499" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2501" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2503" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2505" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2511" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2513" href="BitML.Semantics.Action.html#1003" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2516" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2518" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2520" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2522" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Donate]"></a><a id="2528" href="BitML.Semantics.InferenceRules.html#2528" class="InductiveConstructor">[DEP-Donate]</a> <a id="2541" class="Symbol">:</a>

      <a id="2550" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="2629" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2631" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2633" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2637" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2639" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2643" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2645" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2647" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2649" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2655" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2657" href="BitML.Semantics.Action.html#1003" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2660" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2662" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2664" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2666" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="2676" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="2679" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">donate⦅</a> <a id="2687" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2689" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2692" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2694" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">⦆</a> <a id="2696" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="2705" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2707" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2709" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2713" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2715" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2719" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="2721" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2723" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDestroy]"></a><a id="2729" href="BitML.Semantics.InferenceRules.html#2729" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="2747" class="Symbol">:</a>
    <a id="2753" class="Symbol">∀</a> <a id="2755" class="Symbol">{</a><a id="2756" href="BitML.Semantics.InferenceRules.html#2756" class="Bound">ds</a> <a id="2759" class="Symbol">:</a> <a id="2761" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2766" class="Symbol">(</a><a id="2767" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="2779" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2781" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="2787" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2789" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="2791" class="Symbol">)}</a> <a id="2794" class="Symbol">{</a><a id="2795" href="BitML.Semantics.InferenceRules.html#2795" class="Bound">j</a> <a id="2797" class="Symbol">:</a> <a id="2799" href="Prelude.Lists.html#1153" class="Function">Index</a> <a id="2805" href="BitML.Semantics.InferenceRules.html#2756" class="Bound">ds</a><a id="2807" class="Symbol">}</a>

    <a id="2814" class="Symbol">→</a> <a id="2816" class="Keyword">let</a> <a id="2820" href="BitML.Semantics.InferenceRules.html#2820" class="Bound">xs</a> <a id="2823" class="Symbol">=</a> <a id="2825" href="Data.List.Base.html#1544" class="Function">map</a> <a id="2829" href="Prelude.Nary.html#2965" class="Function">select₃</a> <a id="2837" href="BitML.Semantics.InferenceRules.html#2756" class="Bound">ds</a>
          <a id="2850" href="BitML.Semantics.InferenceRules.html#2850" class="Bound">Aj</a> <a id="2853" class="Symbol">=</a> <a id="2855" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="2861" class="Symbol">(</a><a id="2862" href="BitML.Semantics.InferenceRules.html#2756" class="Bound">ds</a> <a id="2865" href="Prelude.Lists.html#1259" class="Function Operator">‼</a> <a id="2867" href="BitML.Semantics.InferenceRules.html#2795" class="Bound">j</a><a id="2868" class="Symbol">)</a>
          <a id="2880" href="BitML.Semantics.InferenceRules.html#2880" class="Bound">j′</a> <a id="2883" class="Symbol">=</a> <a id="2885" href="Prelude.Lists.html#4855" class="Function">‼-map</a> <a id="2891" class="Symbol">{</a><a id="2892" class="Argument">xs</a> <a id="2895" class="Symbol">=</a> <a id="2897" href="BitML.Semantics.InferenceRules.html#2756" class="Bound">ds</a><a id="2899" class="Symbol">}</a> <a id="2901" href="BitML.Semantics.InferenceRules.html#2795" class="Bound">j</a>
          <a id="2913" href="BitML.Semantics.InferenceRules.html#2913" class="Bound">Δ</a>  <a id="2916" class="Symbol">=</a> <a id="2918" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="2921" href="Data.List.Base.html#1544" class="Function">map</a> <a id="2925" class="Symbol">(</a><a id="2926" href="Prelude.Nary.html#689" class="Function">uncurry₃</a> <a id="2935" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="2945" class="Symbol">)</a> <a id="2947" href="BitML.Semantics.InferenceRules.html#2756" class="Bound">ds</a>
      <a id="2956" class="Keyword">in</a>
      <a id="2965" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="3044" href="BitML.Semantics.InferenceRules.html#2913" class="Bound">Δ</a> <a id="3046" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3048" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="3058" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="3061" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="3075" href="BitML.Semantics.InferenceRules.html#2850" class="Bound">Aj</a> <a id="3078" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">,</a> <a id="3080" href="BitML.Semantics.InferenceRules.html#2820" class="Bound">xs</a> <a id="3083" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">,</a> <a id="3085" href="BitML.Semantics.InferenceRules.html#2880" class="Bound">j′</a> <a id="3088" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">⦆</a> <a id="3090" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="3099" href="BitML.Semantics.InferenceRules.html#2913" class="Bound">Δ</a> <a id="3101" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3103" href="BitML.Semantics.InferenceRules.html#2850" class="Bound">Aj</a> <a id="3106" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="3112" href="BitML.Semantics.InferenceRules.html#2820" class="Bound">xs</a> <a id="3115" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">,</a> <a id="3117" href="BitML.Semantics.InferenceRules.html#2880" class="Bound">j′</a> <a id="3120" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3124" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="3126" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="3128" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3130" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Destroy]"></a><a id="3136" href="BitML.Semantics.InferenceRules.html#3136" class="InductiveConstructor">[DEP-Destroy]</a> <a id="3150" class="Symbol">:</a>
    <a id="3156" class="Symbol">∀</a> <a id="3158" class="Symbol">{</a><a id="3159" href="BitML.Semantics.InferenceRules.html#3159" class="Bound">ds</a> <a id="3162" class="Symbol">:</a> <a id="3164" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3169" class="Symbol">(</a><a id="3170" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="3182" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3184" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="3190" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3192" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="3194" class="Symbol">)}</a>

    <a id="3202" class="Symbol">→</a> <a id="3204" class="Keyword">let</a> <a id="3208" href="BitML.Semantics.InferenceRules.html#3208" class="Bound">xs</a> <a id="3211" class="Symbol">=</a> <a id="3213" href="Data.List.Base.html#1544" class="Function">map</a> <a id="3217" href="Prelude.Nary.html#2965" class="Function">select₃</a> <a id="3225" href="BitML.Semantics.InferenceRules.html#3159" class="Bound">ds</a>
          <a id="3238" href="BitML.Semantics.InferenceRules.html#3238" class="Bound">Δ</a>  <a id="3241" class="Symbol">=</a> <a id="3243" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="3246" href="Data.List.Base.html#1544" class="Function">map</a> <a id="3250" class="Symbol">(λ{</a> <a id="3254" class="Symbol">(</a><a id="3255" href="BitML.Semantics.InferenceRules.html#3255" class="Bound">i</a> <a id="3257" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3259" href="BitML.Semantics.InferenceRules.html#3259" class="Bound">Ai</a> <a id="3262" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3264" href="BitML.Semantics.InferenceRules.html#3264" class="Bound">vi</a> <a id="3267" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3269" href="BitML.Semantics.InferenceRules.html#3269" class="Bound">xi</a><a id="3271" class="Symbol">)</a> <a id="3273" class="Symbol">→</a> <a id="3275" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="3277" href="BitML.Semantics.InferenceRules.html#3259" class="Bound">Ai</a> <a id="3280" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="3284" href="BitML.Semantics.InferenceRules.html#3264" class="Bound">vi</a> <a id="3287" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="3291" href="BitML.Semantics.InferenceRules.html#3269" class="Bound">xi</a> <a id="3294" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3296" href="BitML.Semantics.InferenceRules.html#3259" class="Bound">Ai</a> <a id="3299" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="3305" href="BitML.Semantics.InferenceRules.html#3208" class="Bound">xs</a> <a id="3308" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">,</a> <a id="3310" href="Prelude.Lists.html#4855" class="Function">‼-map</a> <a id="3316" class="Symbol">{</a><a id="3317" class="Argument">xs</a> <a id="3320" class="Symbol">=</a> <a id="3322" href="BitML.Semantics.InferenceRules.html#3159" class="Bound">ds</a><a id="3324" class="Symbol">}</a> <a id="3326" href="BitML.Semantics.InferenceRules.html#3255" class="Bound">i</a> <a id="3328" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3332" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="3334" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="3336" class="Symbol">})</a>
                      <a id="3361" class="Symbol">(</a><a id="3362" href="Prelude.Lists.html#2177" class="Function">enumerate</a> <a id="3372" href="BitML.Semantics.InferenceRules.html#3159" class="Bound">ds</a><a id="3374" class="Symbol">)</a>
      <a id="3382" class="Keyword">in</a>
      <a id="3391" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="3470" href="BitML.Semantics.InferenceRules.html#3238" class="Bound">Δ</a> <a id="3472" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3474" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="3484" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="3487" href="BitML.Semantics.Label.html#1010" class="InductiveConstructor Operator">destroy⦅</a> <a id="3496" href="BitML.Semantics.InferenceRules.html#3208" class="Bound">xs</a> <a id="3499" href="BitML.Semantics.Label.html#1010" class="InductiveConstructor Operator">⦆</a> <a id="3501" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="3510" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>

  <a id="3515" class="Comment">------------------------------------------------------------</a>
  <a id="3578" class="Comment">-- ii) Rules for contract advertisements and stipulation</a>

  <a id="_—[_]→_.[C-Advertise]"></a><a id="3638" href="BitML.Semantics.InferenceRules.html#3638" class="InductiveConstructor">[C-Advertise]</a> <a id="3652" class="Symbol">:</a> <a id="3654" class="Keyword">let</a> <a id="3658" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="3660" href="BitML.Semantics.InferenceRules.html#3660" class="Bound">G</a> <a id="3662" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="3664" class="Symbol">_</a> <a id="3666" class="Symbol">=</a> <a id="3668" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="3671" class="Keyword">in</a>

      <a id="3681" href="BitML.Contracts.Validity.html#1748" class="Record">ValidAdvertisement</a> <a id="3700" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a>         <a id="3711" class="Comment">-- the advertisement is valid</a>
    <a id="3745" class="Symbol">→</a> <a id="3747" href="Data.List.Relation.Unary.Any.html#1156" class="Datatype">Any</a> <a id="3751" class="Symbol">(</a><a id="3752" href="Prelude.Membership.html#384" class="Field Operator">_∈</a> <a id="3755" href="BitML.Contracts.Types.html#482" class="Function">Hon</a><a id="3758" class="Symbol">)</a> <a id="3760" class="Symbol">(</a><a id="3761" href="BitML.Contracts.Helpers.html#2497" class="Function">participants</a> <a id="3774" href="BitML.Semantics.InferenceRules.html#3660" class="Bound">G</a><a id="3775" class="Symbol">)</a> <a id="3777" class="Comment">-- at least one honest participant</a>
    <a id="3816" class="Symbol">→</a> <a id="3818" href="BitML.Contracts.Helpers.html#6235" class="Function">deposits</a> <a id="3827" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="3830" href="Data.List.Relation.Binary.Subset.Setoid.html#739" class="Function Operator">⊆</a> <a id="3832" href="BitML.Contracts.Helpers.html#6235" class="Function">deposits</a> <a id="3841" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>      <a id="3848" class="Comment">-- all persistent deposits in place</a>
      <a id="3890" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="3967" class="Symbol">→</a> <a id="3969" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="3971" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="3974" href="BitML.Semantics.Label.html#1052" class="InductiveConstructor Operator">advertise⦅</a> <a id="3985" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="3988" href="BitML.Semantics.Label.html#1052" class="InductiveConstructor Operator">⦆</a> <a id="3990" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="3993" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="3995" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="3998" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4000" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthCommit]"></a><a id="4006" href="BitML.Semantics.InferenceRules.html#4006" class="InductiveConstructor">[C-AuthCommit]</a> <a id="4021" class="Symbol">:</a> <a id="4023" class="Keyword">let</a> <a id="4027" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="4029" href="BitML.Semantics.InferenceRules.html#4029" class="Bound">G</a> <a id="4031" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="4033" class="Symbol">_</a> <a id="4035" class="Symbol">=</a> <a id="4037" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4040" class="Keyword">in</a>
    <a id="4047" class="Symbol">∀</a> <a id="4049" class="Symbol">{</a><a id="4050" href="BitML.Semantics.InferenceRules.html#4050" class="Bound">secrets</a> <a id="4058" class="Symbol">:</a> <a id="4060" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4065" class="Symbol">(</a><a id="4066" href="BitML.BasicTypes.html#261" class="Function">Secret</a> <a id="4073" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4075" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="4081" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4082" class="Symbol">)}</a>

    <a id="4090" class="Symbol">→</a> <a id="4092" class="Keyword">let</a> <a id="4096" class="Symbol">(</a><a id="4097" href="BitML.Semantics.InferenceRules.html#4097" class="Bound">as</a> <a id="4100" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4102" href="BitML.Semantics.InferenceRules.html#4102" class="Bound">ms</a><a id="4104" class="Symbol">)</a> <a id="4106" class="Symbol">=</a> <a id="4108" href="Data.List.Base.html#3699" class="Function">unzip</a> <a id="4114" href="BitML.Semantics.InferenceRules.html#4050" class="Bound">secrets</a>
          <a id="4132" href="BitML.Semantics.InferenceRules.html#4132" class="Bound">Δ</a>         <a id="4142" class="Symbol">=</a> <a id="4144" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="4147" href="Data.List.Base.html#1544" class="Function">map</a> <a id="4151" class="Symbol">(</a><a id="4152" href="Data.Product.html#3422" class="Function">uncurry</a> <a id="4160" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟨</a> <a id="4162" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4164" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4169" class="Symbol">)</a> <a id="4171" href="BitML.Semantics.InferenceRules.html#4050" class="Bound">secrets</a>
      <a id="4185" class="Keyword">in</a>

      <a id="4195" href="BitML.Semantics.InferenceRules.html#4097" class="Bound">as</a> <a id="4198" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4200" href="BitML.Contracts.Helpers.html#7010" class="Function">secretsOfᵖ</a> <a id="4211" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4213" href="BitML.Semantics.InferenceRules.html#4029" class="Bound">G</a>         <a id="4223" class="Comment">-- a₁..aₖ secrets of A in G</a>
    <a id="4255" class="Symbol">→</a> <a id="4257" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="4261" class="Symbol">(</a><a id="4262" href="Prelude.Membership.html#457" class="Function Operator">_∉</a> <a id="4265" href="BitML.Semantics.Configurations.Helpers.html#6003" class="Function">secretsOfᶜᶠ</a> <a id="4277" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4279" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a><a id="4280" class="Symbol">)</a> <a id="4282" href="BitML.Semantics.InferenceRules.html#4097" class="Bound">as</a> <a id="4285" class="Comment">-- ∀i ∈ 1..k : ∄N : {A : aᵢ ♯ N} ∈ Γ</a>
    <a id="4326" class="Symbol">→</a> <a id="4328" class="Symbol">(</a><a id="4329" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4331" href="Prelude.Membership.html#384" class="Field Operator">∈</a> <a id="4333" href="BitML.Contracts.Types.html#482" class="Function">Hon</a> <a id="4337" class="Symbol">→</a> <a id="4339" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="4343" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="4351" href="BitML.Semantics.InferenceRules.html#4102" class="Bound">ms</a><a id="4353" class="Symbol">)</a>  <a id="4356" class="Comment">-- honest participants commit to valid lengths</a>
      <a id="4409" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="4486" class="Symbol">→</a> <a id="4488" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4490" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4493" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4495" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="4505" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="4508" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="4521" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4523" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">,</a> <a id="4525" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4528" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">,</a> <a id="4530" href="BitML.Semantics.InferenceRules.html#4050" class="Bound">secrets</a> <a id="4538" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">⦆</a> <a id="4540" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="4549" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4551" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4554" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4556" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4558" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4560" href="BitML.Semantics.InferenceRules.html#4132" class="Bound">Δ</a> <a id="4562" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4564" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4566" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="4572" href="BitML.Semantics.Action.html#666" class="InductiveConstructor Operator">♯▷</a> <a id="4575" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4578" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-AuthInit]"></a><a id="4584" href="BitML.Semantics.InferenceRules.html#4584" class="InductiveConstructor">[C-AuthInit]</a> <a id="4597" class="Symbol">:</a> <a id="4599" class="Keyword">let</a> <a id="4603" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="4605" href="BitML.Semantics.InferenceRules.html#4605" class="Bound">G</a> <a id="4607" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="4609" class="Symbol">_</a> <a id="4611" class="Symbol">=</a> <a id="4613" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a><a id="4615" class="Symbol">;</a> <a id="4617" href="BitML.Semantics.InferenceRules.html#4617" class="Bound">partG</a> <a id="4623" class="Symbol">=</a> <a id="4625" href="BitML.Contracts.Helpers.html#2510" class="Function">nub-participants</a> <a id="4642" href="BitML.Semantics.InferenceRules.html#4605" class="Bound">G</a> <a id="4644" class="Keyword">in</a>

      <a id="4654" href="BitML.Semantics.InferenceRules.html#4617" class="Bound">partG</a> <a id="4660" href="Data.List.Relation.Binary.Subset.Setoid.html#739" class="Function Operator">⊆</a> <a id="4662" href="BitML.Semantics.Configurations.Helpers.html#6232" class="Function">committedParticipants</a> <a id="4684" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4687" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4689" class="Comment">-- all participants have committed their secrets</a>
    <a id="4742" class="Symbol">→</a> <a id="4744" class="Symbol">(</a><a id="4745" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4747" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4749" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="4751" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4753" href="BitML.BasicTypes.html#482" class="Generalizable">x</a><a id="4754" class="Symbol">)</a> <a id="4756" href="Prelude.Membership.html#384" class="Field Operator">∈</a> <a id="4758" href="BitML.Contracts.Helpers.html#7520" class="Function">persistentDeposits</a> <a id="4777" href="BitML.Semantics.InferenceRules.html#4605" class="Bound">G</a> <a id="4779" class="Comment">-- G = A :! v @ x | ...</a>
      <a id="4809" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="4886" class="Symbol">→</a> <a id="4888" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4890" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4893" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4895" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="4905" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="4908" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">auth-init⦅</a> <a id="4919" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4921" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">,</a> <a id="4923" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4926" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">,</a> <a id="4928" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="4930" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">⦆</a> <a id="4932" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="4941" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4943" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4946" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4948" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4950" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4952" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4954" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="4960" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="4962" href="BitML.Semantics.Action.html#729" class="InductiveConstructor Operator">▷ˢ</a> <a id="4965" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4968" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-Init]"></a><a id="4974" href="BitML.Semantics.InferenceRules.html#4974" class="InductiveConstructor">[C-Init]</a> <a id="4983" class="Symbol">:</a> <a id="4985" class="Keyword">let</a> <a id="4989" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="4991" href="BitML.Semantics.InferenceRules.html#4991" class="Bound">G</a> <a id="4993" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="4995" href="BitML.Semantics.InferenceRules.html#4995" class="Bound">C</a> <a id="4997" class="Symbol">=</a> <a id="4999" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a><a id="5001" class="Symbol">;</a> <a id="5003" href="BitML.Semantics.InferenceRules.html#5003" class="Bound">partG</a> <a id="5009" class="Symbol">=</a> <a id="5011" href="BitML.Contracts.Helpers.html#2510" class="Function">nub-participants</a> <a id="5028" href="BitML.Semantics.InferenceRules.html#4991" class="Bound">G</a> <a id="5030" class="Keyword">in</a>

      <a id="5040" class="Comment">-- all participants have committed their secrets (guaranteed from [C-AuthInit])</a>

      <a id="5127" class="Keyword">let</a> <a id="5131" href="BitML.Semantics.InferenceRules.html#5131" class="Bound">toSpend</a> <a id="5139" class="Symbol">=</a> <a id="5141" href="BitML.Contracts.Helpers.html#7520" class="Function">persistentDeposits</a> <a id="5160" href="BitML.Semantics.InferenceRules.html#4991" class="Bound">G</a>
          <a id="5172" href="BitML.Semantics.InferenceRules.html#5172" class="Bound">vs</a>      <a id="5180" class="Symbol">=</a> <a id="5182" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5186" href="Prelude.Nary.html#2254" class="Function">select₂</a> <a id="5194" href="BitML.Semantics.InferenceRules.html#5131" class="Bound">toSpend</a>
      <a id="5208" class="Keyword">in</a>
      <a id="5217" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="5296" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="5298" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5301" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5303" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="5305" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5307" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="5310" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5314" class="Symbol">(λ{</a> <a id="5318" class="Symbol">(</a><a id="5319" href="BitML.Semantics.InferenceRules.html#5319" class="Bound">Ai</a> <a id="5322" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5324" href="BitML.Semantics.InferenceRules.html#5324" class="Bound">vi</a> <a id="5327" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5329" href="BitML.Semantics.InferenceRules.html#5329" class="Bound">xi</a><a id="5331" class="Symbol">)</a> <a id="5333" class="Symbol">→</a> <a id="5335" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="5337" href="BitML.Semantics.InferenceRules.html#5319" class="Bound">Ai</a> <a id="5340" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="5344" href="BitML.Semantics.InferenceRules.html#5324" class="Bound">vi</a> <a id="5347" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="5351" href="BitML.Semantics.InferenceRules.html#5329" class="Bound">xi</a> <a id="5354" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5356" href="BitML.Semantics.InferenceRules.html#5319" class="Bound">Ai</a> <a id="5359" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="5365" href="BitML.Semantics.InferenceRules.html#5329" class="Bound">xi</a> <a id="5368" href="BitML.Semantics.Action.html#729" class="InductiveConstructor Operator">▷ˢ</a> <a id="5371" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5374" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="5376" class="Symbol">})</a> <a id="5379" href="BitML.Semantics.InferenceRules.html#5131" class="Bound">toSpend</a>
               <a id="5402" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5404" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="5407" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5411" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">_auth[</a> <a id="5418" href="BitML.Semantics.Action.html#666" class="InductiveConstructor Operator">♯▷</a> <a id="5421" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5424" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="5426" href="BitML.Semantics.InferenceRules.html#5003" class="Bound">partG</a>
        <a id="5440" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="5443" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">init⦅</a> <a id="5449" href="BitML.Semantics.InferenceRules.html#4991" class="Bound">G</a> <a id="5451" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">,</a> <a id="5453" href="BitML.Semantics.InferenceRules.html#4995" class="Bound">C</a> <a id="5455" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">⦆</a> <a id="5457" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="5466" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="5468" href="BitML.Semantics.InferenceRules.html#4995" class="Bound">C</a> <a id="5470" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="5472" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="5476" href="BitML.Semantics.InferenceRules.html#5172" class="Bound">vs</a> <a id="5479" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="5483" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="5485" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5487" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="5493" class="Comment">---------------------------------------------------</a>
  <a id="5547" class="Comment">-- iii) Rules for executing active contracts</a>

  <a id="_—[_]→_.[C-Split]"></a><a id="5595" href="BitML.Semantics.InferenceRules.html#5595" class="InductiveConstructor">[C-Split]</a> <a id="5605" class="Symbol">:</a>
    <a id="5611" class="Symbol">∀</a> <a id="5613" class="Symbol">{</a><a id="5614" href="BitML.Semantics.InferenceRules.html#5614" class="Bound">vcis</a> <a id="5619" class="Symbol">:</a> <a id="5621" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5626" class="Symbol">(</a><a id="5627" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="5633" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5635" href="BitML.Contracts.Types.html#647" class="Function">Contracts</a> <a id="5645" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5647" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="5649" class="Symbol">)}</a>

    <a id="5657" class="Symbol">→</a> <a id="5659" class="Keyword">let</a> <a id="5663" class="Symbol">(</a><a id="5664" href="BitML.Semantics.InferenceRules.html#5664" class="Bound">vs</a> <a id="5667" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5669" href="BitML.Semantics.InferenceRules.html#5669" class="Bound">cs</a> <a id="5672" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5674" class="Symbol">_)</a> <a id="5677" class="Symbol">=</a> <a id="5679" href="Prelude.Lists.html#9130" class="Function">unzip₃</a> <a id="5686" href="BitML.Semantics.InferenceRules.html#5614" class="Bound">vcis</a> <a id="5691" class="Keyword">in</a>
      <a id="5700" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="5779" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="5781" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5783" href="BitML.Contracts.Types.html#1022" class="InductiveConstructor">split</a> <a id="5789" class="Symbol">(</a><a id="5790" href="Data.List.Base.html#3570" class="Function">zip</a> <a id="5794" href="BitML.Semantics.InferenceRules.html#5664" class="Bound">vs</a> <a id="5797" href="BitML.Semantics.InferenceRules.html#5669" class="Bound">cs</a><a id="5799" class="Symbol">)</a> <a id="5801" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="5803" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="5805" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="5809" href="BitML.Semantics.InferenceRules.html#5664" class="Bound">vs</a> <a id="5812" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="5816" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="5818" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5820" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="5830" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="5833" href="BitML.Semantics.Label.html#1343" class="InductiveConstructor Operator">split⦅</a> <a id="5840" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="5842" href="BitML.Semantics.Label.html#1343" class="InductiveConstructor Operator">⦆</a> <a id="5844" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="5853" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="5856" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5860" class="Symbol">(</a><a id="5861" href="Prelude.Nary.html#689" class="Function">uncurry₃</a> <a id="5870" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="5872" href="Function.Base.html#1554" class="Function">flip</a> <a id="5877" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="5885" class="Symbol">)</a> <a id="5887" href="BitML.Semantics.InferenceRules.html#5614" class="Bound">vcis</a> <a id="5892" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5894" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthRev]"></a><a id="5900" href="BitML.Semantics.InferenceRules.html#5900" class="InductiveConstructor">[C-AuthRev]</a> <a id="5912" class="Symbol">:</a>

      <a id="5921" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="6000" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟨</a> <a id="6002" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6004" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">∶</a> <a id="6006" href="BitML.BasicTypes.html#446" class="Generalizable">a</a> <a id="6008" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">♯</a> <a id="6010" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="6015" href="BitML.BasicTypes.html#403" class="Generalizable">n</a> <a id="6017" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟩</a> <a id="6019" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6021" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="6031" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="6034" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="6044" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6046" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">,</a> <a id="6048" href="BitML.BasicTypes.html#446" class="Generalizable">a</a> <a id="6050" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">⦆</a> <a id="6052" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="6061" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6063" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">∶</a> <a id="6065" href="BitML.BasicTypes.html#446" class="Generalizable">a</a> <a id="6067" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">♯</a> <a id="6069" href="BitML.BasicTypes.html#403" class="Generalizable">n</a> <a id="6071" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6073" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-PutRev]"></a><a id="6079" href="BitML.Semantics.InferenceRules.html#6079" class="InductiveConstructor">[C-PutRev]</a> <a id="6090" class="Symbol">:</a>
    <a id="6096" class="Symbol">∀</a> <a id="6098" class="Symbol">{</a><a id="6099" href="BitML.Semantics.InferenceRules.html#6099" class="Bound">ds</a> <a id="6102" class="Symbol">:</a> <a id="6104" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6109" class="Symbol">(</a><a id="6110" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="6122" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6124" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="6130" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6132" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="6134" class="Symbol">)}</a>
      <a id="6143" class="Symbol">{</a><a id="6144" href="BitML.Semantics.InferenceRules.html#6144" class="Bound">ss</a> <a id="6147" class="Symbol">:</a> <a id="6149" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6154" class="Symbol">(</a><a id="6155" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="6167" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6169" href="BitML.BasicTypes.html#261" class="Function">Secret</a> <a id="6176" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6178" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6179" class="Symbol">)}</a>

    <a id="6187" class="Symbol">→</a> <a id="6189" class="Keyword">let</a> <a id="6193" class="Symbol">(_</a> <a id="6196" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6198" href="BitML.Semantics.InferenceRules.html#6198" class="Bound">vs</a> <a id="6201" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6203" href="BitML.Semantics.InferenceRules.html#6203" class="Bound">xs</a><a id="6205" class="Symbol">)</a> <a id="6207" class="Symbol">=</a> <a id="6209" href="Prelude.Lists.html#9130" class="Function">unzip₃</a> <a id="6216" href="BitML.Semantics.InferenceRules.html#6099" class="Bound">ds</a>
          <a id="6229" class="Symbol">(_</a> <a id="6232" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6234" href="BitML.Semantics.InferenceRules.html#6234" class="Bound">as</a> <a id="6237" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6239" class="Symbol">_)</a>  <a id="6243" class="Symbol">=</a> <a id="6245" href="Prelude.Lists.html#9130" class="Function">unzip₃</a> <a id="6252" href="BitML.Semantics.InferenceRules.html#6144" class="Bound">ss</a>
          <a id="6265" href="BitML.Semantics.InferenceRules.html#6265" class="Bound">Γ</a> <a id="6267" class="Symbol">=</a> <a id="6269" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="6272" href="Data.List.Base.html#1544" class="Function">map</a> <a id="6276" class="Symbol">(</a><a id="6277" href="Prelude.Nary.html#689" class="Function">uncurry₃</a> <a id="6286" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="6296" class="Symbol">)</a> <a id="6298" href="BitML.Semantics.InferenceRules.html#6099" class="Bound">ds</a>
          <a id="6311" href="BitML.Semantics.InferenceRules.html#6311" class="Bound">Δ</a> <a id="6313" class="Symbol">=</a> <a id="6315" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="6318" href="Data.List.Base.html#1544" class="Function">map</a> <a id="6322" class="Symbol">(</a><a id="6323" href="Prelude.Nary.html#689" class="Function">uncurry₃</a> <a id="6332" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">_∶_♯_</a><a id="6337" class="Symbol">)</a> <a id="6339" href="BitML.Semantics.InferenceRules.html#6144" class="Bound">ss</a>
          <a id="6352" href="BitML.Semantics.InferenceRules.html#6352" class="Bound">ΔΓ′</a> <a id="6356" class="Symbol">=</a> <a id="6358" href="BitML.Semantics.InferenceRules.html#6311" class="Bound">Δ</a> <a id="6360" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6362" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>
      <a id="6371" class="Keyword">in</a>

      <a id="6381" href="BitML.Semantics.Predicate.html#1129" class="Function Operator">⟦</a> <a id="6383" href="BitML.Predicate.html#949" class="Generalizable">p</a> <a id="6385" href="BitML.Semantics.Predicate.html#1129" class="Function Operator">⟧</a> <a id="6387" href="BitML.Semantics.InferenceRules.html#6311" class="Bound">Δ</a> <a id="6389" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6391" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="6396" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="6401" class="Comment">-- predicate is true</a>
      <a id="6428" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="6505" class="Symbol">→</a> <a id="6507" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6509" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6511" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">put</a> <a id="6515" href="BitML.Semantics.InferenceRules.html#6203" class="Bound">xs</a> <a id="6518" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">&amp;reveal</a> <a id="6526" href="BitML.Semantics.InferenceRules.html#6234" class="Bound">as</a> <a id="6529" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">if</a> <a id="6532" href="BitML.Predicate.html#949" class="Generalizable">p</a> <a id="6534" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">⇒</a> <a id="6536" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="6538" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6540" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6542" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6544" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6548" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6550" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6552" class="Symbol">(</a><a id="6553" href="BitML.Semantics.InferenceRules.html#6265" class="Bound">Γ</a> <a id="6555" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6557" href="BitML.Semantics.InferenceRules.html#6352" class="Bound">ΔΓ′</a><a id="6560" class="Symbol">)</a>
        <a id="6570" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="6573" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">put⦅</a> <a id="6578" href="BitML.Semantics.InferenceRules.html#6203" class="Bound">xs</a> <a id="6581" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">,</a> <a id="6583" href="BitML.Semantics.InferenceRules.html#6234" class="Bound">as</a> <a id="6586" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">,</a> <a id="6588" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6590" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">⦆</a> <a id="6592" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="6601" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6603" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="6605" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6607" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6609" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6611" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="6615" href="BitML.Semantics.InferenceRules.html#6198" class="Bound">vs</a> <a id="6618" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6622" href="BitML.BasicTypes.html#486" class="Generalizable">z</a> <a id="6624" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6626" href="BitML.Semantics.InferenceRules.html#6352" class="Bound">ΔΓ′</a>


  <a id="_—[_]→_.[C-Withdraw]"></a><a id="6634" href="BitML.Semantics.InferenceRules.html#6634" class="InductiveConstructor">[C-Withdraw]</a> <a id="6647" class="Symbol">:</a>

      <a id="6656" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="6735" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6737" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6739" href="BitML.Contracts.Types.html#884" class="InductiveConstructor">withdraw</a> <a id="6748" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6750" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6752" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6754" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6756" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6760" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6762" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6764" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="6774" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="6777" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">withdraw⦅</a> <a id="6787" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6789" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">,</a> <a id="6791" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6793" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">,</a> <a id="6795" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6797" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">⦆</a> <a id="6799" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="6808" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="6810" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6812" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="6816" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6818" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="6822" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="6824" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6826" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthControl]"></a><a id="6832" href="BitML.Semantics.InferenceRules.html#6832" class="InductiveConstructor">[C-AuthControl]</a> <a id="6848" class="Symbol">:</a>
    <a id="6854" class="Symbol">∀</a> <a id="6856" class="Symbol">{</a><a id="6857" href="BitML.Semantics.InferenceRules.html#6857" class="Bound">i</a> <a id="6859" class="Symbol">:</a> <a id="6861" href="Prelude.Lists.html#1153" class="Function">Index</a> <a id="6867" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="6868" class="Symbol">}</a> <a id="6870" class="Symbol">→</a> <a id="6872" class="Keyword">let</a> <a id="6876" href="BitML.Semantics.InferenceRules.html#6876" class="Bound">d</a> <a id="6878" class="Symbol">=</a> <a id="6880" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="6882" href="Prelude.Lists.html#1259" class="Function Operator">‼</a> <a id="6884" href="BitML.Semantics.InferenceRules.html#6857" class="Bound">i</a> <a id="6886" class="Keyword">in</a>

      <a id="6896" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6898" href="Prelude.Membership.html#384" class="Field Operator">∈</a> <a id="6900" href="BitML.Contracts.Helpers.html#12574" class="Function">authDecorations</a> <a id="6916" href="BitML.Semantics.InferenceRules.html#6876" class="Bound">d</a> <a id="6918" class="Comment">-- D ≡ A : D′</a>
      <a id="6938" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="7015" class="Symbol">→</a> <a id="7017" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7019" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7021" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7023" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7025" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7029" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7031" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7033" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="7043" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7046" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">auth-control⦅</a> <a id="7060" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7062" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">,</a> <a id="7064" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7066" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">▷</a> <a id="7068" href="BitML.Semantics.InferenceRules.html#6876" class="Bound">d</a> <a id="7070" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">⦆</a> <a id="7072" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="7081" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7083" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7085" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7087" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7089" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7093" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7095" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7097" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7099" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="7105" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7107" href="BitML.Semantics.Action.html#784" class="InductiveConstructor Operator">▷</a> <a id="7109" href="BitML.Semantics.InferenceRules.html#6876" class="Bound">d</a> <a id="7111" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="7113" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7115" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="7121" class="Comment">-- T0D0 linearize, i.e. introduce new label and produce intermediate configuration:</a>
  <a id="7207" class="Comment">-- ⟨ c , v ⟩at x ∣ Δ ∣ Γ —[ choice⦅ c , i ⦆ ]→ ⟨ [ d′ ] , v ⟩at x ∣ Γ</a>
  <a id="_—[_]→_.[C-Control]"></a><a id="7279" href="BitML.Semantics.InferenceRules.html#7279" class="InductiveConstructor">[C-Control]</a> <a id="7291" class="Symbol">:</a>
    <a id="7297" class="Symbol">∀</a> <a id="7299" class="Symbol">{</a><a id="7300" href="BitML.Semantics.InferenceRules.html#7300" class="Bound">i</a> <a id="7302" class="Symbol">:</a> <a id="7304" href="Prelude.Lists.html#1153" class="Function">Index</a> <a id="7310" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="7311" class="Symbol">}</a> <a id="7313" class="Symbol">→</a> <a id="7315" class="Keyword">let</a> <a id="7319" href="BitML.Semantics.InferenceRules.html#7319" class="Bound">d</a>  <a id="7322" class="Symbol">=</a> <a id="7324" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7326" href="Prelude.Lists.html#1259" class="Function Operator">‼</a> <a id="7328" href="BitML.Semantics.InferenceRules.html#7300" class="Bound">i</a><a id="7329" class="Symbol">;</a> <a id="7331" href="BitML.Semantics.InferenceRules.html#7331" class="Bound">d′</a> <a id="7334" class="Symbol">=</a> <a id="7336" href="BitML.Contracts.Helpers.html#12737" class="Function">removeTopDecorations</a> <a id="7357" href="BitML.Semantics.InferenceRules.html#7319" class="Bound">d</a> <a id="7359" class="Keyword">in</a>

      <a id="7369" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7371" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7373" href="BitML.Semantics.InferenceRules.html#7331" class="Bound">d′</a> <a id="7376" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="7378" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7380" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7382" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7386" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7388" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7390" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="7392" href="Prelude.Setoid.html#160" class="Field Operator">≈</a> <a id="7394" href="BitML.Semantics.Configurations.Types.html#1547" class="Generalizable">L</a>
    <a id="7400" class="Symbol">→</a> <a id="7402" href="BitML.Semantics.Configurations.Types.html#1547" class="Generalizable">L</a> <a id="7404" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7407" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7409" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="7412" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="7415" class="Comment">-- T0D0 replace with _—↠_?</a>
    <a id="7446" class="Symbol">→</a> <a id="7448" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="7451" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7453" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7455" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="7460" href="BitML.BasicTypes.html#482" class="Generalizable">x</a>
      <a id="7468" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="7545" class="Symbol">→</a> <a id="7547" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7549" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7551" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7553" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7555" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7559" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7561" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7563" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="7566" href="Data.List.Base.html#1544" class="Function">map</a> <a id="7570" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">_auth[</a> <a id="7577" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7579" href="BitML.Semantics.Action.html#784" class="InductiveConstructor Operator">▷</a> <a id="7581" href="BitML.Semantics.InferenceRules.html#7319" class="Bound">d</a> <a id="7583" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="7585" class="Symbol">(</a><a id="7586" href="Prelude.DecLists.html#1244" class="Function">nub</a> <a id="7590" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7592" href="BitML.Contracts.Helpers.html#12574" class="Function">authDecorations</a> <a id="7608" href="BitML.Semantics.InferenceRules.html#7319" class="Bound">d</a><a id="7609" class="Symbol">)</a> <a id="7611" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7613" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="7623" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7626" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7628" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="7637" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>

<a id="_—[_]↛_"></a><a id="7641" href="BitML.Semantics.InferenceRules.html#7641" class="Function Operator">_—[_]↛_</a> <a id="7649" class="Symbol">:</a> <a id="7651" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="7665" class="Symbol">→</a> <a id="7667" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="7673" class="Symbol">→</a> <a id="7675" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="7689" class="Symbol">→</a> <a id="7691" class="PrimitiveType">Set</a>
<a id="7695" href="BitML.Semantics.InferenceRules.html#7695" class="Bound">Γ</a> <a id="7697" href="BitML.Semantics.InferenceRules.html#7641" class="Function Operator">—[</a> <a id="7700" href="BitML.Semantics.InferenceRules.html#7700" class="Bound">α</a> <a id="7702" href="BitML.Semantics.InferenceRules.html#7641" class="Function Operator">]↛</a> <a id="7705" href="BitML.Semantics.InferenceRules.html#7705" class="Bound">Γ′</a> <a id="7708" class="Symbol">=</a> <a id="7710" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="7712" class="Symbol">(</a><a id="7713" href="BitML.Semantics.InferenceRules.html#7695" class="Bound">Γ</a> <a id="7715" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7718" href="BitML.Semantics.InferenceRules.html#7700" class="Bound">α</a> <a id="7720" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="7723" href="BitML.Semantics.InferenceRules.html#7705" class="Bound">Γ′</a><a id="7725" class="Symbol">)</a>

<a id="isControl"></a><a id="7728" href="BitML.Semantics.InferenceRules.html#7728" class="Function">isControl</a> <a id="7738" class="Symbol">:</a> <a id="7740" href="Prelude.Init.html#9627" class="Function">Pred₀</a> <a id="7746" class="Symbol">(</a><a id="7747" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="7749" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7752" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7754" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="7757" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a><a id="7759" class="Symbol">)</a>
<a id="7761" href="BitML.Semantics.InferenceRules.html#7728" class="Function">isControl</a> <a id="7771" class="Symbol">(</a><a id="7772" href="BitML.Semantics.InferenceRules.html#7279" class="InductiveConstructor">[C-Control]</a> <a id="7784" class="Symbol">_</a> <a id="7786" class="Symbol">_</a> <a id="7788" class="Symbol">_)</a> <a id="7791" class="Symbol">=</a> <a id="7793" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="7795" href="BitML.Semantics.InferenceRules.html#7728" class="CatchallClause Function">isControl</a><a id="7804" class="CatchallClause"> </a><a id="7805" class="CatchallClause Symbol">_</a> <a id="7807" class="Symbol">=</a> <a id="7809" href="Data.Empty.html#526" class="Datatype">⊥</a>

<a id="innerL"></a><a id="7812" href="BitML.Semantics.InferenceRules.html#7812" class="Function">innerL</a> <a id="7819" class="Symbol">:</a> <a id="7821" class="Symbol">(</a><a id="7822" href="BitML.Semantics.InferenceRules.html#7822" class="Bound">step</a> <a id="7827" class="Symbol">:</a> <a id="7829" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="7831" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7834" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7836" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="7839" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a><a id="7841" class="Symbol">)</a> <a id="7843" class="Symbol">→</a> <a id="7845" class="Symbol">{</a><a id="7846" href="BitML.Semantics.InferenceRules.html#7728" class="Function">isControl</a> <a id="7856" href="BitML.Semantics.InferenceRules.html#7822" class="Bound">step</a><a id="7860" class="Symbol">}</a> <a id="7862" class="Symbol">→</a> <a id="7864" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a>
<a id="7878" href="BitML.Semantics.InferenceRules.html#7812" class="Function">innerL</a> <a id="7885" class="Symbol">(</a><a id="7886" href="BitML.Semantics.InferenceRules.html#7279" class="InductiveConstructor">[C-Control]</a> <a id="7898" class="Symbol">{</a><a id="7899" class="Argument">L</a> <a id="7901" class="Symbol">=</a> <a id="7903" href="BitML.Semantics.InferenceRules.html#7903" class="Bound">L</a><a id="7904" class="Symbol">}</a> <a id="7906" class="Symbol">_</a> <a id="7908" class="Symbol">_</a> <a id="7910" class="Symbol">_)</a> <a id="7913" class="Symbol">=</a> <a id="7915" href="BitML.Semantics.InferenceRules.html#7903" class="Bound">L</a>

<a id="7918" class="Comment">-- innerStep : (step : Γ —[ α ]→ Γ′) → {isControl step} → innerL step —[ α ]→ Γ′</a>
<a id="7999" class="Comment">-- innerStep ([C-Control] {L = L} _ L→Γ′ _) = L→Γ′</a>


<a id="8052" class="Comment">-------------------------------------------</a>
<a id="8096" class="Comment">-- Semantic rules for timed configurations.</a>

<a id="8141" class="Keyword">infix</a> <a id="8147" class="Number">3</a> <a id="8149" href="BitML.Semantics.InferenceRules.html#8154" class="Function Operator">_≈ₜ_</a>
<a id="_≈ₜ_"></a><a id="8154" href="BitML.Semantics.InferenceRules.html#8154" class="Function Operator">_≈ₜ_</a> <a id="8159" class="Symbol">:</a> <a id="8161" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8180" class="Symbol">→</a> <a id="8182" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8201" class="Symbol">→</a> <a id="8203" class="PrimitiveType">Set</a>
<a id="8207" href="BitML.Semantics.InferenceRules.html#8207" class="Bound">c</a> <a id="8209" href="BitML.Semantics.InferenceRules.html#8154" class="Function Operator">≈ₜ</a> <a id="8212" href="BitML.Semantics.InferenceRules.html#8212" class="Bound">c′</a> <a id="8215" class="Symbol">=</a> <a id="8217" class="Symbol">(</a><a id="8218" href="BitML.Semantics.Configurations.Types.html#1789" class="Field">time</a> <a id="8223" href="BitML.Semantics.InferenceRules.html#8207" class="Bound">c</a> <a id="8225" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8227" href="BitML.Semantics.Configurations.Types.html#1789" class="Field">time</a> <a id="8232" href="BitML.Semantics.InferenceRules.html#8212" class="Bound">c′</a><a id="8234" class="Symbol">)</a> <a id="8236" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8238" class="Symbol">(</a><a id="8239" href="BitML.Semantics.Configurations.Types.html#1764" class="Field">cfg</a> <a id="8243" href="BitML.Semantics.InferenceRules.html#8207" class="Bound">c</a> <a id="8245" href="Prelude.Setoid.html#160" class="Field Operator">≈</a> <a id="8247" href="BitML.Semantics.Configurations.Types.html#1764" class="Field">cfg</a> <a id="8251" href="BitML.Semantics.InferenceRules.html#8212" class="Bound">c′</a><a id="8253" class="Symbol">)</a>

<a id="8256" class="Keyword">infix</a> <a id="8262" class="Number">-1</a> <a id="8265" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">_—[_]→ₜ_</a>
<a id="8274" class="Keyword">data</a> <a id="_—[_]→ₜ_"></a><a id="8279" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">_—[_]→ₜ_</a> <a id="8288" class="Symbol">:</a> <a id="8290" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8309" class="Symbol">→</a> <a id="8311" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="8317" class="Symbol">→</a> <a id="8319" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8338" class="Symbol">→</a> <a id="8340" class="PrimitiveType">Set</a> <a id="8344" class="Keyword">where</a>

  <a id="8353" class="Comment">-- iv) Rules for handling time</a>
  <a id="_—[_]→ₜ_.[Action]"></a><a id="8386" href="BitML.Semantics.InferenceRules.html#8386" class="InductiveConstructor">[Action]</a> <a id="8395" class="Symbol">:</a>

      <a id="8404" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8406" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="8409" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8411" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="8414" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>
    <a id="8421" class="Symbol">→</a> <a id="8423" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="8426" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8428" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8430" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>
      <a id="8444" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="8521" class="Symbol">→</a> <a id="8523" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8525" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8528" href="BitML.BasicTypes.html#520" class="Generalizable">t</a> <a id="8530" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">—[</a> <a id="8533" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8535" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">]→ₜ</a> <a id="8539" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="8542" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8545" href="BitML.BasicTypes.html#520" class="Generalizable">t</a>


  <a id="_—[_]→ₜ_.[Delay]"></a><a id="8551" href="BitML.Semantics.InferenceRules.html#8551" class="InductiveConstructor">[Delay]</a> <a id="8559" class="Symbol">:</a>

      <a id="8568" href="BitML.BasicTypes.html#525" class="Generalizable">δ</a> <a id="8570" href="Prelude.Ord.html#286" class="Function Operator">&gt;</a> <a id="8572" class="Number">0</a>
      <a id="8580" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="8657" class="Symbol">→</a> <a id="8659" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8661" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8664" href="BitML.BasicTypes.html#520" class="Generalizable">t</a> <a id="8666" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">—[</a> <a id="8669" href="BitML.Semantics.Label.html#1632" class="InductiveConstructor Operator">delay⦅</a> <a id="8676" href="BitML.BasicTypes.html#525" class="Generalizable">δ</a> <a id="8678" href="BitML.Semantics.Label.html#1632" class="InductiveConstructor Operator">⦆</a> <a id="8680" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">]→ₜ</a> <a id="8684" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8686" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8689" class="Symbol">(</a><a id="8690" href="BitML.BasicTypes.html#520" class="Generalizable">t</a> <a id="8692" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="8694" href="BitML.BasicTypes.html#525" class="Generalizable">δ</a><a id="8695" class="Symbol">)</a>


  <a id="_—[_]→ₜ_.[Timeout]"></a><a id="8701" href="BitML.Semantics.InferenceRules.html#8701" class="InductiveConstructor">[Timeout]</a> <a id="8711" class="Symbol">:</a>
    <a id="8717" class="Symbol">∀</a> <a id="8719" class="Symbol">{</a><a id="8720" href="BitML.Semantics.InferenceRules.html#8720" class="Bound">i</a> <a id="8722" class="Symbol">:</a> <a id="8724" href="Prelude.Lists.html#1153" class="Function">Index</a> <a id="8730" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="8731" class="Symbol">}</a> <a id="8733" class="Symbol">→</a> <a id="8735" class="Keyword">let</a> <a id="8739" href="BitML.Semantics.InferenceRules.html#8739" class="Bound">d</a> <a id="8741" class="Symbol">=</a> <a id="8743" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="8745" href="Prelude.Lists.html#1259" class="Function Operator">‼</a> <a id="8747" href="BitML.Semantics.InferenceRules.html#8720" class="Bound">i</a><a id="8748" class="Symbol">;</a> <a id="8750" href="BitML.Semantics.InferenceRules.html#8750" class="Bound">d∗</a> <a id="8753" class="Symbol">=</a> <a id="8755" href="BitML.Contracts.Helpers.html#12737" class="Function">removeTopDecorations</a> <a id="8776" href="BitML.Semantics.InferenceRules.html#8739" class="Bound">d</a><a id="8777" class="Symbol">;</a> <a id="8779" href="BitML.Semantics.InferenceRules.html#8779" class="Bound">As</a> <a id="8782" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8784" href="BitML.Semantics.InferenceRules.html#8784" class="Bound">ts</a> <a id="8787" class="Symbol">=</a> <a id="8789" href="BitML.Contracts.Helpers.html#12472" class="Function">decorations</a> <a id="8801" href="BitML.Semantics.InferenceRules.html#8739" class="Bound">d</a> <a id="8803" class="Keyword">in</a>

      <a id="8813" href="BitML.Semantics.InferenceRules.html#8779" class="Bound">As</a> <a id="8816" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8818" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>                           <a id="8847" class="Comment">-- no authorizations required to pick branch</a>
    <a id="8896" class="Symbol">→</a> <a id="8898" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="8902" class="Symbol">(</a><a id="8903" href="Prelude.Ord.html#214" class="Field Operator">_≤</a> <a id="8906" href="BitML.BasicTypes.html#520" class="Generalizable">t</a><a id="8907" class="Symbol">)</a> <a id="8909" href="BitML.Semantics.InferenceRules.html#8784" class="Bound">ts</a>                     <a id="8932" class="Comment">-- all time constraints are satisfied</a>
    <a id="8974" class="Symbol">→</a> <a id="8976" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="8978" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="8980" href="BitML.Semantics.InferenceRules.html#8750" class="Bound">d∗</a> <a id="8983" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="8985" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="8987" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="8989" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="8993" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="8995" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="8997" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8999" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="9002" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="9004" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="9007" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="9010" class="Comment">-- resulting state if we pick branch</a>
    <a id="9051" class="Symbol">→</a> <a id="9053" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="9056" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="9058" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9060" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="9065" href="BitML.BasicTypes.html#482" class="Generalizable">x</a>
      <a id="9073" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="9150" class="Symbol">→</a> <a id="9152" class="Symbol">(</a><a id="9153" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="9155" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="9157" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="9159" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="9161" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="9165" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="9167" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="9169" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a><a id="9170" class="Symbol">)</a> <a id="9172" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="9175" href="BitML.BasicTypes.html#520" class="Generalizable">t</a> <a id="9177" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">—[</a> <a id="9180" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="9182" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">]→ₜ</a> <a id="9186" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="9189" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="9192" href="BitML.BasicTypes.html#520" class="Generalizable">t</a>

<a id="9195" class="Comment">-----------------------------------------------------------------------------------</a>
<a id="9279" class="Comment">-- Derive the reflexive transitive closure for of _—→_ and _—→ₜ_.</a>

<a id="9346" class="Keyword">open</a> <a id="9351" class="Keyword">import</a> <a id="9358" href="Prelude.Closures.html" class="Module">Prelude.Closures</a>
<a id="9375" class="Keyword">open</a> <a id="9380" href="Prelude.Closures.html#2695" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="9419" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">_—[_]→_</a> <a id="9427" class="Keyword">public</a>
<a id="9434" class="Keyword">open</a> <a id="9439" href="Prelude.Closures.html#2695" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="9478" href="BitML.Semantics.InferenceRules.html#8279" class="Datatype Operator">_—[_]→ₜ_</a> <a id="9487" class="Keyword">public</a>
  <a id="9496" class="Keyword">renaming</a> <a id="9505" class="Symbol">(</a> begin_ <a id="9514" class="Symbol">to</a> beginₜ_<a id="9524" class="Symbol">;</a> _∎ <a id="9529" class="Symbol">to</a> _∎ₜ
           <a id="9547" class="Symbol">;</a> _—→⟨_⟩_⊢_ <a id="9559" class="Symbol">to</a> _—→ₜ⟨_⟩_⊢_<a id="9572" class="Symbol">;</a> _—→⟨_⟩_ <a id="9582" class="Symbol">to</a> _—→ₜ⟨_⟩_<a id="9593" class="Symbol">;</a> _`—→⟨_⟩_⊢_ <a id="9606" class="Symbol">to</a> _`—→ₜ⟨_⟩_⊢_
           <a id="9632" class="Symbol">;</a> _—→_ <a id="9639" class="Symbol">to</a> _—→ₜ_
           <a id="9659" class="Symbol">;</a> _—[_]↠_ <a id="9669" class="Symbol">to</a> _—[_]↠ₜ_<a id="9680" class="Symbol">;</a> _—↠_ <a id="9687" class="Symbol">to</a> _—↠ₜ_
           <a id="9707" class="Symbol">;</a> _—[_]↠⁺_ <a id="9718" class="Symbol">to</a> _—[_]↠⁺ₜ_<a id="9730" class="Symbol">;</a> _—↠⁺_ <a id="9738" class="Symbol">to</a> _—↠⁺ₜ_
           <a id="9759" class="Symbol">;</a> _⟨_⟩←—_⊢_ <a id="9771" class="Symbol">to</a> _⟨_⟩←—ₜ_⊢_<a id="9784" class="Symbol">;</a> _⟨_⟩←—_ <a id="9794" class="Symbol">to</a> _⟨_⟩←—ₜ_<a id="9805" class="Symbol">;</a> _`⟨_⟩←—_⊢_ <a id="9818" class="Symbol">to</a> _`⟨_⟩←—ₜ_⊢_
           <a id="9844" class="Symbol">;</a> _←[_]—_ <a id="9854" class="Symbol">to</a> _←[_]—ₜ_<a id="9865" class="Symbol">;</a> _←—_ <a id="9872" class="Symbol">to</a> _←—ₜ_
           <a id="9892" class="Symbol">;</a> _↞[_]—_ <a id="9902" class="Symbol">to</a> _↞[_]—ₜ_<a id="9913" class="Symbol">;</a> _↞—_ <a id="9920" class="Symbol">to</a> _↞—ₜ_
           <a id="9940" class="Symbol">;</a> _⁺↞[_]—_ <a id="9951" class="Symbol">to</a> _⁺↞[_]—ₜ_<a id="9963" class="Symbol">;</a> _⁺↞—_ <a id="9971" class="Symbol">to</a> _⁺↞—ₜ_
           <a id="9992" class="Symbol">;</a> viewLeft <a id="10003" class="Symbol">to</a> viewLeftₜ<a id="10015" class="Symbol">;</a> viewRight <a id="10027" class="Symbol">to</a> viewRightₜ<a id="10040" class="Symbol">;</a> view↔ <a id="10048" class="Symbol">to</a> view↔ₜ
           <a id="10069" class="Symbol">)</a>
</pre></body></html>