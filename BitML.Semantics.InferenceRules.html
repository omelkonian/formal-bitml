<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Semantics.InferenceRules</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-----------------------------------------------</a>
<a id="49" class="Comment">-- Small-step semantics for the BitML calculus.</a>
<a id="97" class="Comment">-----------------------------------------------</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Prelude.DecLists.html" class="Module">Prelude.DecLists</a>
<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Prelude.Sets.html" class="Module">Prelude.Sets</a>
<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Prelude.Nary.html" class="Module">Prelude.Nary</a> <a id="332" class="Keyword">hiding</a> <a id="339" class="Symbol">(</a><a id="340" href="Prelude.Nary.html#219" class="Function Operator">⟦_⟧</a><a id="343" class="Symbol">)</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>

<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="426" class="Keyword">open</a> <a id="431" class="Keyword">import</a> <a id="438" href="BitML.Predicate.html" class="Module">BitML.Predicate</a> <a id="454" class="Keyword">hiding</a> <a id="461" class="Symbol">(</a><a id="462" href="BitML.Predicate.html#512" class="InductiveConstructor">`</a><a id="463" class="Symbol">;</a> <a id="465" href="BitML.Predicate.html#531" class="InductiveConstructor Operator">∣_∣</a><a id="468" class="Symbol">)</a>

<a id="471" class="Keyword">module</a> <a id="478" href="BitML.Semantics.InferenceRules.html" class="Module">BitML.Semantics.InferenceRules</a>
  <a id="511" class="Symbol">(</a><a id="512" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="524" class="Symbol">:</a> <a id="526" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="529" class="Symbol">)</a>
  <a id="533" class="Symbol">⦃</a> <a id="535" href="BitML.Semantics.InferenceRules.html#535" class="Bound">_</a> <a id="537" class="Symbol">:</a> <a id="539" href="Prelude.DecEq.Core.html#103" class="Record">DecEq</a> <a id="545" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="557" class="Symbol">⦄</a>
  <a id="561" class="Symbol">(</a><a id="562" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a> <a id="569" class="Symbol">:</a> <a id="571" href="Data.List.NonEmpty.Base.html#1079" class="Record">List⁺</a> <a id="577" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a><a id="588" class="Symbol">)</a>
  <a id="592" class="Keyword">where</a>

<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="BitML.Contracts.html" class="Module">BitML.Contracts</a> <a id="627" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="639" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="646" class="Keyword">open</a> <a id="651" class="Keyword">import</a> <a id="658" href="BitML.Semantics.Action.html" class="Module">BitML.Semantics.Action</a> <a id="681" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="693" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="BitML.Semantics.Configurations.Types.html" class="Module">BitML.Semantics.Configurations.Types</a> <a id="749" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="761" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="768" class="Keyword">open</a> <a id="773" class="Keyword">import</a> <a id="780" href="BitML.Semantics.Configurations.Helpers.html" class="Module">BitML.Semantics.Configurations.Helpers</a> <a id="819" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="831" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="838" class="Keyword">open</a> <a id="843" class="Keyword">import</a> <a id="850" href="BitML.Semantics.Label.html" class="Module">BitML.Semantics.Label</a> <a id="872" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="884" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>
<a id="891" class="Keyword">open</a> <a id="896" class="Keyword">import</a> <a id="903" href="BitML.Semantics.Predicate.html" class="Module">BitML.Semantics.Predicate</a> <a id="929" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="941" href="BitML.Semantics.InferenceRules.html#562" class="Bound">Honest</a>

<a id="949" class="Comment">---------------------------------------------</a>
<a id="995" class="Comment">-- Semantic rules for untimed configurations.</a>

<a id="1042" class="Comment">-- T0D0 fresh variables can be arbitrarily picked out, maybe that is wrong?</a>
<a id="1118" class="Comment">-- solve by requiring something like `fresh α ∉ fuv(Γ)`</a>

<a id="1175" class="Keyword">infix</a> <a id="1181" class="Number">-1</a> <a id="1184" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">_—[_]→_</a> <a id="1192" href="BitML.Semantics.InferenceRules.html#7838" class="Function Operator">_—[_]↛_</a>
<a id="1200" class="Keyword">data</a> <a id="_—[_]→_"></a><a id="1205" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">_—[_]→_</a> <a id="1213" class="Symbol">:</a> <a id="1215" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="1237" class="Symbol">→</a> <a id="1239" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="1253" class="Symbol">→</a> <a id="1255" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1259" class="Keyword">where</a>

  <a id="1268" class="Comment">------------------------------</a>
  <a id="1301" class="Comment">-- i) Rules for deposits</a>

  <a id="_—[_]→_.[DEP-AuthJoin]"></a><a id="1329" href="BitML.Semantics.InferenceRules.html#1329" class="InductiveConstructor">[DEP-AuthJoin]</a> <a id="1344" class="Symbol">:</a>

      <a id="1353" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="1432" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1434" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1436" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1440" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1442" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1446" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1448" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1450" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1452" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1454" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1458" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1461" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1465" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1467" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1469" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="1479" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="1482" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">auth-join⦅</a> <a id="1493" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1495" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">,</a> <a id="1497" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1499" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">↔</a> <a id="1501" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1503" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">⦆</a> <a id="1505" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="1514" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1516" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1518" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1522" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1524" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1528" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1530" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1532" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1534" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1536" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1540" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1543" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1547" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1549" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1551" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1553" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="1559" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1561" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">↔</a> <a id="1563" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1565" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">▷⟨</a> <a id="1568" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1570" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">,</a> <a id="1572" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1574" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1576" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1579" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">⟩</a> <a id="1581" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="1583" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1585" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Join]"></a><a id="1591" href="BitML.Semantics.InferenceRules.html#1591" class="InductiveConstructor">[DEP-Join]</a> <a id="1602" class="Symbol">:</a> <a id="1604" class="Comment">-- T0D0: z fresh</a>

      <a id="1628" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="1707" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1709" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1711" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1715" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1717" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1721" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1723" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1725" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1727" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1729" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1733" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1736" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1740" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1742" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1744" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1746" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="1752" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1754" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">↔</a> <a id="1756" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1758" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">▷⟨</a> <a id="1761" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1763" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">,</a> <a id="1765" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1767" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1769" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1772" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">⟩</a> <a id="1774" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="1776" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1778" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="1788" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="1791" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">join⦅</a> <a id="1797" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1799" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">↔</a> <a id="1801" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="1803" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">⦆</a> <a id="1805" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="1814" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1816" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1818" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1822" class="Symbol">(</a><a id="1823" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1825" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1827" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="1829" class="Symbol">)</a> <a id="1831" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1835" href="BitML.BasicTypes.html#486" class="Generalizable">z</a> <a id="1837" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1839" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDivide]"></a><a id="1845" href="BitML.Semantics.InferenceRules.html#1845" class="InductiveConstructor">[DEP-AuthDivide]</a> <a id="1862" class="Symbol">:</a>

      <a id="1871" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="1950" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1952" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1954" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1958" class="Symbol">(</a><a id="1959" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1961" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1963" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="1965" class="Symbol">)</a> <a id="1967" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1971" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="1973" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1975" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="1985" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="1988" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="2001" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2003" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">,</a> <a id="2005" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2007" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">▷</a> <a id="2009" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2011" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">,</a> <a id="2013" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2016" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">⦆</a> <a id="2018" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="2027" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2029" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2031" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2035" class="Symbol">(</a><a id="2036" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2038" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2040" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="2042" class="Symbol">)</a> <a id="2044" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2048" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2050" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2052" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2054" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2060" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2062" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">▷⟨</a> <a id="2065" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2067" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2069" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2071" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2073" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2076" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">⟩</a> <a id="2078" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2080" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2082" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Divide]"></a><a id="2088" href="BitML.Semantics.InferenceRules.html#2088" class="InductiveConstructor">[DEP-Divide]</a> <a id="2101" class="Symbol">:</a> <a id="2103" class="Comment">-- T0D0: y/y′ fresh</a>

      <a id="2130" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="2209" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2211" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2213" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2217" class="Symbol">(</a><a id="2218" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2220" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2222" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="2224" class="Symbol">)</a> <a id="2226" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2230" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2232" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2234" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2236" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2242" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2244" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">▷⟨</a> <a id="2247" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2249" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2251" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2253" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2255" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2258" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">⟩</a> <a id="2260" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2262" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2264" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="2274" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="2277" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">divide⦅</a> <a id="2285" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2287" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">▷</a> <a id="2289" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2291" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">,</a> <a id="2293" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2296" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">⦆</a> <a id="2298" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="2307" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2309" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2311" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2315" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2317" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2321" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="2323" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2325" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2327" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2329" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2333" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2336" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2340" href="BitML.BasicTypes.html#491" class="Generalizable">y′</a> <a id="2343" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2345" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDonate]"></a><a id="2351" href="BitML.Semantics.InferenceRules.html#2351" class="InductiveConstructor">[DEP-AuthDonate]</a> <a id="2368" class="Symbol">:</a>

      <a id="2377" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="2456" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2458" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2460" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2464" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2466" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2470" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2472" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2474" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="2484" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="2487" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="2500" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2502" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">,</a> <a id="2504" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2506" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2509" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2511" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">⦆</a> <a id="2513" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="2522" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2524" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2526" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2530" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2532" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2536" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2538" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2540" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2542" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2548" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2550" href="BitML.Semantics.Action.html#1003" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2553" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2555" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2557" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2559" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Donate]"></a><a id="2565" href="BitML.Semantics.InferenceRules.html#2565" class="InductiveConstructor">[DEP-Donate]</a> <a id="2578" class="Symbol">:</a> <a id="2580" class="Comment">-- T0D0: y fresh</a>

      <a id="2604" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="2683" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2685" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2687" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2691" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2693" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2697" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2699" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2701" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2703" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2709" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2711" href="BitML.Semantics.Action.html#1003" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2714" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2716" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2718" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2720" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="2730" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="2733" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">donate⦅</a> <a id="2741" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="2743" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2746" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2748" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">⦆</a> <a id="2750" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="2759" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2761" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2763" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2767" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2769" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2773" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="2775" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2777" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDestroy]"></a><a id="2783" href="BitML.Semantics.InferenceRules.html#2783" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="2801" class="Symbol">:</a> <a id="2803" class="Comment">-- T0D0: y fresh (except in destroy authorizations for xs)</a>
    <a id="2866" class="Symbol">∀</a> <a id="2868" class="Symbol">{</a><a id="2869" href="BitML.Semantics.InferenceRules.html#2869" class="Bound">ds</a> <a id="2872" class="Symbol">:</a> <a id="2874" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2879" class="Symbol">(</a><a id="2880" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="2892" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2894" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="2900" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2902" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="2904" class="Symbol">)}</a> <a id="2907" class="Symbol">{</a><a id="2908" href="BitML.Semantics.InferenceRules.html#2908" class="Bound">j</a> <a id="2910" class="Symbol">:</a> <a id="2912" href="Prelude.Lists.html#1153" class="Function">Index</a> <a id="2918" href="BitML.Semantics.InferenceRules.html#2869" class="Bound">ds</a><a id="2920" class="Symbol">}</a>

    <a id="2927" class="Symbol">→</a> <a id="2929" class="Keyword">let</a> <a id="2933" href="BitML.Semantics.InferenceRules.html#2933" class="Bound">xs</a> <a id="2936" class="Symbol">=</a> <a id="2938" href="Data.List.Base.html#1544" class="Function">map</a> <a id="2942" href="Prelude.Nary.html#2974" class="Function">select₃</a> <a id="2950" href="BitML.Semantics.InferenceRules.html#2869" class="Bound">ds</a>
          <a id="2963" href="BitML.Semantics.InferenceRules.html#2963" class="Bound">Aj</a> <a id="2966" class="Symbol">=</a> <a id="2968" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="2974" class="Symbol">(</a><a id="2975" href="BitML.Semantics.InferenceRules.html#2869" class="Bound">ds</a> <a id="2978" href="Prelude.Lists.html#1259" class="Function Operator">‼</a> <a id="2980" href="BitML.Semantics.InferenceRules.html#2908" class="Bound">j</a><a id="2981" class="Symbol">)</a>
          <a id="2993" href="BitML.Semantics.InferenceRules.html#2993" class="Bound">j′</a> <a id="2996" class="Symbol">=</a> <a id="2998" href="Prelude.Lists.html#4855" class="Function">‼-map</a> <a id="3004" class="Symbol">{</a><a id="3005" class="Argument">xs</a> <a id="3008" class="Symbol">=</a> <a id="3010" href="BitML.Semantics.InferenceRules.html#2869" class="Bound">ds</a><a id="3012" class="Symbol">}</a> <a id="3014" href="BitML.Semantics.InferenceRules.html#2908" class="Bound">j</a>
          <a id="3026" href="BitML.Semantics.InferenceRules.html#3026" class="Bound">Δ</a>  <a id="3029" class="Symbol">=</a> <a id="3031" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="3034" href="Data.List.Base.html#1544" class="Function">map</a> <a id="3038" class="Symbol">(</a><a id="3039" href="Prelude.Nary.html#690" class="Function">uncurry₃</a> <a id="3048" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="3058" class="Symbol">)</a> <a id="3060" href="BitML.Semantics.InferenceRules.html#2869" class="Bound">ds</a>
      <a id="3069" class="Keyword">in</a>
      <a id="3078" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="3157" href="BitML.Semantics.InferenceRules.html#3026" class="Bound">Δ</a> <a id="3159" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3161" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="3171" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="3174" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="3188" href="BitML.Semantics.InferenceRules.html#2963" class="Bound">Aj</a> <a id="3191" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">,</a> <a id="3193" href="BitML.Semantics.InferenceRules.html#2933" class="Bound">xs</a> <a id="3196" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">,</a> <a id="3198" href="BitML.Semantics.InferenceRules.html#2993" class="Bound">j′</a> <a id="3201" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">⦆</a> <a id="3203" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="3212" href="BitML.Semantics.InferenceRules.html#3026" class="Bound">Δ</a> <a id="3214" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3216" href="BitML.Semantics.InferenceRules.html#2963" class="Bound">Aj</a> <a id="3219" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="3225" href="BitML.Semantics.InferenceRules.html#2933" class="Bound">xs</a> <a id="3228" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">,</a> <a id="3230" href="BitML.Semantics.InferenceRules.html#2993" class="Bound">j′</a> <a id="3233" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3237" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="3239" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="3241" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3243" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Destroy]"></a><a id="3249" href="BitML.Semantics.InferenceRules.html#3249" class="InductiveConstructor">[DEP-Destroy]</a> <a id="3263" class="Symbol">:</a>
    <a id="3269" class="Symbol">∀</a> <a id="3271" class="Symbol">{</a><a id="3272" href="BitML.Semantics.InferenceRules.html#3272" class="Bound">ds</a> <a id="3275" class="Symbol">:</a> <a id="3277" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3282" class="Symbol">(</a><a id="3283" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="3295" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3297" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="3303" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3305" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="3307" class="Symbol">)}</a>

    <a id="3315" class="Symbol">→</a> <a id="3317" class="Keyword">let</a> <a id="3321" href="BitML.Semantics.InferenceRules.html#3321" class="Bound">xs</a> <a id="3324" class="Symbol">=</a> <a id="3326" href="Data.List.Base.html#1544" class="Function">map</a> <a id="3330" href="Prelude.Nary.html#2974" class="Function">select₃</a> <a id="3338" href="BitML.Semantics.InferenceRules.html#3272" class="Bound">ds</a>
          <a id="3351" href="BitML.Semantics.InferenceRules.html#3351" class="Bound">Δ</a>  <a id="3354" class="Symbol">=</a> <a id="3356" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="3359" href="Data.List.Base.html#1544" class="Function">map</a> <a id="3363" class="Symbol">(λ{</a> <a id="3367" class="Symbol">(</a><a id="3368" href="BitML.Semantics.InferenceRules.html#3368" class="Bound">i</a> <a id="3370" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3372" href="BitML.Semantics.InferenceRules.html#3372" class="Bound">Ai</a> <a id="3375" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3377" href="BitML.Semantics.InferenceRules.html#3377" class="Bound">vi</a> <a id="3380" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3382" href="BitML.Semantics.InferenceRules.html#3382" class="Bound">xi</a><a id="3384" class="Symbol">)</a> <a id="3386" class="Symbol">→</a> <a id="3388" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="3390" href="BitML.Semantics.InferenceRules.html#3372" class="Bound">Ai</a> <a id="3393" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="3397" href="BitML.Semantics.InferenceRules.html#3377" class="Bound">vi</a> <a id="3400" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="3404" href="BitML.Semantics.InferenceRules.html#3382" class="Bound">xi</a> <a id="3407" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3409" href="BitML.Semantics.InferenceRules.html#3372" class="Bound">Ai</a> <a id="3412" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="3418" href="BitML.Semantics.InferenceRules.html#3321" class="Bound">xs</a> <a id="3421" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">,</a> <a id="3423" href="Prelude.Lists.html#4855" class="Function">‼-map</a> <a id="3429" class="Symbol">{</a><a id="3430" class="Argument">xs</a> <a id="3433" class="Symbol">=</a> <a id="3435" href="BitML.Semantics.InferenceRules.html#3272" class="Bound">ds</a><a id="3437" class="Symbol">}</a> <a id="3439" href="BitML.Semantics.InferenceRules.html#3368" class="Bound">i</a> <a id="3441" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3445" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="3447" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="3449" class="Symbol">})</a>
                      <a id="3474" class="Symbol">(</a><a id="3475" href="Prelude.Lists.html#2177" class="Function">enumerate</a> <a id="3485" href="BitML.Semantics.InferenceRules.html#3272" class="Bound">ds</a><a id="3487" class="Symbol">)</a>
      <a id="3495" class="Keyword">in</a>
      <a id="3504" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="3583" href="BitML.Semantics.InferenceRules.html#3351" class="Bound">Δ</a> <a id="3585" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3587" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="3597" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="3600" href="BitML.Semantics.Label.html#1010" class="InductiveConstructor Operator">destroy⦅</a> <a id="3609" href="BitML.Semantics.InferenceRules.html#3321" class="Bound">xs</a> <a id="3612" href="BitML.Semantics.Label.html#1010" class="InductiveConstructor Operator">⦆</a> <a id="3614" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="3623" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>

  <a id="3628" class="Comment">------------------------------------------------------------</a>
  <a id="3691" class="Comment">-- ii) Rules for contract advertisements and stipulation</a>

  <a id="_—[_]→_.[C-Advertise]"></a><a id="3751" href="BitML.Semantics.InferenceRules.html#3751" class="InductiveConstructor">[C-Advertise]</a> <a id="3765" class="Symbol">:</a> <a id="3767" class="Keyword">let</a> <a id="3771" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="3773" href="BitML.Semantics.InferenceRules.html#3773" class="Bound">G</a> <a id="3775" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="3777" class="Symbol">_</a> <a id="3779" class="Symbol">=</a> <a id="3781" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a><a id="3783" class="Symbol">;</a> <a id="3785" href="BitML.Semantics.InferenceRules.html#3785" class="Bound">partG</a> <a id="3791" class="Symbol">=</a> <a id="3793" href="BitML.Contracts.Helpers.html#2611" class="Function">nub-participants</a> <a id="3810" href="BitML.Semantics.InferenceRules.html#3773" class="Bound">G</a> <a id="3812" class="Keyword">in</a>

      <a id="3822" href="BitML.Contracts.Validity.html#1748" class="Record">ValidAdvertisement</a> <a id="3841" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a>    <a id="3847" class="Comment">-- the advertisement is valid</a>
    <a id="3881" class="Symbol">→</a> <a id="3883" href="Data.List.Relation.Unary.Any.html#1156" class="Datatype">Any</a> <a id="3887" class="Symbol">(</a><a id="3888" href="Prelude.Membership.html#384" class="Field Operator">_∈</a> <a id="3891" href="BitML.Contracts.Types.html#482" class="Function">Hon</a><a id="3894" class="Symbol">)</a> <a id="3896" href="BitML.Semantics.InferenceRules.html#3785" class="Bound">partG</a>       <a id="3908" class="Comment">-- at least one honest participant</a>
    <a id="3947" class="Symbol">→</a> <a id="3949" href="BitML.Contracts.Helpers.html#6482" class="Function">deposits</a> <a id="3958" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="3961" href="Data.List.Relation.Binary.Subset.Setoid.html#739" class="Function Operator">⊆</a> <a id="3963" href="BitML.Contracts.Helpers.html#6482" class="Function">deposits</a> <a id="3972" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="3974" class="Comment">-- all persistent deposits in place</a>
      <a id="4016" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="4093" class="Symbol">→</a> <a id="4095" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4097" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="4100" href="BitML.Semantics.Label.html#1052" class="InductiveConstructor Operator">advertise⦅</a> <a id="4111" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4114" href="BitML.Semantics.Label.html#1052" class="InductiveConstructor Operator">⦆</a> <a id="4116" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="4119" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4121" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4124" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4126" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthCommit]"></a><a id="4132" href="BitML.Semantics.InferenceRules.html#4132" class="InductiveConstructor">[C-AuthCommit]</a> <a id="4147" class="Symbol">:</a> <a id="4149" class="Keyword">let</a> <a id="4153" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="4155" href="BitML.Semantics.InferenceRules.html#4155" class="Bound">G</a> <a id="4157" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="4159" class="Symbol">_</a> <a id="4161" class="Symbol">=</a> <a id="4163" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4166" class="Keyword">in</a>
    <a id="4173" class="Symbol">∀</a> <a id="4175" class="Symbol">{</a><a id="4176" href="BitML.Semantics.InferenceRules.html#4176" class="Bound">secrets</a> <a id="4184" class="Symbol">:</a> <a id="4186" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4191" class="Symbol">(</a><a id="4192" href="BitML.BasicTypes.html#261" class="Function">Secret</a> <a id="4199" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4201" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4207" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4208" class="Symbol">)}</a>

    <a id="4216" class="Symbol">→</a> <a id="4218" class="Keyword">let</a> <a id="4222" class="Symbol">(</a><a id="4223" href="BitML.Semantics.InferenceRules.html#4223" class="Bound">as</a> <a id="4226" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4228" href="BitML.Semantics.InferenceRules.html#4228" class="Bound">ms</a><a id="4230" class="Symbol">)</a> <a id="4232" class="Symbol">=</a> <a id="4234" href="Data.List.Base.html#3699" class="Function">unzip</a> <a id="4240" href="BitML.Semantics.InferenceRules.html#4176" class="Bound">secrets</a>
          <a id="4258" href="BitML.Semantics.InferenceRules.html#4258" class="Bound">Δ</a>         <a id="4268" class="Symbol">=</a> <a id="4270" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="4273" href="Data.List.Base.html#1544" class="Function">map</a> <a id="4277" class="Symbol">(</a><a id="4278" href="Data.Product.html#3422" class="Function">uncurry</a> <a id="4286" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟨</a> <a id="4288" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4290" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4295" class="Symbol">)</a> <a id="4297" href="BitML.Semantics.InferenceRules.html#4176" class="Bound">secrets</a>
      <a id="4311" class="Keyword">in</a>

      <a id="4321" href="BitML.Semantics.InferenceRules.html#4223" class="Bound">as</a> <a id="4324" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4326" href="BitML.Contracts.Helpers.html#7257" class="Function">secretsOfᵖ</a> <a id="4337" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4339" href="BitML.Semantics.InferenceRules.html#4155" class="Bound">G</a>         <a id="4349" class="Comment">-- a₁..aₖ secrets of A in G</a>
    <a id="4381" class="Symbol">→</a> <a id="4383" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="4387" class="Symbol">(</a><a id="4388" href="Prelude.Membership.html#457" class="Function Operator">_∉</a> <a id="4391" href="BitML.Semantics.Configurations.Helpers.html#6204" class="Function">secretsOfᶜᶠ</a> <a id="4403" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4405" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a><a id="4406" class="Symbol">)</a> <a id="4408" href="BitML.Semantics.InferenceRules.html#4223" class="Bound">as</a> <a id="4411" class="Comment">-- ∀i ∈ 1..k : ∄N : {A : aᵢ ♯ N} ∈ Γ</a>
    <a id="4452" class="Symbol">→</a> <a id="4454" class="Symbol">(</a><a id="4455" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4457" href="Prelude.Membership.html#384" class="Field Operator">∈</a> <a id="4459" href="BitML.Contracts.Types.html#482" class="Function">Hon</a> <a id="4463" class="Symbol">→</a> <a id="4465" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="4469" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="4477" href="BitML.Semantics.InferenceRules.html#4228" class="Bound">ms</a><a id="4479" class="Symbol">)</a>  <a id="4482" class="Comment">-- honest participants commit to valid lengths</a>
      <a id="4535" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="4612" class="Symbol">→</a> <a id="4614" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4616" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4619" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4621" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="4631" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="4634" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="4647" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4649" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">,</a> <a id="4651" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4654" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">,</a> <a id="4656" href="BitML.Semantics.InferenceRules.html#4176" class="Bound">secrets</a> <a id="4664" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">⦆</a> <a id="4666" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="4675" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4677" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4680" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4682" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4684" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4686" href="BitML.Semantics.InferenceRules.html#4258" class="Bound">Δ</a> <a id="4688" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4690" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4692" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="4698" href="BitML.Semantics.Action.html#666" class="InductiveConstructor Operator">♯▷</a> <a id="4701" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4704" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-AuthInit]"></a><a id="4710" href="BitML.Semantics.InferenceRules.html#4710" class="InductiveConstructor">[C-AuthInit]</a> <a id="4723" class="Symbol">:</a> <a id="4725" class="Keyword">let</a> <a id="4729" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="4731" href="BitML.Semantics.InferenceRules.html#4731" class="Bound">G</a> <a id="4733" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="4735" class="Symbol">_</a> <a id="4737" class="Symbol">=</a> <a id="4739" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a><a id="4741" class="Symbol">;</a> <a id="4743" href="BitML.Semantics.InferenceRules.html#4743" class="Bound">partG</a> <a id="4749" class="Symbol">=</a> <a id="4751" href="BitML.Contracts.Helpers.html#2611" class="Function">nub-participants</a> <a id="4768" href="BitML.Semantics.InferenceRules.html#4731" class="Bound">G</a> <a id="4770" class="Keyword">in</a>

      <a id="4780" href="BitML.Semantics.InferenceRules.html#4743" class="Bound">partG</a> <a id="4786" href="Data.List.Relation.Binary.Subset.Setoid.html#739" class="Function Operator">⊆</a> <a id="4788" href="BitML.Semantics.Configurations.Helpers.html#6433" class="Function">committedParticipants</a> <a id="4810" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4813" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4815" class="Comment">-- all participants have committed their secrets</a>
    <a id="4868" class="Symbol">→</a> <a id="4870" class="Symbol">(</a><a id="4871" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4873" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4875" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="4877" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4879" href="BitML.BasicTypes.html#482" class="Generalizable">x</a><a id="4880" class="Symbol">)</a> <a id="4882" href="Prelude.Membership.html#384" class="Field Operator">∈</a> <a id="4884" href="BitML.Contracts.Helpers.html#8617" class="Function">persistentDeposits</a> <a id="4903" href="BitML.Semantics.InferenceRules.html#4731" class="Bound">G</a> <a id="4905" class="Comment">-- G = A :! v @ x | ...</a>
      <a id="4935" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="5012" class="Symbol">→</a> <a id="5014" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="5016" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5019" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5021" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="5031" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="5034" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">auth-init⦅</a> <a id="5045" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="5047" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">,</a> <a id="5049" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5052" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">,</a> <a id="5054" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="5056" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">⦆</a> <a id="5058" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="5067" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="5069" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5072" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5074" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="5076" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5078" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="5080" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="5086" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="5088" href="BitML.Semantics.Action.html#729" class="InductiveConstructor Operator">▷ˢ</a> <a id="5091" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5094" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a>


  <a id="5100" class="Comment">-- T0D0: x fresh</a>
  <a id="_—[_]→_.[C-Init]"></a><a id="5119" href="BitML.Semantics.InferenceRules.html#5119" class="InductiveConstructor">[C-Init]</a> <a id="5128" class="Symbol">:</a> <a id="5130" class="Keyword">let</a> <a id="5134" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="5136" href="BitML.Semantics.InferenceRules.html#5136" class="Bound">G</a> <a id="5138" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="5140" href="BitML.Semantics.InferenceRules.html#5140" class="Bound">C</a> <a id="5142" class="Symbol">=</a> <a id="5144" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a><a id="5146" class="Symbol">;</a> <a id="5148" href="BitML.Semantics.InferenceRules.html#5148" class="Bound">partG</a> <a id="5154" class="Symbol">=</a> <a id="5156" href="BitML.Contracts.Helpers.html#2611" class="Function">nub-participants</a> <a id="5173" href="BitML.Semantics.InferenceRules.html#5136" class="Bound">G</a> <a id="5175" class="Keyword">in</a>

      <a id="5185" class="Comment">-- all participants have committed their secrets (guaranteed from [C-AuthInit])</a>

      <a id="5272" class="Keyword">let</a> <a id="5276" href="BitML.Semantics.InferenceRules.html#5276" class="Bound">toSpend</a> <a id="5284" class="Symbol">=</a> <a id="5286" href="BitML.Contracts.Helpers.html#8617" class="Function">persistentDeposits</a> <a id="5305" href="BitML.Semantics.InferenceRules.html#5136" class="Bound">G</a>
          <a id="5317" href="BitML.Semantics.InferenceRules.html#5317" class="Bound">vs</a>      <a id="5325" class="Symbol">=</a> <a id="5327" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5331" href="Prelude.Nary.html#2263" class="Function">select₂</a> <a id="5339" href="BitML.Semantics.InferenceRules.html#5276" class="Bound">toSpend</a>
      <a id="5353" class="Keyword">in</a>
      <a id="5362" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="5441" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="5443" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5446" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5448" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="5450" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5452" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="5455" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5459" class="Symbol">(λ{</a> <a id="5463" class="Symbol">(</a><a id="5464" href="BitML.Semantics.InferenceRules.html#5464" class="Bound">Ai</a> <a id="5467" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5469" href="BitML.Semantics.InferenceRules.html#5469" class="Bound">vi</a> <a id="5472" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5474" href="BitML.Semantics.InferenceRules.html#5474" class="Bound">xi</a><a id="5476" class="Symbol">)</a> <a id="5478" class="Symbol">→</a> <a id="5480" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="5482" href="BitML.Semantics.InferenceRules.html#5464" class="Bound">Ai</a> <a id="5485" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="5489" href="BitML.Semantics.InferenceRules.html#5469" class="Bound">vi</a> <a id="5492" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="5496" href="BitML.Semantics.InferenceRules.html#5474" class="Bound">xi</a> <a id="5499" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5501" href="BitML.Semantics.InferenceRules.html#5464" class="Bound">Ai</a> <a id="5504" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="5510" href="BitML.Semantics.InferenceRules.html#5474" class="Bound">xi</a> <a id="5513" href="BitML.Semantics.Action.html#729" class="InductiveConstructor Operator">▷ˢ</a> <a id="5516" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5519" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="5521" class="Symbol">})</a> <a id="5524" href="BitML.Semantics.InferenceRules.html#5276" class="Bound">toSpend</a>
               <a id="5547" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5549" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="5552" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5556" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">_auth[</a> <a id="5563" href="BitML.Semantics.Action.html#666" class="InductiveConstructor Operator">♯▷</a> <a id="5566" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5569" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="5571" href="BitML.Semantics.InferenceRules.html#5148" class="Bound">partG</a>
        <a id="5585" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="5588" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">init⦅</a> <a id="5594" href="BitML.Semantics.InferenceRules.html#5136" class="Bound">G</a> <a id="5596" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">,</a> <a id="5598" href="BitML.Semantics.InferenceRules.html#5140" class="Bound">C</a> <a id="5600" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">⦆</a> <a id="5602" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="5611" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="5613" href="BitML.Semantics.InferenceRules.html#5140" class="Bound">C</a> <a id="5615" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="5617" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="5621" href="BitML.Semantics.InferenceRules.html#5317" class="Bound">vs</a> <a id="5624" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="5628" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="5630" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5632" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="5638" class="Comment">---------------------------------------------------</a>
  <a id="5692" class="Comment">-- iii) Rules for executing active contracts</a>

  <a id="_—[_]→_.[C-Split]"></a><a id="5740" href="BitML.Semantics.InferenceRules.html#5740" class="InductiveConstructor">[C-Split]</a> <a id="5750" class="Symbol">:</a> <a id="5752" class="Comment">-- T0D0: ys fresh</a>
    <a id="5774" class="Symbol">∀</a> <a id="5776" class="Symbol">{</a><a id="5777" href="BitML.Semantics.InferenceRules.html#5777" class="Bound">vcis</a> <a id="5782" class="Symbol">:</a> <a id="5784" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5789" class="Symbol">(</a><a id="5790" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="5796" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5798" href="BitML.Contracts.Types.html#647" class="Function">Contracts</a> <a id="5808" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5810" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="5812" class="Symbol">)}</a>

    <a id="5820" class="Symbol">→</a> <a id="5822" class="Keyword">let</a> <a id="5826" class="Symbol">(</a><a id="5827" href="BitML.Semantics.InferenceRules.html#5827" class="Bound">vs</a> <a id="5830" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5832" href="BitML.Semantics.InferenceRules.html#5832" class="Bound">cs</a> <a id="5835" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5837" class="Symbol">_)</a> <a id="5840" class="Symbol">=</a> <a id="5842" href="Prelude.Lists.html#9130" class="Function">unzip₃</a> <a id="5849" href="BitML.Semantics.InferenceRules.html#5777" class="Bound">vcis</a> <a id="5854" class="Keyword">in</a>
      <a id="5863" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="5942" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="5944" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5946" href="BitML.Contracts.Types.html#1022" class="InductiveConstructor">split</a> <a id="5952" class="Symbol">(</a><a id="5953" href="Data.List.Base.html#3570" class="Function">zip</a> <a id="5957" href="BitML.Semantics.InferenceRules.html#5827" class="Bound">vs</a> <a id="5960" href="BitML.Semantics.InferenceRules.html#5832" class="Bound">cs</a><a id="5962" class="Symbol">)</a> <a id="5964" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="5966" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="5968" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="5972" href="BitML.Semantics.InferenceRules.html#5827" class="Bound">vs</a> <a id="5975" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="5979" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="5981" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5983" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="5993" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="5996" href="BitML.Semantics.Label.html#1343" class="InductiveConstructor Operator">split⦅</a> <a id="6003" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6005" href="BitML.Semantics.Label.html#1343" class="InductiveConstructor Operator">⦆</a> <a id="6007" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="6016" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="6019" href="Data.List.Base.html#1544" class="Function">map</a> <a id="6023" class="Symbol">(</a><a id="6024" href="Prelude.Nary.html#690" class="Function">uncurry₃</a> <a id="6033" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6035" href="Function.Base.html#1554" class="Function">flip</a> <a id="6040" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="6048" class="Symbol">)</a> <a id="6050" href="BitML.Semantics.InferenceRules.html#5777" class="Bound">vcis</a> <a id="6055" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6057" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthRev]"></a><a id="6063" href="BitML.Semantics.InferenceRules.html#6063" class="InductiveConstructor">[C-AuthRev]</a> <a id="6075" class="Symbol">:</a>

      <a id="6084" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="6163" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟨</a> <a id="6165" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6167" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">∶</a> <a id="6169" href="BitML.BasicTypes.html#446" class="Generalizable">a</a> <a id="6171" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">♯</a> <a id="6173" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6178" href="BitML.BasicTypes.html#403" class="Generalizable">n</a> <a id="6180" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟩</a> <a id="6182" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6184" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="6194" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="6197" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="6207" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6209" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">,</a> <a id="6211" href="BitML.BasicTypes.html#446" class="Generalizable">a</a> <a id="6213" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">⦆</a> <a id="6215" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="6224" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6226" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">∶</a> <a id="6228" href="BitML.BasicTypes.html#446" class="Generalizable">a</a> <a id="6230" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">♯</a> <a id="6232" href="BitML.BasicTypes.html#403" class="Generalizable">n</a> <a id="6234" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6236" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-PutRev]"></a><a id="6242" href="BitML.Semantics.InferenceRules.html#6242" class="InductiveConstructor">[C-PutRev]</a> <a id="6253" class="Symbol">:</a> <a id="6255" class="Comment">-- T0D0: z fresh</a>
    <a id="6276" class="Symbol">∀</a> <a id="6278" class="Symbol">{</a><a id="6279" href="BitML.Semantics.InferenceRules.html#6279" class="Bound">ds</a> <a id="6282" class="Symbol">:</a> <a id="6284" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6289" class="Symbol">(</a><a id="6290" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="6302" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6304" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="6310" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6312" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="6314" class="Symbol">)}</a>
      <a id="6323" class="Symbol">{</a><a id="6324" href="BitML.Semantics.InferenceRules.html#6324" class="Bound">ss</a> <a id="6327" class="Symbol">:</a> <a id="6329" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6334" class="Symbol">(</a><a id="6335" href="BitML.Semantics.InferenceRules.html#512" class="Bound">Participant</a> <a id="6347" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6349" href="BitML.BasicTypes.html#261" class="Function">Secret</a> <a id="6356" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6358" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6359" class="Symbol">)}</a>

    <a id="6367" class="Symbol">→</a> <a id="6369" class="Keyword">let</a> <a id="6373" class="Symbol">(_</a> <a id="6376" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6378" href="BitML.Semantics.InferenceRules.html#6378" class="Bound">vs</a> <a id="6381" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6383" href="BitML.Semantics.InferenceRules.html#6383" class="Bound">xs</a><a id="6385" class="Symbol">)</a> <a id="6387" class="Symbol">=</a> <a id="6389" href="Prelude.Lists.html#9130" class="Function">unzip₃</a> <a id="6396" href="BitML.Semantics.InferenceRules.html#6279" class="Bound">ds</a>
          <a id="6409" class="Symbol">(_</a> <a id="6412" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6414" href="BitML.Semantics.InferenceRules.html#6414" class="Bound">as</a> <a id="6417" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6419" class="Symbol">_)</a>  <a id="6423" class="Symbol">=</a> <a id="6425" href="Prelude.Lists.html#9130" class="Function">unzip₃</a> <a id="6432" href="BitML.Semantics.InferenceRules.html#6324" class="Bound">ss</a>
          <a id="6445" href="BitML.Semantics.InferenceRules.html#6445" class="Bound">Γ</a> <a id="6447" class="Symbol">=</a> <a id="6449" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="6452" href="Data.List.Base.html#1544" class="Function">map</a> <a id="6456" class="Symbol">(</a><a id="6457" href="Prelude.Nary.html#690" class="Function">uncurry₃</a> <a id="6466" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="6476" class="Symbol">)</a> <a id="6478" href="BitML.Semantics.InferenceRules.html#6279" class="Bound">ds</a>
          <a id="6491" href="BitML.Semantics.InferenceRules.html#6491" class="Bound">Δ</a> <a id="6493" class="Symbol">=</a> <a id="6495" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="6498" href="Data.List.Base.html#1544" class="Function">map</a> <a id="6502" class="Symbol">(</a><a id="6503" href="Prelude.Nary.html#690" class="Function">uncurry₃</a> <a id="6512" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">_∶_♯_</a><a id="6517" class="Symbol">)</a> <a id="6519" href="BitML.Semantics.InferenceRules.html#6324" class="Bound">ss</a>
          <a id="6532" href="BitML.Semantics.InferenceRules.html#6532" class="Bound">ΔΓ′</a> <a id="6536" class="Symbol">=</a> <a id="6538" href="BitML.Semantics.InferenceRules.html#6491" class="Bound">Δ</a> <a id="6540" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6542" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>
      <a id="6551" class="Keyword">in</a>

      <a id="6561" href="BitML.Semantics.Predicate.html#1129" class="Function Operator">⟦</a> <a id="6563" href="BitML.Predicate.html#949" class="Generalizable">p</a> <a id="6565" href="BitML.Semantics.Predicate.html#1129" class="Function Operator">⟧</a> <a id="6567" href="BitML.Semantics.InferenceRules.html#6491" class="Bound">Δ</a> <a id="6569" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6571" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6576" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="6581" class="Comment">-- predicate is true</a>
      <a id="6608" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="6685" class="Symbol">→</a> <a id="6687" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6689" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6691" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">put</a> <a id="6695" href="BitML.Semantics.InferenceRules.html#6383" class="Bound">xs</a> <a id="6698" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">&amp;reveal</a> <a id="6706" href="BitML.Semantics.InferenceRules.html#6414" class="Bound">as</a> <a id="6709" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">if</a> <a id="6712" href="BitML.Predicate.html#949" class="Generalizable">p</a> <a id="6714" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">⇒</a> <a id="6716" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="6718" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6720" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6722" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6724" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6728" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6730" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6732" class="Symbol">(</a><a id="6733" href="BitML.Semantics.InferenceRules.html#6445" class="Bound">Γ</a> <a id="6735" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6737" href="BitML.Semantics.InferenceRules.html#6532" class="Bound">ΔΓ′</a><a id="6740" class="Symbol">)</a>
        <a id="6750" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="6753" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">put⦅</a> <a id="6758" href="BitML.Semantics.InferenceRules.html#6383" class="Bound">xs</a> <a id="6761" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">,</a> <a id="6763" href="BitML.Semantics.InferenceRules.html#6414" class="Bound">as</a> <a id="6766" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">,</a> <a id="6768" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6770" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">⦆</a> <a id="6772" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="6781" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6783" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="6785" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6787" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6789" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6791" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="6795" href="BitML.Semantics.InferenceRules.html#6378" class="Bound">vs</a> <a id="6798" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6802" href="BitML.BasicTypes.html#486" class="Generalizable">z</a> <a id="6804" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6806" href="BitML.Semantics.InferenceRules.html#6532" class="Bound">ΔΓ′</a>


  <a id="_—[_]→_.[C-Withdraw]"></a><a id="6814" href="BitML.Semantics.InferenceRules.html#6814" class="InductiveConstructor">[C-Withdraw]</a> <a id="6827" class="Symbol">:</a> <a id="6829" class="Comment">-- T0D0: x fresh</a>

      <a id="6853" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
      <a id="6932" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6934" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6936" href="BitML.Contracts.Types.html#884" class="InductiveConstructor">withdraw</a> <a id="6945" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6947" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6949" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6951" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6953" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6957" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6959" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6961" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="6971" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="6974" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">withdraw⦅</a> <a id="6984" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6986" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">,</a> <a id="6988" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6990" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">,</a> <a id="6992" href="BitML.BasicTypes.html#484" class="Generalizable">y</a> <a id="6994" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">⦆</a> <a id="6996" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="7005" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="7007" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7009" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="7013" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7015" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="7019" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7021" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7023" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthControl]"></a><a id="7029" href="BitML.Semantics.InferenceRules.html#7029" class="InductiveConstructor">[C-AuthControl]</a> <a id="7045" class="Symbol">:</a>
    <a id="7051" class="Symbol">∀</a> <a id="7053" class="Symbol">{</a><a id="7054" href="BitML.Semantics.InferenceRules.html#7054" class="Bound">i</a> <a id="7056" class="Symbol">:</a> <a id="7058" href="Prelude.Lists.html#1153" class="Function">Index</a> <a id="7064" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="7065" class="Symbol">}</a> <a id="7067" class="Symbol">→</a> <a id="7069" class="Keyword">let</a> <a id="7073" href="BitML.Semantics.InferenceRules.html#7073" class="Bound">d</a> <a id="7075" class="Symbol">=</a> <a id="7077" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7079" href="Prelude.Lists.html#1259" class="Function Operator">‼</a> <a id="7081" href="BitML.Semantics.InferenceRules.html#7054" class="Bound">i</a> <a id="7083" class="Keyword">in</a>

      <a id="7093" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7095" href="Prelude.Membership.html#384" class="Field Operator">∈</a> <a id="7097" href="BitML.Contracts.Helpers.html#13671" class="Function">authDecorations</a> <a id="7113" href="BitML.Semantics.InferenceRules.html#7073" class="Bound">d</a> <a id="7115" class="Comment">-- D ≡ A : D′</a>
      <a id="7135" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="7212" class="Symbol">→</a> <a id="7214" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7216" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7218" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7220" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7222" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7226" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7228" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7230" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="7240" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7243" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">auth-control⦅</a> <a id="7257" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7259" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">,</a> <a id="7261" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7263" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">▷</a> <a id="7265" href="BitML.Semantics.InferenceRules.html#7073" class="Bound">d</a> <a id="7267" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">⦆</a> <a id="7269" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="7278" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7280" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7282" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7284" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7286" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7290" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7292" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7294" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7296" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="7302" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7304" href="BitML.Semantics.Action.html#784" class="InductiveConstructor Operator">▷</a> <a id="7306" href="BitML.Semantics.InferenceRules.html#7073" class="Bound">d</a> <a id="7308" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="7310" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7312" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="7318" class="Comment">-- T0D0 linearize, i.e. introduce new label and produce intermediate configuration:</a>
  <a id="7404" class="Comment">-- ⟨ c , v ⟩at x ∣ Δ ∣ Γ —[ choice⦅ c , i ⦆ ]→ ⟨ [ d′ ] , v ⟩at x ∣ Γ</a>
  <a id="_—[_]→_.[C-Control]"></a><a id="7476" href="BitML.Semantics.InferenceRules.html#7476" class="InductiveConstructor">[C-Control]</a> <a id="7488" class="Symbol">:</a>
    <a id="7494" class="Symbol">∀</a> <a id="7496" class="Symbol">{</a><a id="7497" href="BitML.Semantics.InferenceRules.html#7497" class="Bound">i</a> <a id="7499" class="Symbol">:</a> <a id="7501" href="Prelude.Lists.html#1153" class="Function">Index</a> <a id="7507" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="7508" class="Symbol">}</a> <a id="7510" class="Symbol">→</a> <a id="7512" class="Keyword">let</a> <a id="7516" href="BitML.Semantics.InferenceRules.html#7516" class="Bound">d</a>  <a id="7519" class="Symbol">=</a> <a id="7521" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7523" href="Prelude.Lists.html#1259" class="Function Operator">‼</a> <a id="7525" href="BitML.Semantics.InferenceRules.html#7497" class="Bound">i</a><a id="7526" class="Symbol">;</a> <a id="7528" href="BitML.Semantics.InferenceRules.html#7528" class="Bound">d′</a> <a id="7531" class="Symbol">=</a> <a id="7533" href="BitML.Contracts.Helpers.html#13834" class="Function">removeTopDecorations</a> <a id="7554" href="BitML.Semantics.InferenceRules.html#7516" class="Bound">d</a> <a id="7556" class="Keyword">in</a>

      <a id="7566" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7568" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7570" href="BitML.Semantics.InferenceRules.html#7528" class="Bound">d′</a> <a id="7573" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="7575" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7577" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7579" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7583" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7585" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7587" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="7589" href="Prelude.Setoid.html#160" class="Field Operator">≈</a> <a id="7591" href="BitML.Semantics.Configurations.Types.html#1547" class="Generalizable">L</a>
    <a id="7597" class="Symbol">→</a> <a id="7599" href="BitML.Semantics.Configurations.Types.html#1547" class="Generalizable">L</a> <a id="7601" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7604" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7606" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="7609" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="7612" class="Comment">-- T0D0 replace with _—↠_?</a>
    <a id="7643" class="Symbol">→</a> <a id="7645" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="7648" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7650" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7652" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="7657" href="BitML.BasicTypes.html#482" class="Generalizable">x</a>
      <a id="7665" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="7742" class="Symbol">→</a> <a id="7744" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7746" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7748" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7750" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7752" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7756" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7758" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7760" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="7763" href="Data.List.Base.html#1544" class="Function">map</a> <a id="7767" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">_auth[</a> <a id="7774" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="7776" href="BitML.Semantics.Action.html#784" class="InductiveConstructor Operator">▷</a> <a id="7778" href="BitML.Semantics.InferenceRules.html#7516" class="Bound">d</a> <a id="7780" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="7782" class="Symbol">(</a><a id="7783" href="Prelude.DecLists.html#1244" class="Function">nub</a> <a id="7787" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7789" href="BitML.Contracts.Helpers.html#13671" class="Function">authDecorations</a> <a id="7805" href="BitML.Semantics.InferenceRules.html#7516" class="Bound">d</a><a id="7806" class="Symbol">)</a> <a id="7808" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7810" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="7820" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7823" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7825" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a>
      <a id="7834" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>

<a id="_—[_]↛_"></a><a id="7838" href="BitML.Semantics.InferenceRules.html#7838" class="Function Operator">_—[_]↛_</a> <a id="7846" class="Symbol">:</a> <a id="7848" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="7862" class="Symbol">→</a> <a id="7864" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="7870" class="Symbol">→</a> <a id="7872" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="7886" class="Symbol">→</a> <a id="7888" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="7892" href="BitML.Semantics.InferenceRules.html#7892" class="Bound">Γ</a> <a id="7894" href="BitML.Semantics.InferenceRules.html#7838" class="Function Operator">—[</a> <a id="7897" href="BitML.Semantics.InferenceRules.html#7897" class="Bound">α</a> <a id="7899" href="BitML.Semantics.InferenceRules.html#7838" class="Function Operator">]↛</a> <a id="7902" href="BitML.Semantics.InferenceRules.html#7902" class="Bound">Γ′</a> <a id="7905" class="Symbol">=</a> <a id="7907" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="7909" class="Symbol">(</a><a id="7910" href="BitML.Semantics.InferenceRules.html#7892" class="Bound">Γ</a> <a id="7912" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7915" href="BitML.Semantics.InferenceRules.html#7897" class="Bound">α</a> <a id="7917" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="7920" href="BitML.Semantics.InferenceRules.html#7902" class="Bound">Γ′</a><a id="7922" class="Symbol">)</a>

<a id="isControl"></a><a id="7925" href="BitML.Semantics.InferenceRules.html#7925" class="Function">isControl</a> <a id="7935" class="Symbol">:</a> <a id="7937" href="Prelude.Init.html#10712" class="Function">Pred₀</a> <a id="7943" class="Symbol">(</a><a id="7944" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="7946" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="7949" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7951" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="7954" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a><a id="7956" class="Symbol">)</a>
<a id="7958" href="BitML.Semantics.InferenceRules.html#7925" class="Function">isControl</a> <a id="7968" class="Symbol">(</a><a id="7969" href="BitML.Semantics.InferenceRules.html#7476" class="InductiveConstructor">[C-Control]</a> <a id="7981" class="Symbol">_</a> <a id="7983" class="Symbol">_</a> <a id="7985" class="Symbol">_)</a> <a id="7988" class="Symbol">=</a> <a id="7990" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="7992" href="BitML.Semantics.InferenceRules.html#7925" class="CatchallClause Function">isControl</a><a id="8001" class="CatchallClause"> </a><a id="8002" class="CatchallClause Symbol">_</a> <a id="8004" class="Symbol">=</a> <a id="8006" href="Data.Empty.html#526" class="Datatype">⊥</a>

<a id="innerL"></a><a id="8009" href="BitML.Semantics.InferenceRules.html#8009" class="Function">innerL</a> <a id="8016" class="Symbol">:</a> <a id="8018" class="Symbol">(</a><a id="8019" href="BitML.Semantics.InferenceRules.html#8019" class="Bound">step</a> <a id="8024" class="Symbol">:</a> <a id="8026" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8028" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="8031" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8033" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="8036" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a><a id="8038" class="Symbol">)</a> <a id="8040" class="Symbol">→</a> <a id="8042" class="Symbol">{</a><a id="8043" href="BitML.Semantics.InferenceRules.html#7925" class="Function">isControl</a> <a id="8053" href="BitML.Semantics.InferenceRules.html#8019" class="Bound">step</a><a id="8057" class="Symbol">}</a> <a id="8059" class="Symbol">→</a> <a id="8061" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a>
<a id="8075" href="BitML.Semantics.InferenceRules.html#8009" class="Function">innerL</a> <a id="8082" class="Symbol">(</a><a id="8083" href="BitML.Semantics.InferenceRules.html#7476" class="InductiveConstructor">[C-Control]</a> <a id="8095" class="Symbol">{</a><a id="8096" class="Argument">L</a> <a id="8098" class="Symbol">=</a> <a id="8100" href="BitML.Semantics.InferenceRules.html#8100" class="Bound">L</a><a id="8101" class="Symbol">}</a> <a id="8103" class="Symbol">_</a> <a id="8105" class="Symbol">_</a> <a id="8107" class="Symbol">_)</a> <a id="8110" class="Symbol">=</a> <a id="8112" href="BitML.Semantics.InferenceRules.html#8100" class="Bound">L</a>

<a id="8115" class="Comment">-- innerStep : (step : Γ —[ α ]→ Γ′) → {isControl step} → innerL step —[ α ]→ Γ′</a>
<a id="8196" class="Comment">-- innerStep ([C-Control] {L = L} _ L→Γ′ _) = L→Γ′</a>


<a id="8249" class="Comment">-------------------------------------------</a>
<a id="8293" class="Comment">-- Semantic rules for timed configurations.</a>

<a id="8338" class="Keyword">infix</a> <a id="8344" class="Number">3</a> <a id="8346" href="BitML.Semantics.InferenceRules.html#8351" class="Function Operator">_≈ₜ_</a>
<a id="_≈ₜ_"></a><a id="8351" href="BitML.Semantics.InferenceRules.html#8351" class="Function Operator">_≈ₜ_</a> <a id="8356" class="Symbol">:</a> <a id="8358" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8377" class="Symbol">→</a> <a id="8379" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8398" class="Symbol">→</a> <a id="8400" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="8404" href="BitML.Semantics.InferenceRules.html#8404" class="Bound">c</a> <a id="8406" href="BitML.Semantics.InferenceRules.html#8351" class="Function Operator">≈ₜ</a> <a id="8409" href="BitML.Semantics.InferenceRules.html#8409" class="Bound">c′</a> <a id="8412" class="Symbol">=</a> <a id="8414" class="Symbol">(</a><a id="8415" href="BitML.Semantics.Configurations.Types.html#1789" class="Field">time</a> <a id="8420" href="BitML.Semantics.InferenceRules.html#8404" class="Bound">c</a> <a id="8422" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8424" href="BitML.Semantics.Configurations.Types.html#1789" class="Field">time</a> <a id="8429" href="BitML.Semantics.InferenceRules.html#8409" class="Bound">c′</a><a id="8431" class="Symbol">)</a> <a id="8433" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8435" class="Symbol">(</a><a id="8436" href="BitML.Semantics.Configurations.Types.html#1764" class="Field">cfg</a> <a id="8440" href="BitML.Semantics.InferenceRules.html#8404" class="Bound">c</a> <a id="8442" href="Prelude.Setoid.html#160" class="Field Operator">≈</a> <a id="8444" href="BitML.Semantics.Configurations.Types.html#1764" class="Field">cfg</a> <a id="8448" href="BitML.Semantics.InferenceRules.html#8409" class="Bound">c′</a><a id="8450" class="Symbol">)</a>

<a id="8453" class="Keyword">infix</a> <a id="8459" class="Number">-1</a> <a id="8462" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">_—[_]→ₜ_</a>
<a id="8471" class="Keyword">data</a> <a id="_—[_]→ₜ_"></a><a id="8476" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">_—[_]→ₜ_</a> <a id="8485" class="Symbol">:</a> <a id="8487" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8506" class="Symbol">→</a> <a id="8508" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="8514" class="Symbol">→</a> <a id="8516" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8535" class="Symbol">→</a> <a id="8537" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="8541" class="Keyword">where</a>

  <a id="8550" class="Comment">-- iv) Rules for handling time</a>
  <a id="_—[_]→ₜ_.[Action]"></a><a id="8583" href="BitML.Semantics.InferenceRules.html#8583" class="InductiveConstructor">[Action]</a> <a id="8592" class="Symbol">:</a>

      <a id="8601" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8603" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="8606" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8608" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="8611" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>
    <a id="8618" class="Symbol">→</a> <a id="8620" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="8623" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8625" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8627" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
      <a id="8641" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="8718" class="Symbol">→</a> <a id="8720" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8722" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8725" href="BitML.BasicTypes.html#520" class="Generalizable">t</a> <a id="8727" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">—[</a> <a id="8730" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8732" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">]→ₜ</a> <a id="8736" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="8739" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8742" href="BitML.BasicTypes.html#520" class="Generalizable">t</a>


  <a id="_—[_]→ₜ_.[Delay]"></a><a id="8748" href="BitML.Semantics.InferenceRules.html#8748" class="InductiveConstructor">[Delay]</a> <a id="8756" class="Symbol">:</a>

      <a id="8765" href="BitML.BasicTypes.html#525" class="Generalizable">δ</a> <a id="8767" href="Prelude.Ord.html#286" class="Function Operator">&gt;</a> <a id="8769" class="Number">0</a>
      <a id="8777" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="8854" class="Symbol">→</a> <a id="8856" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8858" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8861" href="BitML.BasicTypes.html#520" class="Generalizable">t</a> <a id="8863" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">—[</a> <a id="8866" href="BitML.Semantics.Label.html#1632" class="InductiveConstructor Operator">delay⦅</a> <a id="8873" href="BitML.BasicTypes.html#525" class="Generalizable">δ</a> <a id="8875" href="BitML.Semantics.Label.html#1632" class="InductiveConstructor Operator">⦆</a> <a id="8877" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">]→ₜ</a> <a id="8881" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8883" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8886" class="Symbol">(</a><a id="8887" href="BitML.BasicTypes.html#520" class="Generalizable">t</a> <a id="8889" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="8891" href="BitML.BasicTypes.html#525" class="Generalizable">δ</a><a id="8892" class="Symbol">)</a>


  <a id="_—[_]→ₜ_.[Timeout]"></a><a id="8898" href="BitML.Semantics.InferenceRules.html#8898" class="InductiveConstructor">[Timeout]</a> <a id="8908" class="Symbol">:</a>
    <a id="8914" class="Symbol">∀</a> <a id="8916" class="Symbol">{</a><a id="8917" href="BitML.Semantics.InferenceRules.html#8917" class="Bound">i</a> <a id="8919" class="Symbol">:</a> <a id="8921" href="Prelude.Lists.html#1153" class="Function">Index</a> <a id="8927" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="8928" class="Symbol">}</a> <a id="8930" class="Symbol">→</a> <a id="8932" class="Keyword">let</a> <a id="8936" href="BitML.Semantics.InferenceRules.html#8936" class="Bound">d</a> <a id="8938" class="Symbol">=</a> <a id="8940" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="8942" href="Prelude.Lists.html#1259" class="Function Operator">‼</a> <a id="8944" href="BitML.Semantics.InferenceRules.html#8917" class="Bound">i</a><a id="8945" class="Symbol">;</a> <a id="8947" href="BitML.Semantics.InferenceRules.html#8947" class="Bound">d∗</a> <a id="8950" class="Symbol">=</a> <a id="8952" href="BitML.Contracts.Helpers.html#13834" class="Function">removeTopDecorations</a> <a id="8973" href="BitML.Semantics.InferenceRules.html#8936" class="Bound">d</a><a id="8974" class="Symbol">;</a> <a id="8976" href="BitML.Semantics.InferenceRules.html#8976" class="Bound">As</a> <a id="8979" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8981" href="BitML.Semantics.InferenceRules.html#8981" class="Bound">ts</a> <a id="8984" class="Symbol">=</a> <a id="8986" href="BitML.Contracts.Helpers.html#13569" class="Function">decorations</a> <a id="8998" href="BitML.Semantics.InferenceRules.html#8936" class="Bound">d</a> <a id="9000" class="Keyword">in</a>

      <a id="9010" href="BitML.Semantics.InferenceRules.html#8976" class="Bound">As</a> <a id="9013" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9015" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>                           <a id="9044" class="Comment">-- no authorizations required to pick branch</a>
    <a id="9093" class="Symbol">→</a> <a id="9095" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="9099" class="Symbol">(</a><a id="9100" href="Prelude.Ord.html#214" class="Field Operator">_≤</a> <a id="9103" href="BitML.BasicTypes.html#520" class="Generalizable">t</a><a id="9104" class="Symbol">)</a> <a id="9106" href="BitML.Semantics.InferenceRules.html#8981" class="Bound">ts</a>                     <a id="9129" class="Comment">-- all time constraints are satisfied</a>
    <a id="9171" class="Symbol">→</a> <a id="9173" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="9175" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="9177" href="BitML.Semantics.InferenceRules.html#8947" class="Bound">d∗</a> <a id="9180" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="9182" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="9184" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="9186" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="9190" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="9192" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="9194" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="9196" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">—[</a> <a id="9199" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="9201" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">]→</a> <a id="9204" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="9207" class="Comment">-- resulting state if we pick branch</a>
    <a id="9248" class="Symbol">→</a> <a id="9250" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="9253" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="9255" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9257" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="9262" href="BitML.BasicTypes.html#482" class="Generalizable">x</a>
      <a id="9270" class="Comment">--——————————————————————————————————————————————————————————————————————</a>
    <a id="9347" class="Symbol">→</a> <a id="9349" class="Symbol">(</a><a id="9350" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="9352" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="9354" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="9356" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="9358" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="9362" href="BitML.BasicTypes.html#482" class="Generalizable">x</a> <a id="9364" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="9366" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a><a id="9367" class="Symbol">)</a> <a id="9369" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="9372" href="BitML.BasicTypes.html#520" class="Generalizable">t</a> <a id="9374" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">—[</a> <a id="9377" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="9379" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">]→ₜ</a> <a id="9383" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="9386" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="9389" href="BitML.BasicTypes.html#520" class="Generalizable">t</a>

<a id="9392" class="Comment">-----------------------------------------------------------------------------------</a>
<a id="9476" class="Comment">-- Derive the reflexive transitive closure for of _—→_ and _—→ₜ_.</a>

<a id="9543" class="Keyword">open</a> <a id="9548" class="Keyword">import</a> <a id="9555" href="Prelude.Closures.html" class="Module">Prelude.Closures</a>
<a id="9572" class="Keyword">open</a> <a id="9577" href="Prelude.Closures.html#2695" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="9616" href="BitML.Semantics.InferenceRules.html#1205" class="Datatype Operator">_—[_]→_</a> <a id="9624" class="Keyword">public</a>
<a id="9631" class="Keyword">open</a> <a id="9636" href="Prelude.Closures.html#2695" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="9675" href="BitML.Semantics.InferenceRules.html#8476" class="Datatype Operator">_—[_]→ₜ_</a> <a id="9684" class="Keyword">public</a>
  <a id="9693" class="Keyword">renaming</a> <a id="9702" class="Symbol">(</a> <a id="9704" href="Prelude.Closures.html#3065" class="InductiveConstructor Operator">begin_</a> <a id="9711" class="Symbol">to</a> <a id="9714" class="InductiveConstructor Operator">beginₜ_</a><a id="9721" class="Symbol">;</a> <a id="9723" href="Prelude.Closures.html#3164" class="InductiveConstructor Operator">_∎</a> <a id="9726" class="Symbol">to</a> <a id="9729" class="InductiveConstructor Operator">_∎ₜ</a>
           <a id="9744" class="Symbol">;</a> <a id="9746" href="Prelude.Closures.html#3192" class="InductiveConstructor Operator">_—→⟨_⟩_⊢_</a> <a id="9756" class="Symbol">to</a> <a id="9759" class="InductiveConstructor Operator">_—→ₜ⟨_⟩_⊢_</a><a id="9769" class="Symbol">;</a> <a id="9771" href="Prelude.Closures.html#4283" class="Function Operator">_—→⟨_⟩_</a> <a id="9779" class="Symbol">to</a> <a id="9782" class="Function Operator">_—→ₜ⟨_⟩_</a><a id="9790" class="Symbol">;</a> <a id="9792" href="Prelude.Closures.html#4835" class="Function Operator">_`—→⟨_⟩_⊢_</a> <a id="9803" class="Symbol">to</a> <a id="9806" class="Function Operator">_`—→ₜ⟨_⟩_⊢_</a>
           <a id="9829" class="Symbol">;</a> <a id="9831" href="Prelude.Closures.html#1187" class="Function Operator">_—→_</a> <a id="9836" class="Symbol">to</a> <a id="9839" class="Function Operator">_—→ₜ_</a>
           <a id="9856" class="Symbol">;</a> <a id="9858" href="Prelude.Closures.html#3124" class="Datatype Operator">_—[_]↠_</a> <a id="9866" class="Symbol">to</a> <a id="9869" class="Datatype Operator">_—[_]↠ₜ_</a><a id="9877" class="Symbol">;</a> <a id="9879" href="Prelude.Closures.html#3535" class="Function Operator">_—↠_</a> <a id="9884" class="Symbol">to</a> <a id="9887" class="Function Operator">_—↠ₜ_</a>
           <a id="9904" class="Symbol">;</a> <a id="9906" href="Prelude.Closures.html#3345" class="Datatype Operator">_—[_]↠⁺_</a> <a id="9915" class="Symbol">to</a> <a id="9918" class="Datatype Operator">_—[_]↠⁺ₜ_</a><a id="9927" class="Symbol">;</a> <a id="9929" href="Prelude.Closures.html#3561" class="Function Operator">_—↠⁺_</a> <a id="9935" class="Symbol">to</a> <a id="9938" class="Function Operator">_—↠⁺ₜ_</a>
           <a id="9956" class="Symbol">;</a> <a id="9958" href="Prelude.Closures.html#3762" class="InductiveConstructor Operator">_⟨_⟩←—_⊢_</a> <a id="9968" class="Symbol">to</a> <a id="9971" class="InductiveConstructor Operator">_⟨_⟩←—ₜ_⊢_</a><a id="9981" class="Symbol">;</a> <a id="9983" href="Prelude.Closures.html#4537" class="Function Operator">_⟨_⟩←—_</a> <a id="9991" class="Symbol">to</a> <a id="9994" class="Function Operator">_⟨_⟩←—ₜ_</a><a id="10002" class="Symbol">;</a> <a id="10004" href="Prelude.Closures.html#5263" class="Function Operator">_`⟨_⟩←—_⊢_</a> <a id="10015" class="Symbol">to</a> <a id="10018" class="Function Operator">_`⟨_⟩←—ₜ_⊢_</a>
           <a id="10041" class="Symbol">;</a> <a id="10043" href="Prelude.Closures.html#1290" class="Function Operator">_←[_]—_</a> <a id="10051" class="Symbol">to</a> <a id="10054" class="Function Operator">_←[_]—ₜ_</a><a id="10062" class="Symbol">;</a> <a id="10064" href="Prelude.Closures.html#1689" class="Function Operator">_←—_</a> <a id="10069" class="Symbol">to</a> <a id="10072" class="Function Operator">_←—ₜ_</a>
           <a id="10089" class="Symbol">;</a> <a id="10091" href="Prelude.Closures.html#3694" class="Datatype Operator">_↞[_]—_</a> <a id="10099" class="Symbol">to</a> <a id="10102" class="Datatype Operator">_↞[_]—ₜ_</a><a id="10110" class="Symbol">;</a> <a id="10112" href="Prelude.Closures.html#4129" class="Function Operator">_↞—_</a> <a id="10117" class="Symbol">to</a> <a id="10120" class="Function Operator">_↞—ₜ_</a>
           <a id="10137" class="Symbol">;</a> <a id="10139" href="Prelude.Closures.html#3927" class="Datatype Operator">_⁺↞[_]—_</a> <a id="10148" class="Symbol">to</a> <a id="10151" class="Datatype Operator">_⁺↞[_]—ₜ_</a><a id="10160" class="Symbol">;</a> <a id="10162" href="Prelude.Closures.html#4155" class="Function Operator">_⁺↞—_</a> <a id="10168" class="Symbol">to</a> <a id="10171" class="Function Operator">_⁺↞—ₜ_</a>
           <a id="10189" class="Symbol">;</a> <a id="10191" href="Prelude.Closures.html#5106" class="Function">viewLeft</a> <a id="10200" class="Symbol">to</a> <a id="10203" class="Function">viewLeftₜ</a><a id="10212" class="Symbol">;</a> <a id="10214" href="Prelude.Closures.html#5530" class="Function">viewRight</a> <a id="10224" class="Symbol">to</a> <a id="10227" class="Function">viewRightₜ</a><a id="10237" class="Symbol">;</a> <a id="10239" href="Prelude.Closures.html#5669" class="Function">view↔</a> <a id="10245" class="Symbol">to</a> <a id="10248" class="Function">view↔ₜ</a>
           <a id="10266" class="Symbol">)</a>
</pre></body></html>