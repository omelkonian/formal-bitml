<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Semantics.InferenceRules</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml/tree/master/BitML/Semantics/InferenceRules.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-----------------------------------------------</a>
<a id="49" class="Comment">-- Small-step semantics for the BitML calculus</a>
<a id="96" class="Comment">-----------------------------------------------</a>
<a id="144" class="Keyword">open</a> <a id="149" class="Keyword">import</a> <a id="156" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="169" class="Keyword">open</a> <a id="174" class="Keyword">import</a> <a id="181" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Prelude.DecLists.html" class="Module">Prelude.DecLists</a>
<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Prelude.Sets.html" class="Module">Prelude.Sets</a>
<a id="306" class="Keyword">open</a> <a id="311" class="Keyword">import</a> <a id="318" href="Prelude.Nary.html" class="Module">Prelude.Nary</a> <a id="331" class="Keyword">hiding</a> <a id="338" class="Symbol">(</a><a id="339" href="Prelude.Nary.html#223" class="Function Operator">⟦_⟧</a><a id="342" class="Symbol">)</a>
<a id="344" class="Keyword">open</a> <a id="349" class="Keyword">import</a> <a id="356" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Prelude.Split.html" class="Module">Prelude.Split</a> <a id="484" class="Keyword">renaming</a> <a id="493" class="Symbol">(</a><a id="494" href="Prelude.Split.html#151" class="Field">split</a> <a id="500" class="Symbol">to</a> <a id="503" class="Field">mkSplit</a><a id="510" class="Symbol">)</a>
<a id="512" class="Keyword">open</a> <a id="517" class="Keyword">import</a> <a id="524" href="Prelude.Null.html" class="Module">Prelude.Null</a>

<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="567" class="Keyword">open</a> <a id="572" class="Keyword">import</a> <a id="579" href="BitML.Predicate.html" class="Module">BitML.Predicate</a> <a id="595" class="Keyword">hiding</a> <a id="602" class="Symbol">(</a><a id="603" href="BitML.Predicate.html#512" class="InductiveConstructor">`</a><a id="604" class="Symbol">;</a> <a id="606" href="BitML.Predicate.html#531" class="InductiveConstructor Operator">∣_∣</a><a id="609" class="Symbol">)</a>

<a id="612" class="Keyword">module</a> <a id="619" href="BitML.Semantics.InferenceRules.html" class="Module">BitML.Semantics.InferenceRules</a>
  <a id="652" class="Symbol">(</a><a id="653" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="665" class="Symbol">:</a> <a id="667" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="670" class="Symbol">)</a>
  <a id="674" class="Symbol">⦃</a> <a id="676" href="BitML.Semantics.InferenceRules.html#676" class="Bound">_</a> <a id="678" class="Symbol">:</a> <a id="680" href="Prelude.DecEq.Core.html#114" class="Record">DecEq</a> <a id="686" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="698" class="Symbol">⦄</a>
  <a id="702" class="Symbol">(</a><a id="703" href="BitML.Semantics.InferenceRules.html#703" class="Bound">Honest</a> <a id="710" class="Symbol">:</a> <a id="712" href="Data.List.NonEmpty.Base.html#1079" class="Record">List⁺</a> <a id="718" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a><a id="729" class="Symbol">)</a>
  <a id="733" class="Keyword">where</a>

<a id="740" class="Keyword">open</a> <a id="745" class="Keyword">import</a> <a id="752" href="BitML.Contracts.html" class="Module">BitML.Contracts</a> <a id="768" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="780" href="BitML.Semantics.InferenceRules.html#703" class="Bound">Honest</a> <a id="787" class="Keyword">hiding</a> <a id="794" class="Symbol">(</a><a id="795" href="BitML.Contracts.Types.html#1319" class="Generalizable">d</a><a id="796" class="Symbol">)</a>
<a id="798" class="Keyword">open</a> <a id="803" class="Keyword">import</a> <a id="810" href="BitML.Semantics.Action.html" class="Module">BitML.Semantics.Action</a> <a id="833" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="845" href="BitML.Semantics.InferenceRules.html#703" class="Bound">Honest</a>
<a id="852" class="Keyword">open</a> <a id="857" class="Keyword">import</a> <a id="864" href="BitML.Semantics.Configurations.Types.html" class="Module">BitML.Semantics.Configurations.Types</a> <a id="901" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="913" href="BitML.Semantics.InferenceRules.html#703" class="Bound">Honest</a>
<a id="920" class="Keyword">open</a> <a id="925" class="Keyword">import</a> <a id="932" href="BitML.Semantics.Configurations.Helpers.html" class="Module">BitML.Semantics.Configurations.Helpers</a> <a id="971" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="983" href="BitML.Semantics.InferenceRules.html#703" class="Bound">Honest</a>
<a id="990" class="Keyword">open</a> <a id="995" class="Keyword">import</a> <a id="1002" href="BitML.Semantics.Label.html" class="Module">BitML.Semantics.Label</a> <a id="1024" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="1036" href="BitML.Semantics.InferenceRules.html#703" class="Bound">Honest</a>
<a id="1043" class="Keyword">open</a> <a id="1048" class="Keyword">import</a> <a id="1055" href="BitML.Semantics.Predicate.html" class="Module">BitML.Semantics.Predicate</a> <a id="1081" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="1093" href="BitML.Semantics.InferenceRules.html#703" class="Bound">Honest</a>

<a id="1101" class="Comment">---------------------------------------------</a>
<a id="1147" class="Comment">-- Semantic rules for untimed configurations.</a>

<a id="1194" class="Comment">-- T0D0 freshness conditions are not completely accurate</a>
<a id="1251" class="Comment">-- i.e. using `ids Γ` does not examine names in authorization</a>

<a id="1314" class="Keyword">infix</a> <a id="1320" class="Number">-1</a> <a id="1323" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">_—[_]→_</a> <a id="1331" href="BitML.Semantics.InferenceRules.html#8821" class="Function Operator">_—[_]↛_</a>
<a id="1339" class="Keyword">data</a> <a id="_—[_]→_"></a><a id="1344" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">_—[_]→_</a> <a id="1352" class="Symbol">:</a> <a id="1354" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="1368" class="Symbol">→</a> <a id="1370" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="1376" class="Symbol">→</a> <a id="1378" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="1392" class="Symbol">→</a> <a id="1394" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1398" class="Keyword">where</a>

  <a id="1407" class="Comment">------------------------------</a>
  <a id="1440" class="Comment">-- i) Rules for deposits</a>

  <a id="_—[_]→_.[DEP-AuthJoin]"></a><a id="1468" href="BitML.Semantics.InferenceRules.html#1468" class="InductiveConstructor">[DEP-AuthJoin]</a> <a id="1483" class="Symbol">:</a>

    <a id="1490" href="Prelude.InferenceRules.html#40598" class="Function Operator">────────────────────────────────────────────────────────────────────────</a>
    <a id="1567" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1569" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1571" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1575" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1577" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1581" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="1583" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1585" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1587" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1589" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1593" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1596" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1600" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="1602" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1604" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="1612" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="1615" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">auth-join⦅</a> <a id="1626" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1628" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">,</a> <a id="1630" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="1632" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">↔</a> <a id="1634" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="1636" href="BitML.Semantics.Label.html#557" class="InductiveConstructor Operator">⦆</a> <a id="1638" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="1645" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1647" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1649" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1653" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1655" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1659" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="1661" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1663" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1665" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1667" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1671" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1674" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1678" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="1680" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1682" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1684" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="1690" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="1692" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">↔</a> <a id="1694" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="1696" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">▷⟨</a> <a id="1699" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1701" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">,</a> <a id="1703" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1705" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1707" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1710" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">⟩</a> <a id="1712" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="1714" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1716" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Join]"></a><a id="1722" href="BitML.Semantics.InferenceRules.html#1722" class="InductiveConstructor">[DEP-Join]</a> <a id="1733" class="Symbol">:</a>

    <a id="1740" href="BitML.BasicTypes.html#500" class="Generalizable">z</a> <a id="1742" href="Prelude.Membership.html#474" class="Function Operator">∉</a> <a id="1744" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="1746" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">L.∷</a> <a id="1750" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="1752" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1754" href="BitML.Contracts.Helpers.html#5138" class="Function">ids</a> <a id="1758" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="1760" class="Comment">-- z fresh</a>
    <a id="1775" href="Prelude.InferenceRules.html#11437" class="Function Operator">────────────────────────────────────────────────────────────────────────</a>
    <a id="1852" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1854" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1856" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1860" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1862" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1866" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="1868" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1870" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1872" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1874" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1878" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1881" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1885" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="1887" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1889" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1891" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="1897" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="1899" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">↔</a> <a id="1901" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="1903" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">▷⟨</a> <a id="1906" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1908" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">,</a> <a id="1910" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1912" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1914" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="1917" href="BitML.Semantics.Action.html#835" class="InductiveConstructor Operator">⟩</a> <a id="1919" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="1921" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1923" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="1931" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="1934" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">join⦅</a> <a id="1940" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="1942" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">↔</a> <a id="1944" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="1946" href="BitML.Semantics.Label.html#617" class="InductiveConstructor Operator">⦆</a> <a id="1948" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="1955" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="1957" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="1959" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="1963" class="Symbol">(</a><a id="1964" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="1966" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1968" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="1970" class="Symbol">)</a> <a id="1972" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="1976" href="BitML.BasicTypes.html#500" class="Generalizable">z</a> <a id="1978" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="1980" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDivide]"></a><a id="1986" href="BitML.Semantics.InferenceRules.html#1986" class="InductiveConstructor">[DEP-AuthDivide]</a> <a id="2003" class="Symbol">:</a>

    <a id="2010" href="Prelude.InferenceRules.html#42470" class="Function Operator">────────────────────────────────────────────────────────</a>
    <a id="2071" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2073" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2075" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2079" class="Symbol">(</a><a id="2080" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2082" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2084" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="2086" class="Symbol">)</a> <a id="2088" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2092" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2094" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2096" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="2104" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="2107" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="2120" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2122" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">,</a> <a id="2124" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2126" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">▷</a> <a id="2128" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2130" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">,</a> <a id="2132" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2135" href="BitML.Semantics.Label.html#661" class="InductiveConstructor Operator">⦆</a> <a id="2137" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="2144" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2146" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2148" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2152" class="Symbol">(</a><a id="2153" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2155" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2157" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="2159" class="Symbol">)</a> <a id="2161" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2165" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2167" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2169" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2171" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2177" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2179" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">▷⟨</a> <a id="2182" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2184" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2186" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2188" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2190" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2193" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">⟩</a> <a id="2195" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2197" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2199" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Divide]"></a><a id="2205" href="BitML.Semantics.InferenceRules.html#2205" class="InductiveConstructor">[DEP-Divide]</a> <a id="2218" class="Symbol">:</a>

    <a id="2225" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="2229" class="Symbol">(</a><a id="2230" href="Prelude.Membership.html#474" class="Function Operator">_∉</a> <a id="2233" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2235" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">L.∷</a> <a id="2239" href="BitML.Contracts.Helpers.html#5138" class="Function">ids</a> <a id="2243" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a><a id="2244" class="Symbol">)</a> <a id="2246" class="Symbol">(</a><a id="2247" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="2249" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2251" href="BitML.BasicTypes.html#505" class="Generalizable">y′</a> <a id="2254" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2256" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2258" class="Symbol">)</a> <a id="2260" class="Comment">-- y, y′ fresh</a>
    <a id="2279" href="Prelude.InferenceRules.html#12549" class="Function Operator">────────────────────────────────────────────────────────</a>
    <a id="2340" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2342" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2344" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2348" class="Symbol">(</a><a id="2349" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2351" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2353" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a><a id="2355" class="Symbol">)</a> <a id="2357" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2361" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2363" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2365" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2367" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2373" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2375" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">▷⟨</a> <a id="2378" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2380" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2382" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2384" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">,</a> <a id="2386" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2389" href="BitML.Semantics.Action.html#911" class="InductiveConstructor Operator">⟩</a> <a id="2391" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2393" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2395" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="2403" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="2406" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">divide⦅</a> <a id="2414" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2416" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">▷</a> <a id="2418" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2420" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">,</a> <a id="2422" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2425" href="BitML.Semantics.Label.html#739" class="InductiveConstructor Operator">⦆</a> <a id="2427" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="2434" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2436" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2438" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2442" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2444" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2448" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="2450" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2452" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2454" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2456" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2460" href="BitML.BasicTypes.html#414" class="Generalizable">v′</a> <a id="2463" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2467" href="BitML.BasicTypes.html#505" class="Generalizable">y′</a> <a id="2470" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2472" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDonate]"></a><a id="2478" href="BitML.Semantics.InferenceRules.html#2478" class="InductiveConstructor">[DEP-AuthDonate]</a> <a id="2495" class="Symbol">:</a>

    <a id="2502" href="Prelude.InferenceRules.html#44576" class="Function Operator">──────────────────────────────────────</a>
    <a id="2545" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2547" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2549" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2553" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2555" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2559" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2561" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2563" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="2571" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="2574" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="2587" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2589" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">,</a> <a id="2591" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2593" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2596" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2598" href="BitML.Semantics.Label.html#803" class="InductiveConstructor Operator">⦆</a> <a id="2600" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="2607" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2609" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2611" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2615" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2617" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2621" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2623" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2625" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2627" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2633" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2635" href="BitML.Semantics.Action.html#1003" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2638" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2640" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2642" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2644" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Donate]"></a><a id="2650" href="BitML.Semantics.InferenceRules.html#2650" class="InductiveConstructor">[DEP-Donate]</a> <a id="2663" class="Symbol">:</a>

    <a id="2670" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="2672" href="Prelude.Membership.html#474" class="Function Operator">∉</a> <a id="2674" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2676" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">L.∷</a> <a id="2680" href="BitML.Contracts.Helpers.html#5138" class="Function">ids</a> <a id="2684" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="2686" class="Comment">-- y fresh</a>
    <a id="2701" href="Prelude.InferenceRules.html#13494" class="Function Operator">──────────────────────────────────────</a>
    <a id="2744" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2746" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2748" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2752" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2754" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2758" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2760" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2762" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="2764" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="2770" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2772" href="BitML.Semantics.Action.html#1003" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2775" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2777" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="2779" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2781" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="2789" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="2792" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">donate⦅</a> <a id="2800" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="2802" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2805" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2807" href="BitML.Semantics.Label.html#875" class="InductiveConstructor Operator">⦆</a> <a id="2809" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="2816" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="2818" href="BitML.Contracts.Types.html#517" class="Generalizable">B</a> <a id="2820" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="2824" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="2826" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="2830" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="2832" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="2834" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDestroy]"></a><a id="2840" href="BitML.Semantics.InferenceRules.html#2840" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="2858" class="Symbol">:</a>
    <a id="2864" class="Symbol">∀</a> <a id="2866" class="Symbol">{</a><a id="2867" href="BitML.Semantics.InferenceRules.html#2867" class="Bound">ds</a> <a id="2870" class="Symbol">:</a> <a id="2872" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2877" class="Symbol">(</a><a id="2878" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="2890" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2892" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="2898" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2900" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="2902" class="Symbol">)}</a> <a id="2905" class="Symbol">{</a><a id="2906" href="BitML.Semantics.InferenceRules.html#2906" class="Bound">j</a> <a id="2908" class="Symbol">:</a> <a id="2910" href="Prelude.Lists.Indexed.html#469" class="Function">Index</a> <a id="2916" href="BitML.Semantics.InferenceRules.html#2867" class="Bound">ds</a><a id="2918" class="Symbol">}</a> <a id="2920" class="Symbol">→</a>

    <a id="2927" class="Keyword">let</a> <a id="2931" href="BitML.Semantics.InferenceRules.html#2931" class="Bound">xs</a> <a id="2934" class="Symbol">=</a> <a id="2936" href="Data.List.Base.html#1544" class="Function">map</a> <a id="2940" href="Prelude.Nary.html#2986" class="Function">select₃</a> <a id="2948" href="BitML.Semantics.InferenceRules.html#2867" class="Bound">ds</a>
        <a id="2959" href="BitML.Semantics.InferenceRules.html#2959" class="Bound">Aⱼ</a> <a id="2962" class="Symbol">=</a> <a id="2964" class="Symbol">(</a><a id="2965" href="BitML.Semantics.InferenceRules.html#2867" class="Bound">ds</a> <a id="2968" href="Prelude.Lists.Indexed.html#577" class="Function Operator">‼</a> <a id="2970" href="BitML.Semantics.InferenceRules.html#2906" class="Bound">j</a><a id="2971" class="Symbol">)</a> <a id="2973" class="Symbol">.</a><a id="2974" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a>
        <a id="2988" href="BitML.Semantics.InferenceRules.html#2988" class="Bound">j′</a> <a id="2991" class="Symbol">=</a> <a id="2993" href="Prelude.Lists.Indexed.html#9946" class="Function">‼-map</a> <a id="2999" class="Symbol">{</a><a id="3000" class="Argument">xs</a> <a id="3003" class="Symbol">=</a> <a id="3005" href="BitML.Semantics.InferenceRules.html#2867" class="Bound">ds</a><a id="3007" class="Symbol">}</a> <a id="3009" href="BitML.Semantics.InferenceRules.html#2906" class="Bound">j</a>
        <a id="3019" href="BitML.Semantics.InferenceRules.html#3019" class="Bound">Δ</a>  <a id="3022" class="Symbol">=</a> <a id="3024" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="3027" href="Data.List.Base.html#1544" class="Function">map</a> <a id="3031" class="Symbol">(</a><a id="3032" href="Prelude.Nary.html#689" class="Function">uncurry₃</a> <a id="3041" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="3051" class="Symbol">)</a> <a id="3053" href="BitML.Semantics.InferenceRules.html#2867" class="Bound">ds</a>
    <a id="3060" class="Keyword">in</a>

    <a id="3068" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="3070" href="Prelude.Membership.html#474" class="Function Operator">∉</a> <a id="3072" href="BitML.Contracts.Helpers.html#5138" class="Function">ids</a> <a id="3076" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="3078" class="Comment">-- y fresh (except in destroy authorizations for xs)</a>
    <a id="3135" href="Prelude.InferenceRules.html#12162" class="Function Operator">──────────────────────────────────────────────────────────────</a>
    <a id="3202" href="BitML.Semantics.InferenceRules.html#3019" class="Bound">Δ</a> <a id="3204" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3206" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="3214" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="3217" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="3231" href="BitML.Semantics.InferenceRules.html#2959" class="Bound">Aⱼ</a> <a id="3234" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">,</a> <a id="3236" href="BitML.Semantics.InferenceRules.html#2931" class="Bound">xs</a> <a id="3239" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">,</a> <a id="3241" href="BitML.Semantics.InferenceRules.html#2988" class="Bound">j′</a> <a id="3244" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">⦆</a> <a id="3246" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="3253" href="BitML.Semantics.InferenceRules.html#3019" class="Bound">Δ</a> <a id="3255" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3257" href="BitML.Semantics.InferenceRules.html#2959" class="Bound">Aⱼ</a> <a id="3260" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="3266" href="BitML.Semantics.InferenceRules.html#2931" class="Bound">xs</a> <a id="3269" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">,</a> <a id="3271" href="BitML.Semantics.InferenceRules.html#2988" class="Bound">j′</a> <a id="3274" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3278" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="3280" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="3282" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3284" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Destroy]"></a><a id="3290" href="BitML.Semantics.InferenceRules.html#3290" class="InductiveConstructor">[DEP-Destroy]</a> <a id="3304" class="Symbol">:</a>
    <a id="3310" class="Symbol">∀</a> <a id="3312" class="Symbol">{</a><a id="3313" href="BitML.Semantics.InferenceRules.html#3313" class="Bound">ds</a> <a id="3316" class="Symbol">:</a> <a id="3318" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3323" class="Symbol">(</a><a id="3324" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="3336" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3338" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="3344" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3346" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="3348" class="Symbol">)}</a> <a id="3351" class="Symbol">→</a>

    <a id="3358" class="Keyword">let</a>
      <a id="3368" href="BitML.Semantics.InferenceRules.html#3368" class="Bound">xs</a> <a id="3371" class="Symbol">=</a> <a id="3373" href="Data.List.Base.html#1544" class="Function">map</a> <a id="3377" href="Prelude.Nary.html#2986" class="Function">select₃</a> <a id="3385" href="BitML.Semantics.InferenceRules.html#3313" class="Bound">ds</a>
      <a id="3394" href="BitML.Semantics.InferenceRules.html#3394" class="Bound">Δ</a>  <a id="3397" class="Symbol">=</a> <a id="3399" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="3402" href="Data.List.Base.html#1544" class="Function">map</a> <a id="3406" class="Symbol">(λ{</a> <a id="3410" class="Symbol">(</a><a id="3411" href="BitML.Semantics.InferenceRules.html#3411" class="Bound">i</a> <a id="3413" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3415" href="BitML.Semantics.InferenceRules.html#3415" class="Bound">Aᵢ</a> <a id="3418" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3420" href="BitML.Semantics.InferenceRules.html#3420" class="Bound">vᵢ</a> <a id="3423" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3425" href="BitML.Semantics.InferenceRules.html#3425" class="Bound">xᵢ</a><a id="3427" class="Symbol">)</a> <a id="3429" class="Symbol">→</a>
                <a id="3447" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="3449" href="BitML.Semantics.InferenceRules.html#3415" class="Bound">Aᵢ</a> <a id="3452" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="3456" href="BitML.Semantics.InferenceRules.html#3420" class="Bound">vᵢ</a> <a id="3459" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="3463" href="BitML.Semantics.InferenceRules.html#3425" class="Bound">xᵢ</a> <a id="3466" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3468" href="BitML.Semantics.InferenceRules.html#3415" class="Bound">Aᵢ</a> <a id="3471" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="3477" href="BitML.Semantics.InferenceRules.html#3368" class="Bound">xs</a> <a id="3480" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">,</a> <a id="3482" href="Prelude.Lists.Indexed.html#9946" class="Function">‼-map</a> <a id="3488" class="Symbol">{</a><a id="3489" class="Argument">xs</a> <a id="3492" class="Symbol">=</a> <a id="3494" href="BitML.Semantics.InferenceRules.html#3313" class="Bound">ds</a><a id="3496" class="Symbol">}</a> <a id="3498" href="BitML.Semantics.InferenceRules.html#3411" class="Bound">i</a> <a id="3500" href="BitML.Semantics.Action.html#1081" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3504" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="3506" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a>
              <a id="3522" class="Symbol">})</a> <a id="3525" class="Symbol">(</a><a id="3526" href="Prelude.Lists.Indexed.html#1495" class="Function">enumerate</a> <a id="3536" href="BitML.Semantics.InferenceRules.html#3313" class="Bound">ds</a><a id="3538" class="Symbol">)</a>
    <a id="3544" class="Keyword">in</a>
    <a id="3551" href="Prelude.InferenceRules.html#40598" class="Function Operator">────────────────────────────────────────────────────────────────────────</a>
    <a id="3628" href="BitML.Semantics.InferenceRules.html#3394" class="Bound">Δ</a> <a id="3630" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="3632" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="3640" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="3643" href="BitML.Semantics.Label.html#1010" class="InductiveConstructor Operator">destroy⦅</a> <a id="3652" href="BitML.Semantics.InferenceRules.html#3368" class="Bound">xs</a> <a id="3655" href="BitML.Semantics.Label.html#1010" class="InductiveConstructor Operator">⦆</a> <a id="3657" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="3664" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>

  <a id="3669" class="Comment">------------------------------------------------------------</a>
  <a id="3732" class="Comment">-- ii) Rules for contract advertisements and stipulation</a>

  <a id="_—[_]→_.[C-Advertise]"></a><a id="3792" href="BitML.Semantics.InferenceRules.html#3792" class="InductiveConstructor">[C-Advertise]</a> <a id="3806" class="Symbol">:</a> <a id="3808" class="Keyword">let</a> <a id="3812" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="3814" href="BitML.Semantics.InferenceRules.html#3814" class="Bound">G</a> <a id="3816" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="3818" class="Symbol">_</a> <a id="3820" class="Symbol">=</a> <a id="3822" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a><a id="3824" class="Symbol">;</a> <a id="3826" href="BitML.Semantics.InferenceRules.html#3826" class="Bound">partG</a> <a id="3832" class="Symbol">=</a> <a id="3834" href="BitML.Contracts.Helpers.html#3404" class="Function">nub-participants</a> <a id="3851" href="BitML.Semantics.InferenceRules.html#3814" class="Bound">G</a> <a id="3853" class="Keyword">in</a>

    <a id="3861" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="3863" href="BitML.Contracts.Validity.html#1745" class="Record">ValidAdvertisement</a> <a id="3882" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a>    <a id="3888" class="Comment">-- the advertisement is valid</a>
    <a id="3922" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="3924" href="Data.List.Relation.Unary.Any.html#1156" class="Datatype">Any</a> <a id="3928" class="Symbol">(</a><a id="3929" href="Prelude.Membership.html#400" class="Field Operator">_∈</a> <a id="3932" href="BitML.Contracts.Types.html#482" class="Function">Hon</a><a id="3935" class="Symbol">)</a> <a id="3937" href="BitML.Semantics.InferenceRules.html#3826" class="Bound">partG</a>       <a id="3949" class="Comment">-- at least one honest participant</a>
    <a id="3988" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="3990" href="BitML.Contracts.Helpers.html#6664" class="Function">deposits</a> <a id="3999" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4002" href="Data.List.Relation.Binary.Subset.Setoid.html#739" class="Function Operator">⊆</a> <a id="4004" href="BitML.Contracts.Helpers.html#6664" class="Function">deposits</a> <a id="4013" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4015" class="Comment">-- all persistent deposits in place</a>
      <a id="4057" href="Prelude.InferenceRules.html#12295" class="Function Operator">────────────────────────────────────────────────────────────</a>
      <a id="4124" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4126" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="4129" href="BitML.Semantics.Label.html#1052" class="InductiveConstructor Operator">advertise⦅</a> <a id="4140" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4143" href="BitML.Semantics.Label.html#1052" class="InductiveConstructor Operator">⦆</a> <a id="4145" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a> <a id="4148" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4150" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4153" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4155" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthCommit]"></a><a id="4161" href="BitML.Semantics.InferenceRules.html#4161" class="InductiveConstructor">[C-AuthCommit]</a> <a id="4176" class="Symbol">:</a> <a id="4178" class="Keyword">let</a> <a id="4182" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="4184" href="BitML.Semantics.InferenceRules.html#4184" class="Bound">G</a> <a id="4186" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="4188" class="Symbol">_</a> <a id="4190" class="Symbol">=</a> <a id="4192" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4195" class="Keyword">in</a>
    <a id="4202" class="Symbol">∀</a> <a id="4204" class="Symbol">{</a><a id="4205" href="BitML.Semantics.InferenceRules.html#4205" class="Bound">secrets</a> <a id="4213" class="Symbol">:</a> <a id="4215" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4220" class="Symbol">(</a><a id="4221" href="BitML.BasicTypes.html#261" class="Function">Secret</a> <a id="4228" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4230" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4236" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4237" class="Symbol">)}</a> <a id="4240" class="Symbol">→</a>

    <a id="4247" class="Keyword">let</a> <a id="4251" class="Symbol">(</a><a id="4252" href="BitML.Semantics.InferenceRules.html#4252" class="Bound">as</a> <a id="4255" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4257" href="BitML.Semantics.InferenceRules.html#4257" class="Bound">ms</a><a id="4259" class="Symbol">)</a> <a id="4261" class="Symbol">=</a> <a id="4263" href="Data.List.Base.html#3699" class="Function">unzip</a> <a id="4269" href="BitML.Semantics.InferenceRules.html#4205" class="Bound">secrets</a>
        <a id="4285" href="BitML.Semantics.InferenceRules.html#4285" class="Bound">Δ</a>         <a id="4295" class="Symbol">=</a> <a id="4297" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="4300" href="Data.List.Base.html#1544" class="Function">map</a> <a id="4304" class="Symbol">(</a><a id="4305" href="Data.Product.html#3422" class="Function">uncurry</a> <a id="4313" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟨</a> <a id="4315" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4317" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4322" class="Symbol">)</a> <a id="4324" href="BitML.Semantics.InferenceRules.html#4205" class="Bound">secrets</a>
    <a id="4336" class="Keyword">in</a>

    <a id="4344" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="4346" href="BitML.Semantics.InferenceRules.html#4252" class="Bound">as</a> <a id="4349" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4351" href="BitML.Contracts.Helpers.html#7439" class="Function">secretsOfᵖ</a> <a id="4362" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4364" href="BitML.Semantics.InferenceRules.html#4184" class="Bound">G</a>         <a id="4374" class="Comment">-- a₁..aₖ secrets of A in G</a>
    <a id="4406" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="4408" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="4412" class="Symbol">(</a><a id="4413" href="Prelude.Membership.html#474" class="Function Operator">_∉</a> <a id="4416" href="BitML.Semantics.Configurations.Helpers.html#11356" class="Function">secretsOfᶜᶠ</a> <a id="4428" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4430" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a><a id="4431" class="Symbol">)</a> <a id="4433" href="BitML.Semantics.InferenceRules.html#4252" class="Bound">as</a> <a id="4436" class="Comment">-- ∀i ∈ 1..k : ∄N : {A : aᵢ ♯ N} ∈ Γ</a>
    <a id="4477" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="4479" class="Symbol">(</a><a id="4480" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4482" href="Prelude.Membership.html#400" class="Field Operator">∈</a> <a id="4484" href="BitML.Contracts.Types.html#482" class="Function">Hon</a> <a id="4488" class="Symbol">→</a> <a id="4490" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="4494" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="4502" href="BitML.Semantics.InferenceRules.html#4257" class="Bound">ms</a><a id="4504" class="Symbol">)</a>  <a id="4507" class="Comment">-- honest participants commit to valid lengths</a>
      <a id="4560" href="Prelude.InferenceRules.html#11280" class="Function Operator">──────────────────────────────────────────────────────────────────────────</a>
      <a id="4641" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4643" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4646" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4648" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="4658" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="4661" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="4674" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4676" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">,</a> <a id="4678" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4681" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">,</a> <a id="4683" href="BitML.Semantics.InferenceRules.html#4205" class="Bound">secrets</a> <a id="4691" href="BitML.Semantics.Label.html#1111" class="InductiveConstructor Operator">⦆</a> <a id="4693" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
      <a id="4702" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="4704" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4707" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4709" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4711" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4713" href="BitML.Semantics.InferenceRules.html#4285" class="Bound">Δ</a> <a id="4715" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="4717" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4719" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="4725" href="BitML.Semantics.Action.html#666" class="InductiveConstructor Operator">♯▷</a> <a id="4728" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4731" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-AuthInit]"></a><a id="4737" href="BitML.Semantics.InferenceRules.html#4737" class="InductiveConstructor">[C-AuthInit]</a> <a id="4750" class="Symbol">:</a> <a id="4752" class="Keyword">let</a> <a id="4756" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="4758" href="BitML.Semantics.InferenceRules.html#4758" class="Bound">G</a> <a id="4760" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="4762" class="Symbol">_</a> <a id="4764" class="Symbol">=</a> <a id="4766" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a><a id="4768" class="Symbol">;</a> <a id="4770" href="BitML.Semantics.InferenceRules.html#4770" class="Bound">partG</a> <a id="4776" class="Symbol">=</a> <a id="4778" href="BitML.Contracts.Helpers.html#3404" class="Function">nub-participants</a> <a id="4795" href="BitML.Semantics.InferenceRules.html#4758" class="Bound">G</a> <a id="4797" class="Keyword">in</a>

    <a id="4805" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="4807" href="BitML.Semantics.InferenceRules.html#4770" class="Bound">partG</a> <a id="4813" href="Data.List.Relation.Binary.Subset.Setoid.html#739" class="Function Operator">⊆</a> <a id="4815" href="BitML.Semantics.Configurations.Helpers.html#11585" class="Function">committedParticipants</a> <a id="4837" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="4840" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="4842" class="Comment">-- all participants have committed their secrets</a>
    <a id="4895" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="4897" class="Symbol">(</a><a id="4898" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="4900" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4902" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="4904" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4906" href="BitML.BasicTypes.html#496" class="Generalizable">x</a><a id="4907" class="Symbol">)</a> <a id="4909" href="Prelude.Membership.html#400" class="Field Operator">∈</a> <a id="4911" href="BitML.Contracts.Helpers.html#8795" class="Function">persistentDeposits</a> <a id="4930" href="BitML.Semantics.InferenceRules.html#4758" class="Bound">G</a> <a id="4932" class="Comment">-- G = A :! v @ x | ...</a>
      <a id="4962" href="Prelude.InferenceRules.html#10524" class="Function Operator">───────────────────────────────────────────────────────────────────────────────────</a>
      <a id="5052" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="5054" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5057" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5059" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="5069" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="5072" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">auth-init⦅</a> <a id="5083" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="5085" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">,</a> <a id="5087" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5090" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">,</a> <a id="5092" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="5094" href="BitML.Semantics.Label.html#1208" class="InductiveConstructor Operator">⦆</a> <a id="5096" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
      <a id="5105" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="5107" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5110" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5112" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="5114" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5116" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="5118" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="5124" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="5126" href="BitML.Semantics.Action.html#729" class="InductiveConstructor Operator">▷ˢ</a> <a id="5129" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5132" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-Init]"></a><a id="5138" href="BitML.Semantics.InferenceRules.html#5138" class="InductiveConstructor">[C-Init]</a> <a id="5147" class="Symbol">:</a> <a id="5149" class="Keyword">let</a> <a id="5153" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟨</a> <a id="5155" href="BitML.Semantics.InferenceRules.html#5155" class="Bound">G</a> <a id="5157" href="BitML.Contracts.Types.html#2440" class="InductiveConstructor Operator">⟩</a> <a id="5159" href="BitML.Semantics.InferenceRules.html#5159" class="Bound">C</a> <a id="5161" class="Symbol">=</a> <a id="5163" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a><a id="5165" class="Symbol">;</a> <a id="5167" href="BitML.Semantics.InferenceRules.html#5167" class="Bound">partG</a> <a id="5173" class="Symbol">=</a> <a id="5175" href="BitML.Contracts.Helpers.html#3404" class="Function">nub-participants</a> <a id="5192" href="BitML.Semantics.InferenceRules.html#5155" class="Bound">G</a> <a id="5194" class="Keyword">in</a>

    <a id="5202" class="Comment">-- all participants have committed their secrets (guaranteed from [C-AuthInit])</a>

    <a id="5287" class="Keyword">let</a> <a id="5291" href="BitML.Semantics.InferenceRules.html#5291" class="Bound">toSpend</a> <a id="5299" class="Symbol">=</a> <a id="5301" href="BitML.Contracts.Helpers.html#8795" class="Function">persistentDeposits</a> <a id="5320" href="BitML.Semantics.InferenceRules.html#5155" class="Bound">G</a>
        <a id="5330" href="BitML.Semantics.InferenceRules.html#5330" class="Bound">vs</a>      <a id="5338" class="Symbol">=</a> <a id="5340" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5344" href="Prelude.Nary.html#2271" class="Function">select₂</a> <a id="5352" href="BitML.Semantics.InferenceRules.html#5291" class="Bound">toSpend</a>
        <a id="5368" href="BitML.Semantics.InferenceRules.html#5368" class="Bound">xs</a>      <a id="5376" class="Symbol">=</a> <a id="5378" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5382" href="Prelude.Nary.html#2986" class="Function">select₃</a> <a id="5390" href="BitML.Semantics.InferenceRules.html#5291" class="Bound">toSpend</a>
    <a id="5402" class="Keyword">in</a>

    <a id="5410" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="5412" href="Prelude.Membership.html#474" class="Function Operator">∉</a> <a id="5414" href="BitML.Semantics.InferenceRules.html#5368" class="Bound">xs</a> <a id="5417" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="5420" href="BitML.Contracts.Helpers.html#5138" class="Function">ids</a> <a id="5424" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="5426" class="Comment">-- x fresh</a>
    <a id="5441" href="Prelude.InferenceRules.html#10612" class="Function Operator">──────────────────────────────────────────────────────────────────────────────────</a>
    <a id="5528" href="BitML.Semantics.Configurations.Types.html#759" class="InductiveConstructor Operator">`</a> <a id="5530" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a>
    <a id="5537" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5539" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
    <a id="5545" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5547" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="5550" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5554" class="Symbol">(λ{</a> <a id="5558" class="Symbol">(</a><a id="5559" href="BitML.Semantics.InferenceRules.html#5559" class="Bound">Aᵢ</a> <a id="5562" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5564" href="BitML.Semantics.InferenceRules.html#5564" class="Bound">vᵢ</a> <a id="5567" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5569" href="BitML.Semantics.InferenceRules.html#5569" class="Bound">xᵢ</a><a id="5571" class="Symbol">)</a> <a id="5573" class="Symbol">→</a> <a id="5575" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="5577" href="BitML.Semantics.InferenceRules.html#5559" class="Bound">Aᵢ</a> <a id="5580" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="5584" href="BitML.Semantics.InferenceRules.html#5564" class="Bound">vᵢ</a> <a id="5587" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="5591" href="BitML.Semantics.InferenceRules.html#5569" class="Bound">xᵢ</a> <a id="5594" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5596" href="BitML.Semantics.InferenceRules.html#5559" class="Bound">Aᵢ</a> <a id="5599" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="5605" href="BitML.Semantics.InferenceRules.html#5569" class="Bound">xᵢ</a> <a id="5608" href="BitML.Semantics.Action.html#729" class="InductiveConstructor Operator">▷ˢ</a> <a id="5611" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5614" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="5616" class="Symbol">})</a> <a id="5619" href="BitML.Semantics.InferenceRules.html#5291" class="Bound">toSpend</a>
    <a id="5631" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5633" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="5636" href="Data.List.Base.html#1544" class="Function">map</a> <a id="5640" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">_auth[</a> <a id="5647" href="BitML.Semantics.Action.html#666" class="InductiveConstructor Operator">♯▷</a> <a id="5650" href="BitML.Contracts.Types.html#2640" class="Generalizable">ad</a> <a id="5653" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="5655" href="BitML.Semantics.InferenceRules.html#5167" class="Bound">partG</a>
      <a id="5667" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="5670" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">init⦅</a> <a id="5676" href="BitML.Semantics.InferenceRules.html#5155" class="Bound">G</a> <a id="5678" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">,</a> <a id="5680" href="BitML.Semantics.InferenceRules.html#5159" class="Bound">C</a> <a id="5682" href="BitML.Semantics.Label.html#1282" class="InductiveConstructor Operator">⦆</a> <a id="5684" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="5691" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="5693" href="BitML.Semantics.InferenceRules.html#5159" class="Bound">C</a> <a id="5695" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="5697" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="5701" href="BitML.Semantics.InferenceRules.html#5330" class="Bound">vs</a> <a id="5704" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="5708" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="5710" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="5712" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>

  <a id="5717" class="Comment">---------------------------------------------------</a>
  <a id="5771" class="Comment">-- iii) Rules for executing active contracts</a>

  <a id="_—[_]→_.[C-Split]"></a><a id="5819" href="BitML.Semantics.InferenceRules.html#5819" class="InductiveConstructor">[C-Split]</a> <a id="5829" class="Symbol">:</a>
    <a id="5835" class="Symbol">∀</a> <a id="5837" class="Symbol">{</a><a id="5838" href="BitML.Semantics.InferenceRules.html#5838" class="Bound">vcis</a> <a id="5843" class="Symbol">:</a> <a id="5845" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5850" class="Symbol">(</a><a id="5851" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="5857" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5859" href="BitML.Contracts.Types.html#647" class="Function">Contracts</a> <a id="5869" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5871" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="5873" class="Symbol">)}</a> <a id="5876" class="Symbol">→</a>

    <a id="5883" class="Keyword">let</a> <a id="5887" class="Symbol">(</a><a id="5888" href="BitML.Semantics.InferenceRules.html#5888" class="Bound">vs</a> <a id="5891" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5893" href="BitML.Semantics.InferenceRules.html#5893" class="Bound">cs</a> <a id="5896" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5898" href="BitML.Semantics.InferenceRules.html#5898" class="Bound">ys</a><a id="5900" class="Symbol">)</a> <a id="5902" class="Symbol">=</a> <a id="5904" href="Prelude.Lists.Core.html#1340" class="Function">unzip₃</a> <a id="5911" href="BitML.Semantics.InferenceRules.html#5838" class="Bound">vcis</a> <a id="5916" class="Keyword">in</a>

    <a id="5924" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="5928" class="Symbol">(</a><a id="5929" href="Prelude.Membership.html#474" class="Function Operator">_∉</a> <a id="5932" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="5934" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">L.∷</a> <a id="5938" href="BitML.Contracts.Helpers.html#5138" class="Function">ids</a> <a id="5942" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a><a id="5943" class="Symbol">)</a> <a id="5945" href="BitML.Semantics.InferenceRules.html#5898" class="Bound">ys</a> <a id="5948" class="Comment">-- ys fresh</a>
    <a id="5964" href="Prelude.InferenceRules.html#13312" class="Function Operator">──────────────────────────────────────────</a>
    <a id="6011" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6013" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6015" href="BitML.Contracts.Types.html#1022" class="InductiveConstructor">split</a> <a id="6021" class="Symbol">(</a><a id="6022" href="Data.List.Base.html#3570" class="Function">zip</a> <a id="6026" href="BitML.Semantics.InferenceRules.html#5888" class="Bound">vs</a> <a id="6029" href="BitML.Semantics.InferenceRules.html#5893" class="Bound">cs</a><a id="6031" class="Symbol">)</a> <a id="6033" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6035" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6037" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="6041" href="BitML.Semantics.InferenceRules.html#5888" class="Bound">vs</a> <a id="6044" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6048" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="6050" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6052" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="6060" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="6063" href="BitML.Semantics.Label.html#1343" class="InductiveConstructor Operator">split⦅</a> <a id="6070" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="6072" href="BitML.Semantics.Label.html#1343" class="InductiveConstructor Operator">⦆</a> <a id="6074" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="6081" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="6084" href="Data.List.Base.html#1544" class="Function">map</a> <a id="6088" class="Symbol">(</a><a id="6089" href="Prelude.Nary.html#689" class="Function">uncurry₃</a> <a id="6098" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6100" href="Function.Base.html#1554" class="Function">flip</a> <a id="6105" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="6113" class="Symbol">)</a> <a id="6115" href="BitML.Semantics.InferenceRules.html#5838" class="Bound">vcis</a> <a id="6120" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6122" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthRev]"></a><a id="6128" href="BitML.Semantics.InferenceRules.html#6128" class="InductiveConstructor">[C-AuthRev]</a> <a id="6140" class="Symbol">:</a>

    <a id="6147" href="Prelude.InferenceRules.html#46097" class="Function Operator">─────────────────────────</a>
    <a id="6177" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟨</a> <a id="6179" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6181" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">∶</a> <a id="6183" href="BitML.BasicTypes.html#453" class="Generalizable">a</a> <a id="6185" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">♯</a> <a id="6187" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6192" href="BitML.BasicTypes.html#403" class="Generalizable">n</a> <a id="6194" href="BitML.Semantics.Configurations.Types.html#1137" class="InductiveConstructor Operator">⟩</a> <a id="6196" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6198" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="6206" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="6209" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="6219" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6221" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">,</a> <a id="6223" href="BitML.BasicTypes.html#453" class="Generalizable">a</a> <a id="6225" href="BitML.Semantics.Label.html#1379" class="InductiveConstructor Operator">⦆</a> <a id="6227" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="6234" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6236" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">∶</a> <a id="6238" href="BitML.BasicTypes.html#453" class="Generalizable">a</a> <a id="6240" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">♯</a> <a id="6242" href="BitML.BasicTypes.html#403" class="Generalizable">n</a> <a id="6244" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6246" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-PutRev]"></a><a id="6252" href="BitML.Semantics.InferenceRules.html#6252" class="InductiveConstructor">[C-PutRev]</a> <a id="6263" class="Symbol">:</a>
    <a id="6269" class="Symbol">∀</a> <a id="6271" class="Symbol">{</a><a id="6272" href="BitML.Semantics.InferenceRules.html#6272" class="Bound">ds</a> <a id="6275" class="Symbol">:</a> <a id="6277" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6282" class="Symbol">(</a><a id="6283" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="6295" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6297" href="BitML.BasicTypes.html#229" class="Function">Value</a> <a id="6303" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6305" href="BitML.BasicTypes.html#301" class="Function">Id</a><a id="6307" class="Symbol">)}</a>
      <a id="6316" class="Symbol">{</a><a id="6317" href="BitML.Semantics.InferenceRules.html#6317" class="Bound">ss</a> <a id="6320" class="Symbol">:</a> <a id="6322" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6327" class="Symbol">(</a><a id="6328" href="BitML.Semantics.InferenceRules.html#653" class="Bound">Participant</a> <a id="6340" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6342" href="BitML.BasicTypes.html#261" class="Function">Secret</a> <a id="6349" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6351" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6352" class="Symbol">)}</a> <a id="6355" class="Symbol">→</a>

    <a id="6362" class="Keyword">let</a> <a id="6366" class="Symbol">(_</a> <a id="6369" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6371" href="BitML.Semantics.InferenceRules.html#6371" class="Bound">vs</a> <a id="6374" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6376" href="BitML.Semantics.InferenceRules.html#6376" class="Bound">xs</a><a id="6378" class="Symbol">)</a> <a id="6380" class="Symbol">=</a> <a id="6382" href="Prelude.Lists.Core.html#1340" class="Function">unzip₃</a> <a id="6389" href="BitML.Semantics.InferenceRules.html#6272" class="Bound">ds</a>
        <a id="6400" class="Symbol">(_</a> <a id="6403" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6405" href="BitML.Semantics.InferenceRules.html#6405" class="Bound">as</a> <a id="6408" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6410" class="Symbol">_)</a>  <a id="6414" class="Symbol">=</a> <a id="6416" href="Prelude.Lists.Core.html#1340" class="Function">unzip₃</a> <a id="6423" href="BitML.Semantics.InferenceRules.html#6317" class="Bound">ss</a>
        <a id="6434" href="BitML.Semantics.InferenceRules.html#6434" class="Bound">Γ</a> <a id="6436" class="Symbol">=</a> <a id="6438" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="6441" href="Data.List.Base.html#1544" class="Function">map</a> <a id="6445" class="Symbol">(</a><a id="6446" href="Prelude.Nary.html#689" class="Function">uncurry₃</a> <a id="6455" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="6465" class="Symbol">)</a> <a id="6467" href="BitML.Semantics.InferenceRules.html#6272" class="Bound">ds</a>
        <a id="6478" href="BitML.Semantics.InferenceRules.html#6478" class="Bound">Δ</a> <a id="6480" class="Symbol">=</a> <a id="6482" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="6485" href="Data.List.Base.html#1544" class="Function">map</a> <a id="6489" class="Symbol">(</a><a id="6490" href="Prelude.Nary.html#689" class="Function">uncurry₃</a> <a id="6499" href="BitML.Semantics.Configurations.Types.html#1237" class="InductiveConstructor Operator">_∶_♯_</a><a id="6504" class="Symbol">)</a> <a id="6506" href="BitML.Semantics.InferenceRules.html#6317" class="Bound">ss</a>
        <a id="6517" href="BitML.Semantics.InferenceRules.html#6517" class="Bound">ΔΓ′</a> <a id="6521" class="Symbol">=</a> <a id="6523" href="BitML.Semantics.InferenceRules.html#6478" class="Bound">Δ</a> <a id="6525" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6527" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>
    <a id="6534" class="Keyword">in</a>

    <a id="6542" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="6544" href="BitML.BasicTypes.html#500" class="Generalizable">z</a> <a id="6546" href="Prelude.Membership.html#474" class="Function Operator">∉</a> <a id="6548" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="6550" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">L.∷</a> <a id="6554" href="BitML.Contracts.Helpers.html#5138" class="Function">ids</a> <a id="6558" class="Symbol">(</a><a id="6559" href="BitML.Semantics.InferenceRules.html#6434" class="Bound">Γ</a> <a id="6561" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6563" href="BitML.Semantics.InferenceRules.html#6517" class="Bound">ΔΓ′</a><a id="6566" class="Symbol">)</a> <a id="6568" class="Comment">-- z fresh</a>
    <a id="6583" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="6585" href="BitML.Semantics.Predicate.html#1129" class="Function Operator">⟦</a> <a id="6587" href="BitML.Predicate.html#949" class="Generalizable">p</a> <a id="6589" href="BitML.Semantics.Predicate.html#1129" class="Function Operator">⟧</a> <a id="6591" href="BitML.Semantics.InferenceRules.html#6478" class="Bound">Δ</a> <a id="6593" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6595" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6600" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="6605" class="Comment">-- predicate is true</a>
      <a id="6632" href="Prelude.InferenceRules.html#12670" class="Function Operator">──────────────────────────────────────────────────────</a>
      <a id="6693" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6695" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6697" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">put</a> <a id="6701" href="BitML.Semantics.InferenceRules.html#6376" class="Bound">xs</a> <a id="6704" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">&amp;reveal</a> <a id="6712" href="BitML.Semantics.InferenceRules.html#6405" class="Bound">as</a> <a id="6715" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">if</a> <a id="6718" href="BitML.Predicate.html#949" class="Generalizable">p</a> <a id="6720" href="BitML.Contracts.Types.html#769" class="InductiveConstructor Operator">⇒</a> <a id="6722" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="6724" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6726" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6728" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6730" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6734" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="6736" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6738" class="Symbol">(</a><a id="6739" href="BitML.Semantics.InferenceRules.html#6434" class="Bound">Γ</a> <a id="6741" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6743" href="BitML.Semantics.InferenceRules.html#6517" class="Bound">ΔΓ′</a><a id="6746" class="Symbol">)</a>
        <a id="6756" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="6759" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">put⦅</a> <a id="6764" href="BitML.Semantics.InferenceRules.html#6376" class="Bound">xs</a> <a id="6767" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">,</a> <a id="6769" href="BitML.Semantics.InferenceRules.html#6405" class="Bound">as</a> <a id="6772" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">,</a> <a id="6774" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="6776" href="BitML.Semantics.Label.html#1433" class="InductiveConstructor Operator">⦆</a> <a id="6778" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
      <a id="6787" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6789" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="6791" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6793" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6795" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6797" href="Data.List.Base.html#4784" class="Function">sum</a> <a id="6801" href="BitML.Semantics.InferenceRules.html#6371" class="Bound">vs</a> <a id="6804" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6808" href="BitML.BasicTypes.html#500" class="Generalizable">z</a> <a id="6810" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6812" href="BitML.Semantics.InferenceRules.html#6517" class="Bound">ΔΓ′</a>


  <a id="_—[_]→_.[C-Withdraw]"></a><a id="6820" href="BitML.Semantics.InferenceRules.html#6820" class="InductiveConstructor">[C-Withdraw]</a> <a id="6833" class="Symbol">:</a>

    <a id="6840" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="6842" href="Prelude.Membership.html#474" class="Function Operator">∉</a> <a id="6844" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="6846" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">L.∷</a> <a id="6850" href="BitML.Contracts.Helpers.html#5138" class="Function">ids</a> <a id="6854" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="6856" class="Comment">-- x fresh</a>
    <a id="6871" href="Prelude.InferenceRules.html#13810" class="Function Operator">──────────────────────────────</a>
    <a id="6906" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="6908" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6910" href="BitML.Contracts.Types.html#884" class="InductiveConstructor">withdraw</a> <a id="6919" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6921" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6923" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="6925" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6927" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="6931" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="6933" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6935" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="6943" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="6946" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">withdraw⦅</a> <a id="6956" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6958" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">,</a> <a id="6960" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6962" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">,</a> <a id="6964" href="BitML.BasicTypes.html#498" class="Generalizable">y</a> <a id="6966" href="BitML.Semantics.Label.html#1489" class="InductiveConstructor Operator">⦆</a> <a id="6968" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="6975" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟨</a> <a id="6977" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="6979" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">has</a> <a id="6983" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="6985" href="BitML.Semantics.Configurations.Types.html#937" class="InductiveConstructor Operator">⟩at</a> <a id="6989" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="6991" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="6993" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthControl]"></a><a id="6999" href="BitML.Semantics.InferenceRules.html#6999" class="InductiveConstructor">[C-AuthControl]</a> <a id="7015" class="Symbol">:</a>
    <a id="7021" class="Symbol">∀</a> <a id="7023" class="Symbol">{</a><a id="7024" href="BitML.Semantics.InferenceRules.html#7024" class="Bound">i</a> <a id="7026" class="Symbol">:</a> <a id="7028" href="Prelude.Lists.Indexed.html#469" class="Function">Index</a> <a id="7034" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="7035" class="Symbol">}</a> <a id="7037" class="Symbol">→</a> <a id="7039" class="Keyword">let</a> <a id="7043" href="BitML.Semantics.InferenceRules.html#7043" class="Bound">d</a> <a id="7045" class="Symbol">=</a> <a id="7047" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7049" href="Prelude.Lists.Indexed.html#577" class="Function Operator">‼</a> <a id="7051" href="BitML.Semantics.InferenceRules.html#7024" class="Bound">i</a> <a id="7053" class="Keyword">in</a>

    <a id="7061" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7063" href="Prelude.Membership.html#400" class="Field Operator">∈</a> <a id="7065" href="BitML.Contracts.Helpers.html#13849" class="Function">authDecorations</a> <a id="7081" href="BitML.Semantics.InferenceRules.html#7043" class="Bound">d</a> <a id="7083" class="Comment">-- D ≡ A : D′</a>
    <a id="7101" href="Prelude.InferenceRules.html#13620" class="Function Operator">───────────────────────────────────</a>
    <a id="7141" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7143" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7145" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7147" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7149" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7153" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="7155" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7157" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
      <a id="7165" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="7168" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">auth-control⦅</a> <a id="7182" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7184" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">,</a> <a id="7186" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="7188" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">▷</a> <a id="7190" href="BitML.Semantics.InferenceRules.html#7043" class="Bound">d</a> <a id="7192" href="BitML.Semantics.Label.html#1562" class="InductiveConstructor Operator">⦆</a> <a id="7194" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
    <a id="7201" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7203" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7205" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7207" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7209" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7213" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="7215" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7217" href="BitML.Contracts.Types.html#515" class="Generalizable">A</a> <a id="7219" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">auth[</a> <a id="7225" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="7227" href="BitML.Semantics.Action.html#784" class="InductiveConstructor Operator">▷</a> <a id="7229" href="BitML.Semantics.InferenceRules.html#7043" class="Bound">d</a> <a id="7231" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="7233" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7235" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>


  <a id="7241" class="Comment">-- T0D0 linearize, i.e. introduce new label and produce intermediate configuration:</a>
  <a id="7327" class="Comment">-- ⟨ c , v ⟩at x ∣ Δ ∣ Γ —[ choice⦅ c , i ⦆ ]→ ⟨ [ d∗ ] , v ⟩at x ∣ Γ</a>
  <a id="_—[_]→_.[C-Control]"></a><a id="7399" href="BitML.Semantics.InferenceRules.html#7399" class="InductiveConstructor">[C-Control]</a> <a id="7411" class="Symbol">:</a>
    <a id="7417" class="Symbol">∀</a> <a id="7419" class="Symbol">{</a><a id="7420" href="BitML.Semantics.InferenceRules.html#7420" class="Bound">i</a> <a id="7422" class="Symbol">:</a> <a id="7424" href="Prelude.Lists.Indexed.html#469" class="Function">Index</a> <a id="7430" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="7431" class="Symbol">}</a> <a id="7433" class="Symbol">→</a> <a id="7435" class="Keyword">let</a> <a id="7439" class="Keyword">open</a> <a id="7444" href="BitML.Contracts.Helpers.html#1485" class="Module">∣SELECT</a> <a id="7452" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7454" href="BitML.Semantics.InferenceRules.html#7420" class="Bound">i</a> <a id="7456" class="Keyword">in</a>

    <a id="7464" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="7466" href="Prelude.Null.html#230" class="Function">¬Null</a> <a id="7472" class="Symbol">(</a><a id="7473" href="BitML.Contracts.Helpers.html#13849" class="Function">authDecorations</a> <a id="7489" href="BitML.Contracts.Helpers.html#1531" class="Function">d</a><a id="7490" class="Symbol">)</a> <a id="7492" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="7494" class="Symbol">(</a><a id="7495" href="Data.List.Base.html#4864" class="Function">length</a> <a id="7502" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7504" href="Prelude.Ord.html#339" class="Function Operator">&gt;</a> <a id="7506" class="Number">1</a><a id="7507" class="Symbol">)</a>
    <a id="7513" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="7515" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="7517" href="Prelude.Setoid.html#193" class="Field Operator">≈</a> <a id="7519" href="BitML.Semantics.Configurations.Types.html#1547" class="Generalizable">L</a>
    <a id="7525" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="7527" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7529" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7531" href="BitML.Contracts.Helpers.html#1544" class="Function">d∗</a> <a id="7534" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="7536" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7538" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7540" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7544" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="7546" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7548" href="BitML.Semantics.Configurations.Types.html#1547" class="Generalizable">L</a> <a id="7550" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="7553" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7555" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a> <a id="7558" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="7561" class="Comment">-- T0D0 replace with _—↠_?</a>
    <a id="7592" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="7594" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="7597" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7599" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7601" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="7606" href="BitML.BasicTypes.html#496" class="Generalizable">x</a>
      <a id="7614" href="Prelude.InferenceRules.html#11812" class="Function Operator">───────────────────────────────────────────────────────────────────</a>
      <a id="7688" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="7690" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="7692" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="7694" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="7696" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="7700" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="7702" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7704" href="BitML.Semantics.Configurations.Types.html#1580" class="Function Operator">||</a> <a id="7707" href="Data.List.Base.html#1544" class="Function">map</a> <a id="7711" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">_auth[</a> <a id="7718" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="7720" href="BitML.Semantics.Action.html#784" class="InductiveConstructor Operator">▷</a> <a id="7722" href="BitML.Contracts.Helpers.html#1531" class="Function">d</a> <a id="7724" href="BitML.Semantics.Configurations.Types.html#1052" class="InductiveConstructor Operator">]</a> <a id="7726" class="Symbol">(</a><a id="7727" href="Prelude.DecLists.html#1518" class="Function">nub</a> <a id="7731" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7733" href="BitML.Contracts.Helpers.html#13849" class="Function">authDecorations</a> <a id="7749" href="BitML.Contracts.Helpers.html#1531" class="Function">d</a><a id="7750" class="Symbol">)</a> <a id="7752" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="7754" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a>
        <a id="7764" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="7767" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="7769" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a>
      <a id="7778" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>


<a id="7783" class="Comment">-------------------------------------------</a>
<a id="7827" class="Comment">-- Semantic rules for timed configurations.</a>

<a id="7872" class="Keyword">infix</a> <a id="7878" class="Number">3</a> <a id="7880" href="BitML.Semantics.InferenceRules.html#7885" class="Function Operator">_≈ₜ_</a>
<a id="_≈ₜ_"></a><a id="7885" href="BitML.Semantics.InferenceRules.html#7885" class="Function Operator">_≈ₜ_</a> <a id="7890" class="Symbol">:</a> <a id="7892" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="7911" class="Symbol">→</a> <a id="7913" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="7932" class="Symbol">→</a> <a id="7934" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="7938" href="BitML.Semantics.InferenceRules.html#7938" class="Bound">c</a> <a id="7940" href="BitML.Semantics.InferenceRules.html#7885" class="Function Operator">≈ₜ</a> <a id="7943" href="BitML.Semantics.InferenceRules.html#7943" class="Bound">c′</a> <a id="7946" class="Symbol">=</a> <a id="7948" class="Symbol">(</a><a id="7949" href="BitML.Semantics.Configurations.Types.html#1789" class="Field">time</a> <a id="7954" href="BitML.Semantics.InferenceRules.html#7938" class="Bound">c</a> <a id="7956" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7958" href="BitML.Semantics.Configurations.Types.html#1789" class="Field">time</a> <a id="7963" href="BitML.Semantics.InferenceRules.html#7943" class="Bound">c′</a><a id="7965" class="Symbol">)</a> <a id="7967" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="7969" class="Symbol">(</a><a id="7970" href="BitML.Semantics.Configurations.Types.html#1764" class="Field">cfg</a> <a id="7974" href="BitML.Semantics.InferenceRules.html#7938" class="Bound">c</a> <a id="7976" href="Prelude.Setoid.html#193" class="Field Operator">≈</a> <a id="7978" href="BitML.Semantics.Configurations.Types.html#1764" class="Field">cfg</a> <a id="7982" href="BitML.Semantics.InferenceRules.html#7943" class="Bound">c′</a><a id="7984" class="Symbol">)</a>

<a id="7987" class="Keyword">infix</a> <a id="7993" class="Number">-1</a> <a id="7996" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">_—[_]→ₜ_</a>
<a id="8005" class="Keyword">data</a> <a id="_—[_]→ₜ_"></a><a id="8010" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">_—[_]→ₜ_</a> <a id="8019" class="Symbol">:</a> <a id="8021" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8040" class="Symbol">→</a> <a id="8042" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="8048" class="Symbol">→</a> <a id="8050" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8069" class="Symbol">→</a> <a id="8071" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="8075" class="Keyword">where</a>

  <a id="8084" class="Comment">-- iv) Rules for handling time</a>
  <a id="_—[_]→ₜ_.[Action]"></a><a id="8117" href="BitML.Semantics.InferenceRules.html#8117" class="InductiveConstructor">[Action]</a> <a id="8126" class="Symbol">:</a>

    <a id="8133" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="8135" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8137" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="8140" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8142" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a> <a id="8145" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a>
    <a id="8152" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="8154" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="8157" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8159" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8161" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
      <a id="8175" href="Prelude.InferenceRules.html#14034" class="Function Operator">───────────────────────</a>
      <a id="8205" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8207" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8210" href="BitML.BasicTypes.html#547" class="Generalizable">t</a> <a id="8212" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">—[</a> <a id="8215" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8217" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">]→ₜ</a> <a id="8221" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="8224" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8227" href="BitML.BasicTypes.html#547" class="Generalizable">t</a>


  <a id="_—[_]→ₜ_.[Delay]"></a><a id="8233" href="BitML.Semantics.InferenceRules.html#8233" class="InductiveConstructor">[Delay]</a> <a id="8241" class="Symbol">:</a>

    <a id="8248" href="BitML.BasicTypes.html#549" class="Generalizable">δ</a> <a id="8250" href="Prelude.Ord.html#339" class="Function Operator">&gt;</a> <a id="8252" class="Number">0</a>
    <a id="8258" href="Prelude.InferenceRules.html#13537" class="Function Operator">─────────────────────────────────────</a>
    <a id="8300" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8302" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8305" href="BitML.BasicTypes.html#547" class="Generalizable">t</a> <a id="8307" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">—[</a> <a id="8310" href="BitML.Semantics.Label.html#1632" class="InductiveConstructor Operator">delay⦅</a> <a id="8317" href="BitML.BasicTypes.html#549" class="Generalizable">δ</a> <a id="8319" href="BitML.Semantics.Label.html#1632" class="InductiveConstructor Operator">⦆</a> <a id="8321" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">]→ₜ</a> <a id="8325" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8327" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8330" class="Symbol">(</a><a id="8331" href="BitML.BasicTypes.html#547" class="Generalizable">t</a> <a id="8333" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="8335" href="BitML.BasicTypes.html#549" class="Generalizable">δ</a><a id="8336" class="Symbol">)</a>


  <a id="_—[_]→ₜ_.[Timeout]"></a><a id="8342" href="BitML.Semantics.InferenceRules.html#8342" class="InductiveConstructor">[Timeout]</a> <a id="8352" class="Symbol">:</a>
    <a id="8358" class="Symbol">∀</a> <a id="8360" class="Symbol">{</a><a id="8361" href="BitML.Semantics.InferenceRules.html#8361" class="Bound">i</a> <a id="8363" class="Symbol">:</a> <a id="8365" href="Prelude.Lists.Indexed.html#469" class="Function">Index</a> <a id="8371" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a><a id="8372" class="Symbol">}</a> <a id="8374" class="Symbol">→</a> <a id="8376" class="Keyword">let</a> <a id="8380" class="Keyword">open</a> <a id="8385" href="BitML.Contracts.Helpers.html#1485" class="Module">∣SELECT</a> <a id="8393" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="8395" href="BitML.Semantics.InferenceRules.html#8361" class="Bound">i</a><a id="8396" class="Symbol">;</a> <a id="8398" href="BitML.Semantics.InferenceRules.html#8398" class="Bound">As</a> <a id="8401" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8403" href="BitML.Semantics.InferenceRules.html#8403" class="Bound">ts</a> <a id="8406" class="Symbol">=</a> <a id="8408" href="BitML.Contracts.Helpers.html#13747" class="Function">decorations</a> <a id="8420" href="BitML.Contracts.Helpers.html#1531" class="Function">d</a> <a id="8422" class="Keyword">in</a>

    <a id="8430" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="8432" href="Prelude.Null.html#210" class="Field">Null</a> <a id="8437" href="BitML.Semantics.InferenceRules.html#8398" class="Bound">As</a>                           <a id="8466" class="Comment">-- no authorizations required to pick branch</a>
    <a id="8515" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="8517" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a> <a id="8521" class="Symbol">(</a><a id="8522" href="Prelude.Ord.html#267" class="Field Operator">_≤</a> <a id="8525" href="BitML.BasicTypes.html#547" class="Generalizable">t</a><a id="8526" class="Symbol">)</a> <a id="8528" href="BitML.Semantics.InferenceRules.html#8403" class="Bound">ts</a>                     <a id="8551" class="Comment">-- all time constraints are satisfied</a>
    <a id="8593" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="8595" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="8597" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="8599" href="BitML.Contracts.Helpers.html#1544" class="Function">d∗</a> <a id="8602" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="8604" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="8606" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="8608" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="8612" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="8614" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="8616" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a> <a id="8618" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="8621" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8623" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a> <a id="8626" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="8629" class="Comment">-- resulting state if we pick branch</a>
    <a id="8670" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="8672" href="BitML.Semantics.Label.html#1812" class="Function">cv</a> <a id="8675" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8677" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8679" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="8684" href="BitML.BasicTypes.html#496" class="Generalizable">x</a>
      <a id="8692" href="Prelude.InferenceRules.html#10954" class="Function Operator">──────────────────────────────────────────────────────────────────────────────</a>
      <a id="8777" class="Symbol">(</a><a id="8778" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟨</a> <a id="8780" href="BitML.Contracts.Types.html#1351" class="Generalizable">c</a> <a id="8782" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">,</a> <a id="8784" href="BitML.BasicTypes.html#412" class="Generalizable">v</a> <a id="8786" href="BitML.Semantics.Configurations.Types.html#825" class="InductiveConstructor Operator">⟩at</a> <a id="8790" href="BitML.BasicTypes.html#496" class="Generalizable">x</a> <a id="8792" href="BitML.Semantics.Configurations.Types.html#1333" class="InductiveConstructor Operator">∣</a> <a id="8794" href="BitML.Semantics.Configurations.Types.html#1520" class="Generalizable">Γ</a><a id="8795" class="Symbol">)</a> <a id="8797" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8800" href="BitML.BasicTypes.html#547" class="Generalizable">t</a> <a id="8802" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">—[</a> <a id="8805" href="BitML.Semantics.Label.html#1777" class="Generalizable">α</a> <a id="8807" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">]→ₜ</a> <a id="8811" href="BitML.Semantics.Configurations.Types.html#1522" class="Generalizable">Γ′</a> <a id="8814" href="BitML.Semantics.Configurations.Types.html#1747" class="InductiveConstructor Operator">at</a> <a id="8817" href="BitML.BasicTypes.html#547" class="Generalizable">t</a>


<a id="_—[_]↛_"></a><a id="8821" href="BitML.Semantics.InferenceRules.html#8821" class="Function Operator">_—[_]↛_</a> <a id="8829" class="Symbol">:</a> <a id="8831" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="8845" class="Symbol">→</a> <a id="8847" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="8853" class="Symbol">→</a> <a id="8855" href="BitML.Semantics.Configurations.Types.html#670" class="Datatype">Configuration</a> <a id="8869" class="Symbol">→</a> <a id="8871" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="8875" href="BitML.Semantics.InferenceRules.html#8875" class="Bound">Γ</a> <a id="8877" href="BitML.Semantics.InferenceRules.html#8821" class="Function Operator">—[</a> <a id="8880" href="BitML.Semantics.InferenceRules.html#8880" class="Bound">α</a> <a id="8882" href="BitML.Semantics.InferenceRules.html#8821" class="Function Operator">]↛</a> <a id="8885" href="BitML.Semantics.InferenceRules.html#8885" class="Bound">Γ′</a> <a id="8888" class="Symbol">=</a> <a id="8890" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="8892" class="Symbol">(</a><a id="8893" href="BitML.Semantics.InferenceRules.html#8875" class="Bound">Γ</a> <a id="8895" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">—[</a> <a id="8898" href="BitML.Semantics.InferenceRules.html#8880" class="Bound">α</a> <a id="8900" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">]→</a> <a id="8903" href="BitML.Semantics.InferenceRules.html#8885" class="Bound">Γ′</a><a id="8905" class="Symbol">)</a>

<a id="_—[_]↛ₜ_"></a><a id="8908" href="BitML.Semantics.InferenceRules.html#8908" class="Function Operator">_—[_]↛ₜ_</a> <a id="8917" class="Symbol">:</a> <a id="8919" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8938" class="Symbol">→</a> <a id="8940" href="BitML.Semantics.Label.html#537" class="Datatype">Label</a> <a id="8946" class="Symbol">→</a> <a id="8948" href="BitML.Semantics.Configurations.Types.html#1702" class="Record">TimedConfiguration</a> <a id="8967" class="Symbol">→</a> <a id="8969" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="8973" href="BitML.Semantics.InferenceRules.html#8973" class="Bound">Γₜ</a> <a id="8976" href="BitML.Semantics.InferenceRules.html#8908" class="Function Operator">—[</a> <a id="8979" href="BitML.Semantics.InferenceRules.html#8979" class="Bound">α</a> <a id="8981" href="BitML.Semantics.InferenceRules.html#8908" class="Function Operator">]↛ₜ</a> <a id="8985" href="BitML.Semantics.InferenceRules.html#8985" class="Bound">Γₜ′</a> <a id="8989" class="Symbol">=</a> <a id="8991" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="8993" class="Symbol">(</a><a id="8994" href="BitML.Semantics.InferenceRules.html#8973" class="Bound">Γₜ</a> <a id="8997" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">—[</a> <a id="9000" href="BitML.Semantics.InferenceRules.html#8979" class="Bound">α</a> <a id="9002" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">]→ₜ</a> <a id="9006" href="BitML.Semantics.InferenceRules.html#8985" class="Bound">Γₜ′</a><a id="9009" class="Symbol">)</a>

<a id="9012" class="Comment">-----------------------------------------------------------------------------------</a>
<a id="9096" class="Comment">-- Derive the reflexive transitive closure for of _—→_ and _—→ₜ_.</a>

<a id="9163" class="Keyword">open</a> <a id="9168" class="Keyword">import</a> <a id="9175" href="Prelude.Closures.html" class="Module">Prelude.Closures</a>
<a id="9192" class="Keyword">open</a> <a id="9197" href="Prelude.Closures.html#5143" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="9236" href="BitML.Semantics.InferenceRules.html#1344" class="Datatype Operator">_—[_]→_</a> <a id="9244" class="Keyword">public</a>
<a id="9251" class="Keyword">open</a> <a id="9256" href="Prelude.Closures.html#5143" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="9295" href="BitML.Semantics.InferenceRules.html#8010" class="Datatype Operator">_—[_]→ₜ_</a> <a id="9304" class="Keyword">public</a>
  <a id="9313" class="Keyword">renaming</a> <a id="9322" class="Symbol">(</a> <a id="9324" href="Prelude.Closures.html#5536" class="InductiveConstructor Operator">begin_</a> <a id="9331" class="Symbol">to</a> <a id="9334" class="InductiveConstructor Operator">beginₜ_</a><a id="9341" class="Symbol">;</a> <a id="9343" href="Prelude.Closures.html#5638" class="InductiveConstructor Operator">_∎</a> <a id="9346" class="Symbol">to</a> <a id="9349" class="InductiveConstructor Operator">_∎ₜ</a>
           <a id="9364" class="Symbol">;</a> <a id="9366" href="Prelude.Closures.html#5666" class="InductiveConstructor Operator">_—→⟨_⟩_⊢_</a> <a id="9376" class="Symbol">to</a> <a id="9379" class="InductiveConstructor Operator">_—→ₜ⟨_⟩_⊢_</a><a id="9389" class="Symbol">;</a> <a id="9391" href="Prelude.Closures.html#6766" class="Function Operator">_—→⟨_⟩_</a> <a id="9399" class="Symbol">to</a> <a id="9402" class="Function Operator">_—→ₜ⟨_⟩_</a><a id="9410" class="Symbol">;</a> <a id="9412" href="Prelude.Closures.html#7318" class="Function Operator">_`—→⟨_⟩_⊢_</a> <a id="9423" class="Symbol">to</a> <a id="9426" class="Function Operator">_`—→ₜ⟨_⟩_⊢_</a>
           <a id="9449" class="Symbol">;</a> <a id="9451" href="Prelude.Closures.html#1460" class="Function Operator">_—→_</a> <a id="9456" class="Symbol">to</a> <a id="9459" class="Function Operator">_—→ₜ_</a>
           <a id="9476" class="Symbol">;</a> <a id="9478" href="Prelude.Closures.html#5595" class="Datatype Operator">_—[_]↠_</a> <a id="9486" class="Symbol">to</a> <a id="9489" class="Datatype Operator">_—[_]↠ₜ_</a><a id="9497" class="Symbol">;</a> <a id="9499" href="Prelude.Closures.html#6012" class="Function Operator">_—↠_</a> <a id="9504" class="Symbol">to</a> <a id="9507" class="Function Operator">_—↠ₜ_</a>
           <a id="9524" class="Symbol">;</a> <a id="9526" href="Prelude.Closures.html#5819" class="Datatype Operator">_—[_]↠⁺_</a> <a id="9535" class="Symbol">to</a> <a id="9538" class="Datatype Operator">_—[_]↠⁺ₜ_</a><a id="9547" class="Symbol">;</a> <a id="9549" href="Prelude.Closures.html#6038" class="Function Operator">_—↠⁺_</a> <a id="9555" class="Symbol">to</a> <a id="9558" class="Function Operator">_—↠⁺ₜ_</a>
           <a id="9576" class="Symbol">;</a> <a id="9578" href="Prelude.Closures.html#6242" class="InductiveConstructor Operator">_⟨_⟩←—_⊢_</a> <a id="9588" class="Symbol">to</a> <a id="9591" class="InductiveConstructor Operator">_⟨_⟩←—ₜ_⊢_</a><a id="9601" class="Symbol">;</a> <a id="9603" href="Prelude.Closures.html#7020" class="Function Operator">_⟨_⟩←—_</a> <a id="9611" class="Symbol">to</a> <a id="9614" class="Function Operator">_⟨_⟩←—ₜ_</a><a id="9622" class="Symbol">;</a> <a id="9624" href="Prelude.Closures.html#7754" class="Function Operator">_`⟨_⟩←—_⊢_</a> <a id="9635" class="Symbol">to</a> <a id="9638" class="Function Operator">_`⟨_⟩←—ₜ_⊢_</a>
           <a id="9661" class="Symbol">;</a> <a id="9663" href="Prelude.Closures.html#2286" class="Function Operator">_←[_]—_</a> <a id="9671" class="Symbol">to</a> <a id="9674" class="Function Operator">_←[_]—ₜ_</a><a id="9682" class="Symbol">;</a> <a id="9684" href="Prelude.Closures.html#2685" class="Function Operator">_←—_</a> <a id="9689" class="Symbol">to</a> <a id="9692" class="Function Operator">_←—ₜ_</a>
           <a id="9709" class="Symbol">;</a> <a id="9711" href="Prelude.Closures.html#6171" class="Datatype Operator">_↞[_]—_</a> <a id="9719" class="Symbol">to</a> <a id="9722" class="Datatype Operator">_↞[_]—ₜ_</a><a id="9730" class="Symbol">;</a> <a id="9732" href="Prelude.Closures.html#6612" class="Function Operator">_↞—_</a> <a id="9737" class="Symbol">to</a> <a id="9740" class="Function Operator">_↞—ₜ_</a>
           <a id="9757" class="Symbol">;</a> <a id="9759" href="Prelude.Closures.html#6407" class="Datatype Operator">_⁺↞[_]—_</a> <a id="9768" class="Symbol">to</a> <a id="9771" class="Datatype Operator">_⁺↞[_]—ₜ_</a><a id="9780" class="Symbol">;</a> <a id="9782" href="Prelude.Closures.html#6638" class="Function Operator">_⁺↞—_</a> <a id="9788" class="Symbol">to</a> <a id="9791" class="Function Operator">_⁺↞—ₜ_</a>
           <a id="9809" class="Symbol">;</a> <a id="9811" href="Prelude.Closures.html#7597" class="Function">viewLeft</a> <a id="9820" class="Symbol">to</a> <a id="9823" class="Function">viewLeftₜ</a><a id="9832" class="Symbol">;</a> <a id="9834" href="Prelude.Closures.html#8029" class="Function">viewRight</a> <a id="9844" class="Symbol">to</a> <a id="9847" class="Function">viewRightₜ</a><a id="9857" class="Symbol">;</a> <a id="9859" href="Prelude.Closures.html#8168" class="Function">view↔</a> <a id="9865" class="Symbol">to</a> <a id="9868" class="Function">view↔ₜ</a>
           <a id="9886" class="Symbol">)</a>
</pre></body></html>