<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Semantics.InferenceRules</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml/tree/master///BitML/Semantics/InferenceRules.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-----------------------------------------------</a>
<a id="49" class="Comment">-- Small-step semantics for the BitML calculus</a>
<a id="96" class="Comment">-----------------------------------------------</a>
<a id="144" class="Keyword">open</a> <a id="149" class="Keyword">import</a> <a id="156" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="168" class="Symbol">;</a> <a id="170" class="Keyword">open</a> <a id="175" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="185" class="Keyword">open</a> <a id="190" href="Prelude.Init.html#7254" class="Module">L.Mem</a>
<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Prelude.Lists.Core.html" class="Module">Prelude.Lists.Core</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Prelude.Lists.Indexed.html" class="Module">Prelude.Lists.Indexed</a>
<a id="291" class="Keyword">open</a> <a id="296" class="Keyword">import</a> <a id="303" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="402" class="Keyword">open</a> <a id="407" class="Keyword">import</a> <a id="414" href="Prelude.Null.html" class="Module">Prelude.Null</a>

<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="BitML.Predicate.html" class="Module">BitML.Predicate</a>

<a id="486" class="Keyword">module</a> <a id="493" href="BitML.Semantics.InferenceRules.html" class="Module">BitML.Semantics.InferenceRules</a> <a id="524" class="Symbol">(</a><a id="525" href="BitML.Semantics.InferenceRules.html#525" class="Bound">⋯</a> <a id="527" class="Symbol">:</a> <a id="529" href="BitML.BasicTypes.html#631" class="Record">⋯</a><a id="530" class="Symbol">)</a> <a id="532" class="Symbol">(</a><a id="533" class="Keyword">let</a> <a id="537" class="Keyword">open</a> <a id="542" href="BitML.BasicTypes.html#631" class="Module">⋯</a> <a id="544" href="BitML.Semantics.InferenceRules.html#525" class="Bound">⋯</a><a id="545" class="Symbol">)</a> <a id="547" class="Keyword">where</a>

<a id="554" class="Keyword">open</a> <a id="559" class="Keyword">import</a> <a id="566" href="BitML.Contracts.html" class="Module">BitML.Contracts</a> <a id="582" href="BitML.Semantics.InferenceRules.html#525" class="Bound">⋯</a> <a id="584" class="Keyword">hiding</a> <a id="591" class="Symbol">(</a><a id="592" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="593" class="Symbol">;</a> <a id="595" href="BitML.Contracts.Types.html#2351" class="Field">C</a><a id="596" class="Symbol">;</a> <a id="598" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="599" class="Symbol">)</a>
<a id="601" class="Keyword">open</a> <a id="606" class="Keyword">import</a> <a id="613" href="BitML.Semantics.Action.html" class="Module">BitML.Semantics.Action</a> <a id="636" href="BitML.Semantics.InferenceRules.html#525" class="Bound">⋯</a>
<a id="638" class="Keyword">open</a> <a id="643" class="Keyword">import</a> <a id="650" href="BitML.Semantics.Configurations.Types.html" class="Module">BitML.Semantics.Configurations.Types</a> <a id="687" href="BitML.Semantics.InferenceRules.html#525" class="Bound">⋯</a>
<a id="689" class="Keyword">open</a> <a id="694" class="Keyword">import</a> <a id="701" href="BitML.Semantics.Configurations.Helpers.html" class="Module">BitML.Semantics.Configurations.Helpers</a> <a id="740" href="BitML.Semantics.InferenceRules.html#525" class="Bound">⋯</a>
<a id="742" class="Keyword">open</a> <a id="747" class="Keyword">import</a> <a id="754" href="BitML.Semantics.Label.html" class="Module">BitML.Semantics.Label</a> <a id="776" href="BitML.Semantics.InferenceRules.html#525" class="Bound">⋯</a>
<a id="778" class="Keyword">open</a> <a id="783" class="Keyword">import</a> <a id="790" href="BitML.Semantics.Predicate.html" class="Module">BitML.Semantics.Predicate</a> <a id="816" href="BitML.Semantics.InferenceRules.html#525" class="Bound">⋯</a>

<a id="819" class="Comment">---------------------------------------------</a>
<a id="865" class="Comment">-- Semantic rules for untimed configurations.</a>

<a id="912" class="Comment">-- T0D0 freshness conditions are not completely accurate</a>
<a id="969" class="Comment">-- i.e. using `ids Γ` does not examine names in authorization</a>

<a id="1032" class="Keyword">infix</a> <a id="1038" class="Number">-1</a> <a id="1041" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">_—[_]→_</a> <a id="1049" href="BitML.Semantics.InferenceRules.html#8291" class="Function Operator">_—[_]↛_</a>
<a id="1057" class="Keyword">data</a> <a id="_—[_]→_"></a><a id="1062" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">_—[_]→_</a> <a id="1070" class="Symbol">:</a> <a id="1072" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="1076" class="Symbol">→</a> <a id="1078" href="BitML.Semantics.Label.html#459" class="Datatype">Label</a> <a id="1084" class="Symbol">→</a> <a id="1086" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="1090" class="Symbol">→</a> <a id="1092" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1097" class="Keyword">where</a>

  <a id="1106" class="Comment">------------------------------</a>
  <a id="1139" class="Comment">-- i) Rules for deposits</a>

  <a id="_—[_]→_.[DEP-AuthJoin]"></a><a id="1167" href="BitML.Semantics.InferenceRules.html#1167" class="InductiveConstructor">[DEP-AuthJoin]</a> <a id="1182" class="Symbol">:</a>

    <a id="1189" href="Prelude.InferenceRules.html#40621" class="Function Operator">────────────────────────────────────────────────────────────────────────</a>
    <a id="1266" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1268" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1270" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1274" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1276" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1280" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1282" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1284" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1286" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1288" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1292" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="1295" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1299" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1301" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1303" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="1311" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="1314" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">auth-join⦅</a> <a id="1325" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1327" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">,</a> <a id="1329" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1331" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">↔</a> <a id="1333" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1335" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">⦆</a> <a id="1337" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="1344" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1346" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1348" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1352" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1354" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1358" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1360" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1362" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1364" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1366" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1370" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="1373" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1377" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1379" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1381" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1383" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="1389" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1391" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="1393" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1395" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="1398" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1400" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="1402" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1404" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1406" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="1409" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="1411" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="1413" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1415" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Join]"></a><a id="1421" href="BitML.Semantics.InferenceRules.html#1421" class="InductiveConstructor">[DEP-Join]</a> <a id="1432" class="Symbol">:</a>

    <a id="1439" href="BitML.BasicTypes.html#531" class="Generalizable">z</a> <a id="1441" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="1443" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1445" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1447" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1449" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1451" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="1455" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="1457" class="Comment">-- z fresh</a>
    <a id="1472" href="Prelude.InferenceRules.html#11460" class="Function Operator">────────────────────────────────────────────────────────────────────────</a>
    <a id="1549" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1551" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1553" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1557" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1559" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1563" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1565" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1567" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1569" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1571" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1575" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="1578" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1582" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1584" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1586" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1588" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="1594" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1596" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="1598" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1600" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="1603" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1605" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="1607" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1609" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1611" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="1614" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="1616" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="1618" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1620" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="1628" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="1631" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">join⦅</a> <a id="1637" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1639" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">↔</a> <a id="1641" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1643" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">⦆</a> <a id="1645" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="1652" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1654" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1656" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1660" class="Symbol">(</a><a id="1661" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1663" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1665" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a><a id="1667" class="Symbol">)</a> <a id="1669" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1673" href="BitML.BasicTypes.html#531" class="Generalizable">z</a> <a id="1675" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1677" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDivide]"></a><a id="1683" href="BitML.Semantics.InferenceRules.html#1683" class="InductiveConstructor">[DEP-AuthDivide]</a> <a id="1700" class="Symbol">:</a>

    <a id="1707" href="Prelude.InferenceRules.html#42493" class="Function Operator">────────────────────────────────────────────────────────</a>
    <a id="1768" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1770" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1772" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1776" class="Symbol">(</a><a id="1777" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1779" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1781" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a><a id="1783" class="Symbol">)</a> <a id="1785" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1789" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1791" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1793" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="1801" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="1804" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="1817" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1819" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="1821" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1823" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">▷</a> <a id="1825" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1827" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="1829" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="1832" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">⦆</a> <a id="1834" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="1841" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="1843" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1845" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="1849" class="Symbol">(</a><a id="1850" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1852" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1854" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a><a id="1856" class="Symbol">)</a> <a id="1858" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="1862" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1864" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1866" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1868" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="1874" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1876" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="1879" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="1881" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="1883" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="1885" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="1887" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="1890" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="1892" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="1894" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="1896" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Divide]"></a><a id="1902" href="BitML.Semantics.InferenceRules.html#1902" class="InductiveConstructor">[DEP-Divide]</a> <a id="1915" class="Symbol">:</a>

    <a id="1922" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="1926" class="Symbol">(</a><a id="1927" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="1930" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="1932" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1934" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="1938" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="1939" class="Symbol">)</a> <a id="1941" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1943" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="1945" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="1947" href="BitML.BasicTypes.html#536" class="Generalizable">y′</a> <a id="1950" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="1952" class="Comment">-- y, y′ fresh</a>
    <a id="1971" href="Prelude.InferenceRules.html#12572" class="Function Operator">────────────────────────────────────────────────────────</a>
    <a id="2032" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="2034" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2036" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="2040" class="Symbol">(</a><a id="2041" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="2043" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2045" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a><a id="2047" class="Symbol">)</a> <a id="2049" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="2053" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2055" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2057" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2059" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="2065" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2067" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="2070" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2072" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="2074" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="2076" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="2078" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="2081" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="2083" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="2085" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2087" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="2095" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="2098" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">divide⦅</a> <a id="2106" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2108" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">▷</a> <a id="2110" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="2112" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">,</a> <a id="2114" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="2117" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">⦆</a> <a id="2119" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="2126" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="2128" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2130" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="2134" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="2136" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="2140" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="2142" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2144" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="2146" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2148" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="2152" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a> <a id="2155" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="2159" href="BitML.BasicTypes.html#536" class="Generalizable">y′</a> <a id="2162" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2164" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDonate]"></a><a id="2170" href="BitML.Semantics.InferenceRules.html#2170" class="InductiveConstructor">[DEP-AuthDonate]</a> <a id="2187" class="Symbol">:</a>

    <a id="2194" href="Prelude.InferenceRules.html#44599" class="Function Operator">──────────────────────────────────────</a>
    <a id="2237" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="2239" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2241" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="2245" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="2247" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="2251" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2253" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2255" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="2263" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="2266" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="2279" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2281" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">,</a> <a id="2283" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2285" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2288" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="2290" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">⦆</a> <a id="2292" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="2299" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="2301" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2303" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="2307" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="2309" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="2313" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2315" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2317" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2319" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="2325" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2327" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2330" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="2332" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="2334" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2336" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Donate]"></a><a id="2342" href="BitML.Semantics.InferenceRules.html#2342" class="InductiveConstructor">[DEP-Donate]</a> <a id="2355" class="Symbol">:</a>

    <a id="2362" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="2364" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="2366" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2368" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2370" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="2374" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="2376" class="Comment">-- y fresh</a>
    <a id="2391" href="Prelude.InferenceRules.html#13517" class="Function Operator">──────────────────────────────────────</a>
    <a id="2434" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="2436" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2438" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="2442" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="2444" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="2448" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2450" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2452" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2454" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="2460" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2462" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2465" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="2467" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="2469" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2471" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="2479" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="2482" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">donate⦅</a> <a id="2490" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="2492" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">▷ᵈ</a> <a id="2495" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="2497" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">⦆</a> <a id="2499" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="2506" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="2508" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="2510" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="2514" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="2516" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="2520" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="2522" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2524" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-AuthDestroy]"></a><a id="2530" href="BitML.Semantics.InferenceRules.html#2530" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="2548" class="Symbol">:</a>
    <a id="2554" class="Symbol">∀</a> <a id="2556" class="Symbol">{</a><a id="2557" href="BitML.Semantics.InferenceRules.html#2557" class="Bound">ds</a> <a id="2560" class="Symbol">:</a> <a id="2562" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="2573" class="Symbol">}</a> <a id="2575" class="Symbol">{</a><a id="2576" href="BitML.Semantics.InferenceRules.html#2576" class="Bound">j</a> <a id="2578" class="Symbol">:</a> <a id="2580" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="2586" href="BitML.Semantics.InferenceRules.html#2557" class="Bound">ds</a><a id="2588" class="Symbol">}</a> <a id="2590" class="Symbol">→</a>

    <a id="2597" class="Keyword">let</a> <a id="2601" href="BitML.Semantics.InferenceRules.html#2601" class="Bound">xs</a> <a id="2604" class="Symbol">=</a> <a id="2606" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2610" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="2618" href="BitML.Semantics.InferenceRules.html#2557" class="Bound">ds</a>
        <a id="2629" href="BitML.Semantics.InferenceRules.html#2629" class="Bound">Aⱼ</a> <a id="2632" class="Symbol">=</a> <a id="2634" class="Symbol">(</a><a id="2635" href="BitML.Semantics.InferenceRules.html#2557" class="Bound">ds</a> <a id="2638" href="Prelude.Lists.Indexed.html#650" class="Function Operator">‼</a> <a id="2640" href="BitML.Semantics.InferenceRules.html#2576" class="Bound">j</a><a id="2641" class="Symbol">)</a> <a id="2643" class="Symbol">.</a><a id="2644" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="2658" href="BitML.Semantics.InferenceRules.html#2658" class="Bound">j′</a> <a id="2661" class="Symbol">=</a> <a id="2663" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="2669" class="Symbol">{</a><a id="2670" class="Argument">xs</a> <a id="2673" class="Symbol">=</a> <a id="2675" href="BitML.Semantics.InferenceRules.html#2557" class="Bound">ds</a><a id="2677" class="Symbol">}</a> <a id="2679" href="BitML.Semantics.InferenceRules.html#2576" class="Bound">j</a>
        <a id="2689" href="BitML.Semantics.InferenceRules.html#2689" class="Bound">Δ</a>  <a id="2692" class="Symbol">=</a> <a id="2694" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="2697" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2701" class="Symbol">(</a><a id="2702" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="2711" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="2721" class="Symbol">)</a> <a id="2723" href="BitML.Semantics.InferenceRules.html#2557" class="Bound">ds</a>
    <a id="2730" class="Keyword">in</a>

    <a id="2738" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="2740" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="2742" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="2746" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="2748" class="Comment">-- y fresh (except in destroy authorizations for xs)</a>
    <a id="2805" href="Prelude.InferenceRules.html#12185" class="Function Operator">──────────────────────────────────────────────────────────────</a>
    <a id="2872" href="BitML.Semantics.InferenceRules.html#2689" class="Bound">Δ</a> <a id="2874" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2876" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="2884" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="2887" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="2901" href="BitML.Semantics.InferenceRules.html#2629" class="Bound">Aⱼ</a> <a id="2904" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="2906" href="BitML.Semantics.InferenceRules.html#2601" class="Bound">xs</a> <a id="2909" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="2911" href="BitML.Semantics.InferenceRules.html#2658" class="Bound">j′</a> <a id="2914" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">⦆</a> <a id="2916" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="2923" href="BitML.Semantics.InferenceRules.html#2689" class="Bound">Δ</a> <a id="2925" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2927" href="BitML.Semantics.InferenceRules.html#2629" class="Bound">Aⱼ</a> <a id="2930" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="2936" href="BitML.Semantics.InferenceRules.html#2601" class="Bound">xs</a> <a id="2939" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="2941" href="BitML.Semantics.InferenceRules.html#2658" class="Bound">j′</a> <a id="2944" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="2948" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="2950" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="2952" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2954" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[DEP-Destroy]"></a><a id="2960" href="BitML.Semantics.InferenceRules.html#2960" class="InductiveConstructor">[DEP-Destroy]</a> <a id="2974" class="Symbol">:</a>
    <a id="2980" class="Symbol">∀</a> <a id="2982" class="Symbol">{</a><a id="2983" href="BitML.Semantics.InferenceRules.html#2983" class="Bound">ds</a> <a id="2986" class="Symbol">:</a> <a id="2988" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="2999" class="Symbol">}</a> <a id="3001" class="Symbol">→</a>

    <a id="3008" class="Keyword">let</a>
      <a id="3018" href="BitML.Semantics.InferenceRules.html#3018" class="Bound">xs</a> <a id="3021" class="Symbol">=</a> <a id="3023" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3027" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="3035" href="BitML.Semantics.InferenceRules.html#2983" class="Bound">ds</a>
      <a id="3044" href="BitML.Semantics.InferenceRules.html#3044" class="Bound">Δ</a>  <a id="3047" class="Symbol">=</a> <a id="3049" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="3052" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3056" class="Symbol">(λ</a> <a id="3059" class="Symbol">(</a><a id="3060" href="BitML.Semantics.InferenceRules.html#3060" class="Bound">i</a> <a id="3062" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3064" href="BitML.Semantics.InferenceRules.html#3064" class="Bound">Aᵢ</a> <a id="3067" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3069" href="BitML.Semantics.InferenceRules.html#3069" class="Bound">vᵢ</a> <a id="3072" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3074" href="BitML.Semantics.InferenceRules.html#3074" class="Bound">xᵢ</a><a id="3076" class="Symbol">)</a> <a id="3078" class="Symbol">→</a>
                     <a id="3101" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="3103" href="BitML.Semantics.InferenceRules.html#3064" class="Bound">Aᵢ</a> <a id="3106" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="3110" href="BitML.Semantics.InferenceRules.html#3069" class="Bound">vᵢ</a> <a id="3113" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="3117" href="BitML.Semantics.InferenceRules.html#3074" class="Bound">xᵢ</a> <a id="3120" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="3122" href="BitML.Semantics.InferenceRules.html#3064" class="Bound">Aᵢ</a> <a id="3125" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="3131" href="BitML.Semantics.InferenceRules.html#3018" class="Bound">xs</a> <a id="3134" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="3136" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="3142" class="Symbol">{</a><a id="3143" class="Argument">xs</a> <a id="3146" class="Symbol">=</a> <a id="3148" href="BitML.Semantics.InferenceRules.html#2983" class="Bound">ds</a><a id="3150" class="Symbol">}</a> <a id="3152" href="BitML.Semantics.InferenceRules.html#3060" class="Bound">i</a> <a id="3154" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="3158" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="3160" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>
                  <a id="3180" class="Symbol">)</a> <a id="3182" class="Symbol">(</a><a id="3183" href="Prelude.Lists.Indexed.html#1568" class="Function">enumerate</a> <a id="3193" href="BitML.Semantics.InferenceRules.html#2983" class="Bound">ds</a><a id="3195" class="Symbol">)</a>
    <a id="3201" class="Keyword">in</a>
    <a id="3208" href="Prelude.InferenceRules.html#40036" class="Function Operator">─────────────────────────────────────────────────────────────────────────────</a>
    <a id="3290" href="BitML.Semantics.InferenceRules.html#3044" class="Bound">Δ</a> <a id="3292" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="3294" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="3302" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="3305" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">destroy⦅</a> <a id="3314" href="BitML.Semantics.InferenceRules.html#3018" class="Bound">xs</a> <a id="3317" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">⦆</a> <a id="3319" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="3326" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>

  <a id="3331" class="Comment">------------------------------------------------------------</a>
  <a id="3394" class="Comment">-- ii) Rules for contract advertisements and stipulation</a>

  <a id="_—[_]→_.[C-Advertise]"></a><a id="3454" href="BitML.Semantics.InferenceRules.html#3454" class="InductiveConstructor">[C-Advertise]</a> <a id="3468" class="Symbol">:</a> <a id="3470" class="Keyword">let</a> <a id="3474" class="Keyword">open</a> <a id="3479" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="3483" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="3486" class="Keyword">in</a>

    <a id="3494" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="3496" href="BitML.Contracts.Validity.html#1544" class="Record">ValidAd</a> <a id="3504" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a>               <a id="3521" class="Comment">-- the advertisement is valid</a>
    <a id="3555" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="3557" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="3561" class="Symbol">(</a><a id="3562" href="Data.List.Membership.Setoid.html#896" class="Function Operator">_∈</a> <a id="3565" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="3568" class="Symbol">)</a> <a id="3570" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>       <a id="3582" class="Comment">-- at least one honest participant</a>
    <a id="3621" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="3623" href="BitML.Contracts.Collections.html#6451" class="Function">deposits</a> <a id="3632" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="3635" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="3637" href="BitML.Contracts.Collections.html#6451" class="Function">deposits</a> <a id="3646" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="3648" class="Comment">-- all persistent deposits in place</a>
      <a id="3690" href="Prelude.InferenceRules.html#12318" class="Function Operator">────────────────────────────────────────────────────────────</a>
      <a id="3757" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="3759" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="3762" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">advertise⦅</a> <a id="3773" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="3776" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">⦆</a> <a id="3778" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="3781" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="3783" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="3786" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="3788" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthCommit]"></a><a id="3794" href="BitML.Semantics.InferenceRules.html#3794" class="InductiveConstructor">[C-AuthCommit]</a> <a id="3809" class="Symbol">:</a> <a id="3811" class="Keyword">let</a> <a id="3815" class="Keyword">open</a> <a id="3820" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="3824" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="3827" class="Keyword">in</a>
    <a id="3834" class="Symbol">∀</a> <a id="3836" class="Symbol">{</a><a id="3837" href="BitML.Semantics.InferenceRules.html#3837" class="Bound">secrets</a> <a id="3845" class="Symbol">:</a> <a id="3847" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3852" class="Symbol">(</a><a id="3853" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="3860" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3862" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3868" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="3869" class="Symbol">)}</a> <a id="3872" class="Symbol">→</a>

    <a id="3879" class="Keyword">let</a> <a id="3883" class="Symbol">(</a><a id="3884" href="BitML.Semantics.InferenceRules.html#3884" class="Bound">as</a> <a id="3887" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3889" href="BitML.Semantics.InferenceRules.html#3889" class="Bound">ms</a><a id="3891" class="Symbol">)</a> <a id="3893" class="Symbol">=</a> <a id="3895" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="3901" href="BitML.Semantics.InferenceRules.html#3837" class="Bound">secrets</a>
        <a id="3917" href="BitML.Semantics.InferenceRules.html#3917" class="Bound">Δ</a>         <a id="3927" class="Symbol">=</a> <a id="3929" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="3932" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3936" class="Symbol">(</a><a id="3937" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="3945" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="3947" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="3949" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="3954" class="Symbol">)</a> <a id="3956" href="BitML.Semantics.InferenceRules.html#3837" class="Bound">secrets</a>
    <a id="3968" class="Keyword">in</a>

    <a id="3976" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="3978" href="BitML.Semantics.InferenceRules.html#3884" class="Bound">as</a> <a id="3981" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3983" href="BitML.Contracts.Collections.html#7218" class="Function">secretsOfᵖ</a> <a id="3994" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="3996" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>         <a id="4006" class="Comment">-- a₁..aₖ secrets of A in G</a>
    <a id="4038" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="4040" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4044" class="Symbol">(</a><a id="4045" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="4048" href="BitML.Semantics.Configurations.Helpers.html#11169" class="Function">secretsOfᶜᶠ</a> <a id="4060" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4062" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="4063" class="Symbol">)</a> <a id="4065" href="BitML.Semantics.InferenceRules.html#3884" class="Bound">as</a> <a id="4068" class="Comment">-- ∀i ∈ 1..k : ∄N : {A : aᵢ ♯ N} ∈ Γ</a>
    <a id="4109" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="4111" class="Symbol">(</a><a id="4112" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4114" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="4116" href="BitML.BasicTypes.html#785" class="Function">Hon</a> <a id="4120" class="Symbol">→</a> <a id="4122" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4126" href="Data.Maybe.html#810" class="Function">Is-just</a> <a id="4134" href="BitML.Semantics.InferenceRules.html#3889" class="Bound">ms</a><a id="4136" class="Symbol">)</a>  <a id="4139" class="Comment">-- honest participants commit to valid lengths</a>
      <a id="4192" href="Prelude.InferenceRules.html#11303" class="Function Operator">──────────────────────────────────────────────────────────────────────────</a>
      <a id="4273" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="4275" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4278" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4280" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
        <a id="4290" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="4293" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="4306" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4308" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="4310" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4313" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="4315" href="BitML.Semantics.InferenceRules.html#3837" class="Bound">secrets</a> <a id="4323" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="4325" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
      <a id="4334" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="4336" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4339" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4341" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="4343" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4345" href="BitML.Semantics.InferenceRules.html#3917" class="Bound">Δ</a> <a id="4347" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4349" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4351" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4357" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4360" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4363" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-AuthInit]"></a><a id="4369" href="BitML.Semantics.InferenceRules.html#4369" class="InductiveConstructor">[C-AuthInit]</a> <a id="4382" class="Symbol">:</a> <a id="4384" class="Keyword">let</a> <a id="4388" class="Keyword">open</a> <a id="4393" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="4397" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4400" class="Keyword">in</a>

    <a id="4408" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="4410" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="4416" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="4418" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="4440" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4443" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="4445" class="Comment">-- all participants have committed their secrets</a>
    <a id="4498" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="4500" class="Symbol">(</a><a id="4501" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4503" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4505" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="4507" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4509" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="4510" class="Symbol">)</a> <a id="4512" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="4514" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="4533" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="4535" class="Comment">-- G = A :! v @ x | ...</a>
      <a id="4565" href="Prelude.InferenceRules.html#10547" class="Function Operator">───────────────────────────────────────────────────────────────────────────────────</a>
      <a id="4655" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="4657" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4660" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4662" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
        <a id="4672" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="4675" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">auth-init⦅</a> <a id="4686" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4688" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="4690" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4693" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="4695" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="4697" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">⦆</a> <a id="4699" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
      <a id="4708" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="4710" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4713" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4715" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="4717" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4719" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4721" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4727" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="4729" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="4732" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4735" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>


  <a id="_—[_]→_.[C-Init]"></a><a id="4741" href="BitML.Semantics.InferenceRules.html#4741" class="InductiveConstructor">[C-Init]</a> <a id="4750" class="Symbol">:</a> <a id="4752" class="Keyword">let</a> <a id="4756" class="Keyword">open</a> <a id="4761" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="4765" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4768" class="Keyword">in</a>

    <a id="4776" class="Comment">-- all participants have committed their secrets (guaranteed from [C-AuthInit])</a>

    <a id="4861" class="Keyword">let</a> <a id="4865" href="BitML.Semantics.InferenceRules.html#4865" class="Bound">toSpend</a> <a id="4873" class="Symbol">=</a> <a id="4875" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="4894" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
        <a id="4904" href="BitML.Semantics.InferenceRules.html#4904" class="Bound">vs</a>      <a id="4912" class="Symbol">=</a> <a id="4914" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4918" href="Prelude.Nary.html#2292" class="Function">select₂</a> <a id="4926" href="BitML.Semantics.InferenceRules.html#4865" class="Bound">toSpend</a>
        <a id="4942" href="BitML.Semantics.InferenceRules.html#4942" class="Bound">xs</a>      <a id="4950" class="Symbol">=</a> <a id="4952" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4956" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="4964" href="BitML.Semantics.InferenceRules.html#4865" class="Bound">toSpend</a>
    <a id="4976" class="Keyword">in</a>

    <a id="4984" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="4986" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="4988" href="BitML.Semantics.InferenceRules.html#4942" class="Bound">xs</a> <a id="4991" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="4994" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4998" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="5000" class="Comment">-- x fresh</a>
    <a id="5015" href="Prelude.InferenceRules.html#10977" class="Function Operator">──────────────────────────────────────────────────────────────────────────────</a>
    <a id="5098" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="5100" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a>
    <a id="5107" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5109" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
    <a id="5115" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5117" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5120" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5124" class="Symbol">(λ</a> <a id="5127" class="Symbol">(</a><a id="5128" href="BitML.Semantics.InferenceRules.html#5128" class="Bound">Aᵢ</a> <a id="5131" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5133" href="BitML.Semantics.InferenceRules.html#5133" class="Bound">vᵢ</a> <a id="5136" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5138" href="BitML.Semantics.InferenceRules.html#5138" class="Bound">xᵢ</a><a id="5140" class="Symbol">)</a> <a id="5142" class="Symbol">→</a> <a id="5144" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="5146" href="BitML.Semantics.InferenceRules.html#5128" class="Bound">Aᵢ</a> <a id="5149" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="5153" href="BitML.Semantics.InferenceRules.html#5133" class="Bound">vᵢ</a> <a id="5156" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="5160" href="BitML.Semantics.InferenceRules.html#5138" class="Bound">xᵢ</a> <a id="5163" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5165" href="BitML.Semantics.InferenceRules.html#5128" class="Bound">Aᵢ</a> <a id="5168" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5174" href="BitML.Semantics.InferenceRules.html#5138" class="Bound">xᵢ</a> <a id="5177" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="5180" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="5183" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5184" class="Symbol">)</a> <a id="5186" href="BitML.Semantics.InferenceRules.html#4865" class="Bound">toSpend</a>
    <a id="5198" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5200" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5203" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5207" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="5214" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5217" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="5220" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="5222" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
      <a id="5234" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="5237" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">init⦅</a> <a id="5243" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="5245" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">,</a> <a id="5247" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="5249" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">⦆</a> <a id="5251" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="5258" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="5260" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="5262" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="5264" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="5268" href="BitML.Semantics.InferenceRules.html#4904" class="Bound">vs</a> <a id="5271" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="5275" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="5277" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5279" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>

  <a id="5284" class="Comment">---------------------------------------------------</a>
  <a id="5338" class="Comment">-- iii) Rules for executing active contracts</a>

  <a id="_—[_]→_.[C-Split]"></a><a id="5386" href="BitML.Semantics.InferenceRules.html#5386" class="InductiveConstructor">[C-Split]</a> <a id="5396" class="Symbol">:</a>
    <a id="5402" class="Symbol">∀</a> <a id="5404" class="Symbol">{</a><a id="5405" href="BitML.Semantics.InferenceRules.html#5405" class="Bound">vcis</a> <a id="5410" class="Symbol">:</a> <a id="5412" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="5423" class="Symbol">}</a> <a id="5425" class="Symbol">→</a>

    <a id="5432" class="Keyword">let</a> <a id="5436" class="Symbol">(</a><a id="5437" href="BitML.Semantics.InferenceRules.html#5437" class="Bound">vs</a> <a id="5440" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5442" href="BitML.Semantics.InferenceRules.html#5442" class="Bound">cs</a> <a id="5445" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5447" href="BitML.Semantics.InferenceRules.html#5447" class="Bound">ys</a><a id="5449" class="Symbol">)</a> <a id="5451" class="Symbol">=</a> <a id="5453" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="5460" href="BitML.Semantics.InferenceRules.html#5405" class="Bound">vcis</a> <a id="5465" class="Keyword">in</a>

    <a id="5473" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="5477" class="Symbol">(</a><a id="5478" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="5481" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="5483" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5485" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5489" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="5490" class="Symbol">)</a> <a id="5492" href="BitML.Semantics.InferenceRules.html#5447" class="Bound">ys</a> <a id="5495" class="Comment">-- ys fresh</a>
    <a id="5511" href="Prelude.InferenceRules.html#13335" class="Function Operator">──────────────────────────────────────────</a>
    <a id="5558" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="5560" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="5562" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="5568" class="Symbol">(</a><a id="5569" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="5573" href="BitML.Semantics.InferenceRules.html#5437" class="Bound">vs</a> <a id="5576" href="BitML.Semantics.InferenceRules.html#5442" class="Bound">cs</a><a id="5578" class="Symbol">)</a> <a id="5580" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="5582" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="5584" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="5588" href="BitML.Semantics.InferenceRules.html#5437" class="Bound">vs</a> <a id="5591" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="5595" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="5597" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5599" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="5607" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="5610" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">split⦅</a> <a id="5617" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="5619" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">⦆</a> <a id="5621" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="5628" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5631" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5635" class="Symbol">(</a><a id="5636" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="5645" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5647" href="Function.Base.html#1563" class="Function">flip</a> <a id="5652" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="5660" class="Symbol">)</a> <a id="5662" href="BitML.Semantics.InferenceRules.html#5405" class="Bound">vcis</a> <a id="5667" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5669" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthRev]"></a><a id="5675" href="BitML.Semantics.InferenceRules.html#5675" class="InductiveConstructor">[C-AuthRev]</a> <a id="5687" class="Symbol">:</a>

    <a id="5694" href="Prelude.InferenceRules.html#46120" class="Function Operator">─────────────────────────</a>
    <a id="5724" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5726" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="5728" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="5730" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="5732" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="5734" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5739" href="BitML.BasicTypes.html#434" class="Generalizable">n</a> <a id="5741" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="5743" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5745" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="5753" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="5756" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="5766" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="5768" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">,</a> <a id="5770" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="5772" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">⦆</a> <a id="5774" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="5781" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="5783" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">∶</a> <a id="5785" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="5787" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">♯</a> <a id="5789" href="BitML.BasicTypes.html#434" class="Generalizable">n</a> <a id="5791" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5793" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-PutRev]"></a><a id="5799" href="BitML.Semantics.InferenceRules.html#5799" class="InductiveConstructor">[C-PutRev]</a> <a id="5810" class="Symbol">:</a>
    <a id="5816" class="Symbol">∀</a> <a id="5818" class="Symbol">{</a><a id="5819" href="BitML.Semantics.InferenceRules.html#5819" class="Bound">ds</a> <a id="5822" class="Symbol">:</a> <a id="5824" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="5835" class="Symbol">}</a>
      <a id="5843" class="Symbol">{</a><a id="5844" href="BitML.Semantics.InferenceRules.html#5844" class="Bound">ss</a> <a id="5847" class="Symbol">:</a> <a id="5849" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5854" class="Symbol">(</a><a id="5855" href="BitML.BasicTypes.html#675" class="Field">Participant</a> <a id="5867" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5869" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="5876" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5878" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="5879" class="Symbol">)}</a> <a id="5882" class="Symbol">→</a>

    <a id="5889" class="Keyword">let</a> <a id="5893" class="Symbol">(_</a> <a id="5896" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5898" href="BitML.Semantics.InferenceRules.html#5898" class="Bound">vs</a> <a id="5901" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5903" href="BitML.Semantics.InferenceRules.html#5903" class="Bound">xs</a><a id="5905" class="Symbol">)</a> <a id="5907" class="Symbol">=</a> <a id="5909" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="5916" href="BitML.Semantics.InferenceRules.html#5819" class="Bound">ds</a>
        <a id="5927" class="Symbol">(_</a> <a id="5930" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5932" href="BitML.Semantics.InferenceRules.html#5932" class="Bound">as</a> <a id="5935" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5937" class="Symbol">_)</a>  <a id="5941" class="Symbol">=</a> <a id="5943" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="5950" href="BitML.Semantics.InferenceRules.html#5844" class="Bound">ss</a>
        <a id="5961" href="BitML.Semantics.InferenceRules.html#5961" class="Bound">Γ</a> <a id="5963" class="Symbol">=</a> <a id="5965" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5968" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5972" class="Symbol">(</a><a id="5973" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="5982" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="5992" class="Symbol">)</a> <a id="5994" href="BitML.Semantics.InferenceRules.html#5819" class="Bound">ds</a>
        <a id="6005" href="BitML.Semantics.InferenceRules.html#6005" class="Bound">Δ</a> <a id="6007" class="Symbol">=</a> <a id="6009" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6012" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6016" class="Symbol">(</a><a id="6017" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="6026" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">_∶_♯_</a><a id="6031" class="Symbol">)</a> <a id="6033" href="BitML.Semantics.InferenceRules.html#5844" class="Bound">ss</a>
        <a id="6044" href="BitML.Semantics.InferenceRules.html#6044" class="Bound">ΔΓ′</a> <a id="6048" class="Symbol">=</a> <a id="6050" href="BitML.Semantics.InferenceRules.html#6005" class="Bound">Δ</a> <a id="6052" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6054" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a>
    <a id="6061" class="Keyword">in</a>

    <a id="6069" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="6071" href="BitML.BasicTypes.html#531" class="Generalizable">z</a> <a id="6073" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="6075" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="6077" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6079" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6083" class="Symbol">(</a><a id="6084" href="BitML.Semantics.InferenceRules.html#5961" class="Bound">Γ</a> <a id="6086" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6088" href="BitML.Semantics.InferenceRules.html#6044" class="Bound">ΔΓ′</a><a id="6091" class="Symbol">)</a> <a id="6093" class="Comment">-- z fresh</a>
    <a id="6108" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="6110" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟦</a> <a id="6112" href="BitML.Predicate.html#747" class="Generalizable">p</a> <a id="6114" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟧ᵖ</a> <a id="6117" href="BitML.Semantics.InferenceRules.html#6005" class="Bound">Δ</a> <a id="6119" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6121" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="6126" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="6131" class="Comment">-- predicate is true</a>
      <a id="6158" href="Prelude.InferenceRules.html#12693" class="Function Operator">──────────────────────────────────────────────────────</a>
      <a id="6219" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="6221" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6223" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="6227" href="BitML.Semantics.InferenceRules.html#5903" class="Bound">xs</a> <a id="6230" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="6238" href="BitML.Semantics.InferenceRules.html#5932" class="Bound">as</a> <a id="6241" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="6244" href="BitML.Predicate.html#747" class="Generalizable">p</a> <a id="6246" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">⇒</a> <a id="6248" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="6250" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="6252" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="6254" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="6256" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="6260" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="6262" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6264" class="Symbol">(</a><a id="6265" href="BitML.Semantics.InferenceRules.html#5961" class="Bound">Γ</a> <a id="6267" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6269" href="BitML.Semantics.InferenceRules.html#6044" class="Bound">ΔΓ′</a><a id="6272" class="Symbol">)</a>
        <a id="6282" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="6285" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">put⦅</a> <a id="6290" href="BitML.Semantics.InferenceRules.html#5903" class="Bound">xs</a> <a id="6293" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="6295" href="BitML.Semantics.InferenceRules.html#5932" class="Bound">as</a> <a id="6298" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="6300" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="6302" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">⦆</a> <a id="6304" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
      <a id="6313" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="6315" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="6317" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="6319" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="6321" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="6323" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="6327" href="BitML.Semantics.InferenceRules.html#5898" class="Bound">vs</a> <a id="6330" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="6334" href="BitML.BasicTypes.html#531" class="Generalizable">z</a> <a id="6336" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6338" href="BitML.Semantics.InferenceRules.html#6044" class="Bound">ΔΓ′</a>


  <a id="_—[_]→_.[C-Withdraw]"></a><a id="6346" href="BitML.Semantics.InferenceRules.html#6346" class="InductiveConstructor">[C-Withdraw]</a> <a id="6359" class="Symbol">:</a>

    <a id="6366" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="6368" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="6370" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="6372" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6374" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6378" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="6380" class="Comment">-- x fresh</a>
    <a id="6395" href="Prelude.InferenceRules.html#13833" class="Function Operator">──────────────────────────────</a>
    <a id="6430" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="6432" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6434" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="6443" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="6445" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="6447" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="6449" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="6451" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="6455" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="6457" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6459" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="6467" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="6470" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">withdraw⦅</a> <a id="6480" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="6482" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="6484" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="6486" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="6488" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="6490" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">⦆</a> <a id="6492" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="6499" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="6501" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="6503" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="6507" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="6509" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="6513" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="6515" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6517" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="_—[_]→_.[C-AuthControl]"></a><a id="6523" href="BitML.Semantics.InferenceRules.html#6523" class="InductiveConstructor">[C-AuthControl]</a> <a id="6539" class="Symbol">:</a>
    <a id="6545" class="Symbol">∀</a> <a id="6547" class="Symbol">{</a><a id="6548" href="BitML.Semantics.InferenceRules.html#6548" class="Bound">i</a> <a id="6550" class="Symbol">:</a> <a id="6552" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="6558" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="6559" class="Symbol">}</a> <a id="6561" class="Symbol">→</a> <a id="6563" class="Keyword">let</a> <a id="6567" href="BitML.Semantics.InferenceRules.html#6567" class="Bound">d</a> <a id="6569" class="Symbol">=</a> <a id="6571" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="6573" href="Prelude.Lists.Indexed.html#650" class="Function Operator">‼</a> <a id="6575" href="BitML.Semantics.InferenceRules.html#6548" class="Bound">i</a> <a id="6577" class="Keyword">in</a>

    <a id="6585" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="6587" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="6589" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="6605" href="BitML.Semantics.InferenceRules.html#6567" class="Bound">d</a> <a id="6607" class="Comment">-- D ≡ A : D′</a>
    <a id="6625" href="Prelude.InferenceRules.html#13643" class="Function Operator">───────────────────────────────────</a>
    <a id="6665" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="6667" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="6669" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="6671" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="6673" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="6677" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="6679" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6681" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
      <a id="6689" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="6692" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">auth-control⦅</a> <a id="6706" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="6708" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">,</a> <a id="6710" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="6712" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">▷</a> <a id="6714" href="BitML.Semantics.InferenceRules.html#6567" class="Bound">d</a> <a id="6716" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">⦆</a> <a id="6718" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
    <a id="6725" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="6727" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="6729" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="6731" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="6733" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="6737" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="6739" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6741" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="6743" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6749" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="6751" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">▷</a> <a id="6753" href="BitML.Semantics.InferenceRules.html#6567" class="Bound">d</a> <a id="6755" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="6757" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6759" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>


  <a id="6765" class="Comment">-- T0D0 linearize, i.e. introduce new label and produce intermediate configuration:</a>
  <a id="6851" class="Comment">-- ⟨ c , v ⟩at x ∣ Δ ∣ Γ —[ choice⦅ c , i ⦆ ]→ ⟨ [ d∗ ] , v ⟩at x ∣ Γ</a>
  <a id="_—[_]→_.[C-Control]"></a><a id="6923" href="BitML.Semantics.InferenceRules.html#6923" class="InductiveConstructor">[C-Control]</a> <a id="6935" class="Symbol">:</a>
    <a id="6941" class="Symbol">∀</a> <a id="6943" class="Symbol">{</a><a id="6944" href="BitML.Semantics.InferenceRules.html#6944" class="Bound">i</a> <a id="6946" class="Symbol">:</a> <a id="6948" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="6954" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="6955" class="Symbol">}</a> <a id="6957" class="Symbol">→</a> <a id="6959" class="Keyword">let</a> <a id="6963" class="Keyword">open</a> <a id="6968" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="6976" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="6978" href="BitML.Semantics.InferenceRules.html#6944" class="Bound">i</a> <a id="6980" class="Keyword">in</a>

    <a id="6988" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="6990" href="Prelude.Null.html#283" class="Function">¬Null</a> <a id="6996" class="Symbol">(</a><a id="6997" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="7013" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a><a id="7014" class="Symbol">)</a> <a id="7016" href="Data.Sum.Base.html#743" class="Datatype Operator">⊎</a> <a id="7018" class="Symbol">(</a><a id="7019" href="Data.List.Base.html#4873" class="Function">length</a> <a id="7026" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="7028" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="7030" class="Number">1</a><a id="7031" class="Symbol">)</a>
    <a id="7037" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7039" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="7041" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="7043" href="BitML.Semantics.Configurations.Types.html#1165" class="Generalizable">L</a>
    <a id="7049" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7051" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="7053" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7055" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="7058" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="7060" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="7062" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="7064" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="7068" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="7070" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7072" href="BitML.Semantics.Configurations.Types.html#1165" class="Generalizable">L</a> <a id="7074" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="7077" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="7079" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="7082" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a> <a id="7085" class="Comment">-- T0D0 replace with _—↠_?</a>
    <a id="7116" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7118" href="BitML.Semantics.Label.html#1686" class="Function">cv</a> <a id="7121" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="7123" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7125" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="7130" href="BitML.BasicTypes.html#527" class="Generalizable">x</a>
      <a id="7138" href="Prelude.InferenceRules.html#11835" class="Function Operator">───────────────────────────────────────────────────────────────────</a>
      <a id="7212" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="7214" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="7216" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="7218" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="7220" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="7224" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="7226" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7228" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7231" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7235" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="7242" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="7244" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">▷</a> <a id="7246" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="7248" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="7250" class="Symbol">(</a><a id="7251" href="Prelude.Lists.Dec.html#1880" class="Function">nub</a> <a id="7255" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7257" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="7273" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a><a id="7274" class="Symbol">)</a> <a id="7276" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7278" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
        <a id="7288" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="7291" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="7293" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a>
      <a id="7302" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a>


<a id="7307" class="Comment">-------------------------------------------</a>
<a id="7351" class="Comment">-- Semantic rules for timed configurations.</a>

<a id="7396" class="Keyword">infix</a> <a id="7402" class="Number">3</a> <a id="7404" href="BitML.Semantics.InferenceRules.html#7409" class="Function Operator">_≈ₜ_</a>
<a id="_≈ₜ_"></a><a id="7409" href="BitML.Semantics.InferenceRules.html#7409" class="Function Operator">_≈ₜ_</a> <a id="7414" class="Symbol">:</a> <a id="7416" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="7421" class="Symbol">→</a> <a id="7423" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="7428" class="Symbol">→</a> <a id="7430" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="7435" href="BitML.Semantics.InferenceRules.html#7435" class="Bound">c</a> <a id="7437" href="BitML.Semantics.InferenceRules.html#7409" class="Function Operator">≈ₜ</a> <a id="7440" href="BitML.Semantics.InferenceRules.html#7440" class="Bound">c′</a> <a id="7443" class="Symbol">=</a> <a id="7445" class="Symbol">(</a><a id="7446" href="BitML.Semantics.Configurations.Types.html#1354" class="Field">time</a> <a id="7451" href="BitML.Semantics.InferenceRules.html#7435" class="Bound">c</a> <a id="7453" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7455" href="BitML.Semantics.Configurations.Types.html#1354" class="Field">time</a> <a id="7460" href="BitML.Semantics.InferenceRules.html#7440" class="Bound">c′</a><a id="7462" class="Symbol">)</a> <a id="7464" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="7466" class="Symbol">(</a><a id="7467" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="7471" href="BitML.Semantics.InferenceRules.html#7435" class="Bound">c</a> <a id="7473" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="7475" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="7479" href="BitML.Semantics.InferenceRules.html#7440" class="Bound">c′</a><a id="7481" class="Symbol">)</a>

<a id="7484" class="Keyword">infix</a> <a id="7490" class="Number">-1</a> <a id="7493" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">_—[_]→ₜ_</a>
<a id="7502" class="Keyword">data</a> <a id="_—[_]→ₜ_"></a><a id="7507" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">_—[_]→ₜ_</a> <a id="7516" class="Symbol">:</a> <a id="7518" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="7523" class="Symbol">→</a> <a id="7525" href="BitML.Semantics.Label.html#459" class="Datatype">Label</a> <a id="7531" class="Symbol">→</a> <a id="7533" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="7538" class="Symbol">→</a> <a id="7540" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="7545" class="Keyword">where</a>

  <a id="7554" class="Comment">-- iv) Rules for handling time</a>
  <a id="_—[_]→ₜ_.[Action]"></a><a id="7587" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="7596" class="Symbol">:</a>

    <a id="7603" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="7605" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="7607" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="7610" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="7612" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="7615" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a>
    <a id="7622" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7624" href="BitML.Semantics.Label.html#1686" class="Function">cv</a> <a id="7627" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="7629" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7631" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
      <a id="7645" href="Prelude.InferenceRules.html#14057" class="Function Operator">───────────────────────</a>
      <a id="7675" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="7677" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="7680" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="7682" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="7685" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="7687" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="7691" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a> <a id="7694" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="7697" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>


  <a id="_—[_]→ₜ_.[Delay]"></a><a id="7703" href="BitML.Semantics.InferenceRules.html#7703" class="InductiveConstructor">[Delay]</a> <a id="7711" class="Symbol">:</a>

    <a id="7718" href="BitML.BasicTypes.html#580" class="Generalizable">δ</a> <a id="7720" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="7722" class="Number">0</a>
    <a id="7728" href="Prelude.InferenceRules.html#13560" class="Function Operator">─────────────────────────────────────</a>
    <a id="7770" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="7772" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="7775" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="7777" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="7780" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">delay⦅</a> <a id="7787" href="BitML.BasicTypes.html#580" class="Generalizable">δ</a> <a id="7789" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">⦆</a> <a id="7791" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="7795" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="7797" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="7800" class="Symbol">(</a><a id="7801" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="7803" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="7805" href="BitML.BasicTypes.html#580" class="Generalizable">δ</a><a id="7806" class="Symbol">)</a>


  <a id="_—[_]→ₜ_.[Timeout]"></a><a id="7812" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="7822" class="Symbol">:</a>
    <a id="7828" class="Symbol">∀</a> <a id="7830" class="Symbol">{</a><a id="7831" href="BitML.Semantics.InferenceRules.html#7831" class="Bound">i</a> <a id="7833" class="Symbol">:</a> <a id="7835" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="7841" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="7842" class="Symbol">}</a> <a id="7844" class="Symbol">→</a> <a id="7846" class="Keyword">let</a> <a id="7850" class="Keyword">open</a> <a id="7855" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="7863" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="7865" href="BitML.Semantics.InferenceRules.html#7831" class="Bound">i</a><a id="7866" class="Symbol">;</a> <a id="7868" href="BitML.Semantics.InferenceRules.html#7868" class="Bound">As</a> <a id="7871" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7873" href="BitML.Semantics.InferenceRules.html#7873" class="Bound">ts</a> <a id="7876" class="Symbol">=</a> <a id="7878" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="7890" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="7892" class="Keyword">in</a>

    <a id="7900" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="7902" href="Prelude.Null.html#263" class="Field">Null</a> <a id="7907" href="BitML.Semantics.InferenceRules.html#7868" class="Bound">As</a>                           <a id="7936" class="Comment">-- no authorizations required to pick branch</a>
    <a id="7985" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7987" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="7991" class="Symbol">(</a><a id="7992" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="7995" href="BitML.BasicTypes.html#578" class="Generalizable">t</a><a id="7996" class="Symbol">)</a> <a id="7998" href="BitML.Semantics.InferenceRules.html#7873" class="Bound">ts</a>                     <a id="8021" class="Comment">-- all time constraints are satisfied</a>
    <a id="8063" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8065" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="8067" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8069" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="8072" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="8074" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="8076" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="8078" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="8082" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="8084" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="8086" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="8088" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="8091" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="8093" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="8096" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a> <a id="8099" class="Comment">-- resulting state if we pick branch</a>
    <a id="8140" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8142" href="BitML.Semantics.Label.html#1686" class="Function">cv</a> <a id="8145" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="8147" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8149" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="8154" href="BitML.BasicTypes.html#527" class="Generalizable">x</a>
      <a id="8162" href="Prelude.InferenceRules.html#10977" class="Function Operator">──────────────────────────────────────────────────────────────────────────────</a>
      <a id="8247" class="Symbol">(</a><a id="8248" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="8250" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="8252" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="8254" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="8256" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="8260" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="8262" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="8264" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="8265" class="Symbol">)</a> <a id="8267" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8270" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="8272" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="8275" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a> <a id="8277" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="8281" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a> <a id="8284" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8287" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>


<a id="_—[_]↛_"></a><a id="8291" href="BitML.Semantics.InferenceRules.html#8291" class="Function Operator">_—[_]↛_</a> <a id="8299" class="Symbol">:</a> <a id="8301" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="8305" class="Symbol">→</a> <a id="8307" href="BitML.Semantics.Label.html#459" class="Datatype">Label</a> <a id="8313" class="Symbol">→</a> <a id="8315" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="8319" class="Symbol">→</a> <a id="8321" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="8326" href="BitML.Semantics.InferenceRules.html#8326" class="Bound">Γ</a> <a id="8328" href="BitML.Semantics.InferenceRules.html#8291" class="Function Operator">—[</a> <a id="8331" href="BitML.Semantics.InferenceRules.html#8331" class="Bound">α</a> <a id="8333" href="BitML.Semantics.InferenceRules.html#8291" class="Function Operator">]↛</a> <a id="8336" href="BitML.Semantics.InferenceRules.html#8336" class="Bound">Γ′</a> <a id="8339" class="Symbol">=</a> <a id="8341" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="8343" class="Symbol">(</a><a id="8344" href="BitML.Semantics.InferenceRules.html#8326" class="Bound">Γ</a> <a id="8346" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="8349" href="BitML.Semantics.InferenceRules.html#8331" class="Bound">α</a> <a id="8351" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="8354" href="BitML.Semantics.InferenceRules.html#8336" class="Bound">Γ′</a><a id="8356" class="Symbol">)</a>

<a id="_—[_]↛ₜ_"></a><a id="8359" href="BitML.Semantics.InferenceRules.html#8359" class="Function Operator">_—[_]↛ₜ_</a> <a id="8368" class="Symbol">:</a> <a id="8370" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="8375" class="Symbol">→</a> <a id="8377" href="BitML.Semantics.Label.html#459" class="Datatype">Label</a> <a id="8383" class="Symbol">→</a> <a id="8385" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="8390" class="Symbol">→</a> <a id="8392" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="8397" href="BitML.Semantics.InferenceRules.html#8397" class="Bound">Γₜ</a> <a id="8400" href="BitML.Semantics.InferenceRules.html#8359" class="Function Operator">—[</a> <a id="8403" href="BitML.Semantics.InferenceRules.html#8403" class="Bound">α</a> <a id="8405" href="BitML.Semantics.InferenceRules.html#8359" class="Function Operator">]↛ₜ</a> <a id="8409" href="BitML.Semantics.InferenceRules.html#8409" class="Bound">Γₜ′</a> <a id="8413" class="Symbol">=</a> <a id="8415" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="8417" class="Symbol">(</a><a id="8418" href="BitML.Semantics.InferenceRules.html#8397" class="Bound">Γₜ</a> <a id="8421" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="8424" href="BitML.Semantics.InferenceRules.html#8403" class="Bound">α</a> <a id="8426" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="8430" href="BitML.Semantics.InferenceRules.html#8409" class="Bound">Γₜ′</a><a id="8433" class="Symbol">)</a>

<a id="8436" class="Comment">-----------------------------------------------------------------------------------</a>
<a id="8520" class="Comment">-- Derive the reflexive transitive closure for of _—→_ and _—→ₜ_.</a>

<a id="8587" class="Keyword">open</a> <a id="8592" class="Keyword">import</a> <a id="8599" href="Prelude.Closures.html" class="Module">Prelude.Closures</a>
<a id="8616" class="Keyword">open</a> <a id="8621" href="Prelude.Closures.html#5166" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="8660" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">_—[_]→_</a> <a id="8668" class="Keyword">public</a>
<a id="8675" class="Keyword">open</a> <a id="8680" href="Prelude.Closures.html#5166" class="Module">UpToLabelledReflexiveTransitiveClosure</a> <a id="8719" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">_—[_]→ₜ_</a> <a id="8728" class="Keyword">public</a>
  <a id="8737" class="Keyword">renaming</a> <a id="8746" class="Symbol">(</a> <a id="8748" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a> <a id="8755" class="Symbol">to</a> <a id="8758" class="InductiveConstructor Operator">beginₜ_</a><a id="8765" class="Symbol">;</a> <a id="8767" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a> <a id="8770" class="Symbol">to</a> <a id="8773" class="InductiveConstructor Operator">_∎ₜ</a>
           <a id="8788" class="Symbol">;</a> <a id="8790" href="Prelude.Closures.html#5689" class="InductiveConstructor Operator">_—→⟨_⟩_⊢_</a> <a id="8800" class="Symbol">to</a> <a id="8803" class="InductiveConstructor Operator">_—→ₜ⟨_⟩_⊢_</a><a id="8813" class="Symbol">;</a> <a id="8815" href="Prelude.Closures.html#6788" class="Function Operator">_—→⟨_⟩_</a> <a id="8823" class="Symbol">to</a> <a id="8826" class="Function Operator">_—→ₜ⟨_⟩_</a><a id="8834" class="Symbol">;</a> <a id="8836" href="Prelude.Closures.html#7340" class="Function Operator">_`—→⟨_⟩_⊢_</a> <a id="8847" class="Symbol">to</a> <a id="8850" class="Function Operator">_`—→ₜ⟨_⟩_⊢_</a>
           <a id="8873" class="Symbol">;</a> <a id="8875" href="Prelude.Closures.html#1483" class="Function Operator">_—→_</a> <a id="8880" class="Symbol">to</a> <a id="8883" class="Function Operator">_—→ₜ_</a>
           <a id="8900" class="Symbol">;</a> <a id="8902" href="Prelude.Closures.html#5618" class="Datatype Operator">_—[_]↠_</a> <a id="8910" class="Symbol">to</a> <a id="8913" class="Datatype Operator">_—[_]↠ₜ_</a><a id="8921" class="Symbol">;</a> <a id="8923" href="Prelude.Closures.html#6035" class="Function Operator">_—↠_</a> <a id="8928" class="Symbol">to</a> <a id="8931" class="Function Operator">_—↠ₜ_</a>
           <a id="8948" class="Symbol">;</a> <a id="8950" href="Prelude.Closures.html#5842" class="Datatype Operator">_—[_]↠⁺_</a> <a id="8959" class="Symbol">to</a> <a id="8962" class="Datatype Operator">_—[_]↠⁺ₜ_</a><a id="8971" class="Symbol">;</a> <a id="8973" href="Prelude.Closures.html#6061" class="Function Operator">_—↠⁺_</a> <a id="8979" class="Symbol">to</a> <a id="8982" class="Function Operator">_—↠⁺ₜ_</a>
           <a id="9000" class="Symbol">;</a> <a id="9002" href="Prelude.Closures.html#6265" class="InductiveConstructor Operator">_⟨_⟩←—_⊢_</a> <a id="9012" class="Symbol">to</a> <a id="9015" class="InductiveConstructor Operator">_⟨_⟩←—ₜ_⊢_</a><a id="9025" class="Symbol">;</a> <a id="9027" href="Prelude.Closures.html#7042" class="Function Operator">_⟨_⟩←—_</a> <a id="9035" class="Symbol">to</a> <a id="9038" class="Function Operator">_⟨_⟩←—ₜ_</a><a id="9046" class="Symbol">;</a> <a id="9048" href="Prelude.Closures.html#7776" class="Function Operator">_`⟨_⟩←—_⊢_</a> <a id="9059" class="Symbol">to</a> <a id="9062" class="Function Operator">_`⟨_⟩←—ₜ_⊢_</a>
           <a id="9085" class="Symbol">;</a> <a id="9087" href="Prelude.Closures.html#2309" class="Function Operator">_←[_]—_</a> <a id="9095" class="Symbol">to</a> <a id="9098" class="Function Operator">_←[_]—ₜ_</a><a id="9106" class="Symbol">;</a> <a id="9108" href="Prelude.Closures.html#2708" class="Function Operator">_←—_</a> <a id="9113" class="Symbol">to</a> <a id="9116" class="Function Operator">_←—ₜ_</a>
           <a id="9133" class="Symbol">;</a> <a id="9135" href="Prelude.Closures.html#6194" class="Datatype Operator">_↞[_]—_</a> <a id="9143" class="Symbol">to</a> <a id="9146" class="Datatype Operator">_↞[_]—ₜ_</a><a id="9154" class="Symbol">;</a> <a id="9156" href="Prelude.Closures.html#6635" class="Function Operator">_↞—_</a> <a id="9161" class="Symbol">to</a> <a id="9164" class="Function Operator">_↞—ₜ_</a>
           <a id="9181" class="Symbol">;</a> <a id="9183" href="Prelude.Closures.html#6430" class="Datatype Operator">_⁺↞[_]—_</a> <a id="9192" class="Symbol">to</a> <a id="9195" class="Datatype Operator">_⁺↞[_]—ₜ_</a><a id="9204" class="Symbol">;</a> <a id="9206" href="Prelude.Closures.html#6661" class="Function Operator">_⁺↞—_</a> <a id="9212" class="Symbol">to</a> <a id="9215" class="Function Operator">_⁺↞—ₜ_</a>
           <a id="9233" class="Symbol">;</a> <a id="9235" href="Prelude.Closures.html#7619" class="Function">viewLeft</a> <a id="9244" class="Symbol">to</a> <a id="9247" class="Function">viewLeftₜ</a><a id="9256" class="Symbol">;</a> <a id="9258" href="Prelude.Closures.html#8051" class="Function">viewRight</a> <a id="9268" class="Symbol">to</a> <a id="9271" class="Function">viewRightₜ</a><a id="9281" class="Symbol">;</a> <a id="9283" href="Prelude.Closures.html#8190" class="Function">view↔</a> <a id="9289" class="Symbol">to</a> <a id="9292" class="Function">view↔ₜ</a>
           <a id="9310" class="Symbol">)</a>
</pre></body></html>