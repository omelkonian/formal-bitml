<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Contracts.Types</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml/tree/master/BitML/Contracts/Types.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- BitML datatypes: Contracts &amp; Ads</a>
<a id="110" class="Comment">------------------------------------------------------------------------</a>
<a id="183" class="Keyword">import</a> <a id="190" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="209" class="Symbol">as</a> <a id="212" class="Module">NE</a>

<a id="216" class="Keyword">open</a> <a id="221" class="Keyword">import</a> <a id="228" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="240" class="Symbol">;</a> <a id="242" class="Keyword">open</a> <a id="247" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>

<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="339" class="Keyword">open</a> <a id="344" class="Keyword">import</a> <a id="351" href="BitML.Predicate.html" class="Module">BitML.Predicate</a>

<a id="368" class="Keyword">module</a> <a id="375" href="BitML.Contracts.Types.html" class="Module">BitML.Contracts.Types</a> <a id="397" href="BitML.Contracts.Types.html#397" class="Bound">⋯</a> <a id="399" class="Symbol">(</a><a id="400" class="Keyword">let</a> <a id="404" class="Keyword">open</a> <a id="409" href="BitML.BasicTypes.html#631" class="Module">⋯</a> <a id="411" href="BitML.Contracts.Types.html#397" class="Bound">⋯</a><a id="412" class="Symbol">)</a> <a id="414" class="Keyword">where</a>

<a id="421" class="Keyword">variable</a> <a id="430" href="BitML.Contracts.Types.html#430" class="Generalizable">A</a> <a id="432" href="BitML.Contracts.Types.html#432" class="Generalizable">B</a> <a id="434" href="BitML.Contracts.Types.html#434" class="Generalizable">A′</a> <a id="437" href="BitML.Contracts.Types.html#437" class="Generalizable">B′</a> <a id="440" class="Symbol">:</a> <a id="442" href="BitML.BasicTypes.html#675" class="Field">Participant</a>

<a id="455" class="Comment">------------------------------------------------------------------------</a>
<a id="528" class="Comment">-- Contracts</a>

<a id="542" class="Keyword">data</a> <a id="Branch"></a><a id="547" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a> <a id="554" class="Symbol">:</a> <a id="556" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="Contract"></a><a id="561" href="BitML.Contracts.Types.html#561" class="Function">Contract</a>    <a id="573" class="Symbol">=</a> <a id="575" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="580" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a>
<a id="Contracts"></a><a id="587" href="BitML.Contracts.Types.html#587" class="Function">Contracts</a>   <a id="599" class="Symbol">=</a> <a id="601" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="606" href="BitML.Contracts.Types.html#561" class="Function">Contract</a>
<a id="VContracts"></a><a id="615" href="BitML.Contracts.Types.html#615" class="Function">VContracts</a>  <a id="627" class="Symbol">=</a> <a id="629" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="634" class="Symbol">(</a><a id="635" href="BitML.BasicTypes.html#271" class="Function">Value</a> <a id="641" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="643" href="BitML.Contracts.Types.html#561" class="Function">Contract</a><a id="651" class="Symbol">)</a>
<a id="VIContracts"></a><a id="653" href="BitML.Contracts.Types.html#653" class="Function">VIContracts</a> <a id="665" class="Symbol">=</a> <a id="667" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="672" class="Symbol">(</a><a id="673" href="BitML.BasicTypes.html#271" class="Function">Value</a> <a id="679" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="681" href="BitML.Contracts.Types.html#561" class="Function">Contract</a> <a id="690" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="692" href="BitML.BasicTypes.html#343" class="Function">Id</a><a id="694" class="Symbol">)</a>

<a id="697" class="Keyword">data</a> <a id="702" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a> <a id="709" class="Keyword">where</a>

  <a id="718" class="Comment">-- collect deposits and secrets</a>
  <a id="Branch.put_&amp;reveal_if_⇒_"></a><a id="752" href="BitML.Contracts.Types.html#752" class="InductiveConstructor Operator">put_&amp;reveal_if_⇒_</a> <a id="770" class="Symbol">:</a> <a id="772" href="BitML.BasicTypes.html#356" class="Function">Ids</a> <a id="776" class="Symbol">→</a> <a id="778" href="BitML.BasicTypes.html#320" class="Function">Secrets</a> <a id="786" class="Symbol">→</a> <a id="788" href="BitML.Predicate.html#501" class="Datatype">Predicate</a> <a id="798" class="Symbol">→</a> <a id="800" href="BitML.Contracts.Types.html#561" class="Function">Contract</a> <a id="809" class="Symbol">→</a> <a id="811" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a>

  <a id="821" class="Comment">-- transfer the balance to a participant</a>
  <a id="Branch.withdraw"></a><a id="864" href="BitML.Contracts.Types.html#864" class="InductiveConstructor">withdraw</a> <a id="873" class="Symbol">:</a> <a id="875" href="BitML.BasicTypes.html#675" class="Field">Participant</a> <a id="887" class="Symbol">→</a> <a id="889" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a>

  <a id="899" class="Comment">-- split the balance</a>
  <a id="922" class="Comment">-- T0D0: phrase as percentages to mitigate the need for `Validity.splitsOK`</a>
  <a id="Branch.split"></a><a id="1000" href="BitML.Contracts.Types.html#1000" class="InductiveConstructor">split</a> <a id="1006" class="Symbol">:</a> <a id="1008" href="BitML.Contracts.Types.html#615" class="Function">VContracts</a> <a id="1019" class="Symbol">→</a> <a id="1021" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a>

  <a id="1031" class="Comment">-- wait for participant&#39;s authorization</a>
  <a id="Branch._⇒_"></a><a id="1073" href="BitML.Contracts.Types.html#1073" class="InductiveConstructor Operator">_⇒_</a> <a id="1077" class="Symbol">:</a> <a id="1079" href="BitML.BasicTypes.html#675" class="Field">Participant</a> <a id="1091" class="Symbol">→</a> <a id="1093" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a> <a id="1100" class="Symbol">→</a> <a id="1102" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a>

  <a id="1112" class="Comment">-- wait of a period of time</a>
  <a id="Branch.after_⇒_"></a><a id="1142" href="BitML.Contracts.Types.html#1142" class="InductiveConstructor Operator">after_⇒_</a> <a id="1151" class="Symbol">:</a> <a id="1153" href="BitML.BasicTypes.html#413" class="Function">Time</a> <a id="1158" class="Symbol">→</a> <a id="1160" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a> <a id="1167" class="Symbol">→</a> <a id="1169" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a>

<a id="1177" class="Symbol">{-#</a> <a id="1181" class="Keyword">TERMINATING</a> <a id="1193" class="Symbol">#-}</a>
<a id="1197" class="Keyword">unquoteDecl</a> <a id="DecEq-Branch"></a><a id="1209" href="BitML.Contracts.Types.html#1209" class="Function">DecEq-Branch</a> <a id="1222" class="Symbol">=</a> <a id="1224" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="1231" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="1237" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="1239" class="Keyword">quote</a> <a id="1245" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a> <a id="1252" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1254" href="BitML.Contracts.Types.html#1209" class="Function">DecEq-Branch</a> <a id="1267" href="Data.List.Base.html#5034" class="Function Operator">]</a>

<a id="1270" class="Keyword">variable</a>
  <a id="1281" href="BitML.Contracts.Types.html#1281" class="Generalizable">d</a> <a id="1283" href="BitML.Contracts.Types.html#1283" class="Generalizable">d′</a> <a id="1286" href="BitML.Contracts.Types.html#1286" class="Generalizable">d″</a> <a id="1289" class="Symbol">:</a> <a id="1291" href="BitML.Contracts.Types.html#547" class="Datatype">Branch</a>
  <a id="1300" href="BitML.Contracts.Types.html#1300" class="Generalizable">ds</a> <a id="1303" href="BitML.Contracts.Types.html#1303" class="Generalizable">ds′</a> <a id="1307" href="BitML.Contracts.Types.html#1307" class="Generalizable">ds″</a> <a id="1311" href="BitML.Contracts.Types.html#1311" class="Generalizable">c</a> <a id="1313" href="BitML.Contracts.Types.html#1313" class="Generalizable">c′</a> <a id="1316" href="BitML.Contracts.Types.html#1316" class="Generalizable">c″</a> <a id="1319" class="Symbol">:</a> <a id="1321" href="BitML.Contracts.Types.html#561" class="Function">Contract</a>
  <a id="1332" href="BitML.Contracts.Types.html#1332" class="Generalizable">cs</a> <a id="1335" href="BitML.Contracts.Types.html#1335" class="Generalizable">cs′</a> <a id="1339" href="BitML.Contracts.Types.html#1339" class="Generalizable">cs″</a> <a id="1343" class="Symbol">:</a> <a id="1345" href="BitML.Contracts.Types.html#587" class="Function">Contracts</a>
  <a id="1357" href="BitML.Contracts.Types.html#1357" class="Generalizable">vcs</a> <a id="1361" href="BitML.Contracts.Types.html#1361" class="Generalizable">vcs′</a> <a id="1366" href="BitML.Contracts.Types.html#1366" class="Generalizable">vcs″</a> <a id="1371" class="Symbol">:</a> <a id="1373" href="BitML.Contracts.Types.html#615" class="Function">VContracts</a>

<a id="_⊕_"></a><a id="1385" href="BitML.Contracts.Types.html#1385" class="Function Operator">_⊕_</a> <a id="1389" class="Symbol">=</a> <a id="1391" class="Symbol">(∀</a> <a id="1394" class="Symbol">{</a><a id="1395" href="BitML.Contracts.Types.html#1395" class="Bound">A</a> <a id="1397" class="Symbol">:</a> <a id="1399" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="1403" class="Symbol">}</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="BitML.Contracts.Types.html#1395" class="Bound">A</a> <a id="1409" class="Symbol">→</a> <a id="1411" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1416" href="BitML.Contracts.Types.html#1395" class="Bound">A</a> <a id="1418" class="Symbol">→</a> <a id="1420" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1425" href="BitML.Contracts.Types.html#1395" class="Bound">A</a><a id="1426" class="Symbol">)</a> <a id="1428" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1430" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">_∷_</a>
<a id="_∙"></a><a id="1434" href="BitML.Contracts.Types.html#1434" class="Function Operator">_∙</a>  <a id="1438" class="Symbol">=</a> <a id="1440" class="Symbol">(∀</a> <a id="1443" class="Symbol">{</a><a id="1444" href="BitML.Contracts.Types.html#1444" class="Bound">A</a> <a id="1446" class="Symbol">:</a> <a id="1448" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="1452" class="Symbol">}</a> <a id="1454" class="Symbol">→</a> <a id="1456" href="BitML.Contracts.Types.html#1444" class="Bound">A</a> <a id="1458" class="Symbol">→</a> <a id="1460" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1465" href="BitML.Contracts.Types.html#1444" class="Bound">A</a><a id="1466" class="Symbol">)</a>          <a id="1477" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1479" href="Data.List.Base.html#5034" class="Function Operator">[_]</a>
<a id="_⊸_"></a><a id="1483" href="BitML.Contracts.Types.html#1483" class="Function Operator">_⊸_</a> <a id="1487" class="Symbol">=</a> <a id="1489" class="Symbol">(∀</a> <a id="1492" class="Symbol">{</a><a id="1493" href="BitML.Contracts.Types.html#1493" class="Bound">A</a> <a id="1495" href="BitML.Contracts.Types.html#1495" class="Bound">B</a> <a id="1497" class="Symbol">:</a> <a id="1499" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="1503" class="Symbol">}</a> <a id="1505" class="Symbol">→</a> <a id="1507" href="BitML.Contracts.Types.html#1493" class="Bound">A</a> <a id="1509" class="Symbol">→</a> <a id="1511" href="BitML.Contracts.Types.html#1495" class="Bound">B</a> <a id="1513" class="Symbol">→</a> <a id="1515" href="BitML.Contracts.Types.html#1493" class="Bound">A</a> <a id="1517" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1519" href="BitML.Contracts.Types.html#1495" class="Bound">B</a><a id="1520" class="Symbol">)</a>     <a id="1526" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1528" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a>

<a id="1533" class="Keyword">pattern</a> <a id="put_&amp;reveal_⇒_"></a><a id="1541" href="BitML.Contracts.Types.html#1541" class="InductiveConstructor Operator">put_&amp;reveal_⇒_</a> <a id="1556" href="BitML.Contracts.Types.html#1570" class="Bound">xs</a> <a id="1559" href="BitML.Contracts.Types.html#1581" class="Bound">as</a> <a id="1562" href="BitML.Contracts.Types.html#1595" class="Bound">c</a> <a id="1564" class="Symbol">=</a> <a id="1566" href="BitML.Contracts.Types.html#752" class="InductiveConstructor Operator">put</a> <a id="1570" href="BitML.Contracts.Types.html#1570" class="Bound">xs</a> <a id="1573" href="BitML.Contracts.Types.html#752" class="InductiveConstructor Operator">&amp;reveal</a> <a id="1581" href="BitML.Contracts.Types.html#1581" class="Bound">as</a> <a id="1584" href="BitML.Contracts.Types.html#752" class="InductiveConstructor Operator">if</a> <a id="1587" href="BitML.Predicate.html#526" class="InductiveConstructor">`true</a> <a id="1593" href="BitML.Contracts.Types.html#752" class="InductiveConstructor Operator">⇒</a> <a id="1595" href="BitML.Contracts.Types.html#1595" class="Bound">c</a>
<a id="1597" class="Keyword">pattern</a> <a id="put_⇒_"></a><a id="1605" href="BitML.Contracts.Types.html#1605" class="InductiveConstructor Operator">put_⇒_</a> <a id="1612" href="BitML.Contracts.Types.html#1634" class="Bound">xs</a> <a id="1615" href="BitML.Contracts.Types.html#1650" class="Bound">c</a>            <a id="1628" class="Symbol">=</a> <a id="1630" href="BitML.Contracts.Types.html#1541" class="InductiveConstructor Operator">put</a> <a id="1634" href="BitML.Contracts.Types.html#1634" class="Bound">xs</a> <a id="1637" href="BitML.Contracts.Types.html#1541" class="InductiveConstructor Operator">&amp;reveal</a> <a id="1645" class="InductiveConstructor">[]</a> <a id="1648" href="BitML.Contracts.Types.html#1541" class="InductiveConstructor Operator">⇒</a> <a id="1650" href="BitML.Contracts.Types.html#1650" class="Bound">c</a>
<a id="1652" class="Keyword">pattern</a> <a id="reveal_⇒_"></a><a id="1660" href="BitML.Contracts.Types.html#1660" class="InductiveConstructor Operator">reveal_⇒_</a> <a id="1670" href="BitML.Contracts.Types.html#1700" class="Bound">as</a> <a id="1673" href="BitML.Contracts.Types.html#1705" class="Bound">c</a>         <a id="1683" class="Symbol">=</a> <a id="1685" href="BitML.Contracts.Types.html#1541" class="InductiveConstructor Operator">put</a> <a id="1689" class="InductiveConstructor">[]</a> <a id="1692" href="BitML.Contracts.Types.html#1541" class="InductiveConstructor Operator">&amp;reveal</a> <a id="1700" href="BitML.Contracts.Types.html#1700" class="Bound">as</a> <a id="1703" href="BitML.Contracts.Types.html#1541" class="InductiveConstructor Operator">⇒</a> <a id="1705" href="BitML.Contracts.Types.html#1705" class="Bound">c</a>

<a id="1708" class="Comment">-------------------------------------------------------------------</a>
<a id="1776" class="Comment">-- Contract preconditions.</a>

<a id="1804" class="Keyword">data</a> <a id="Precondition"></a><a id="1809" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a> <a id="1822" class="Symbol">:</a> <a id="1824" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1829" class="Keyword">where</a>

  <a id="1838" class="Comment">-- volatile deposit</a>
  <a id="Precondition._:?_at_"></a><a id="1860" href="BitML.Contracts.Types.html#1860" class="InductiveConstructor Operator">_:?_at_</a> <a id="1868" class="Symbol">:</a> <a id="1870" href="BitML.BasicTypes.html#675" class="Field">Participant</a> <a id="1882" class="Symbol">→</a> <a id="1884" href="BitML.BasicTypes.html#271" class="Function">Value</a> <a id="1890" class="Symbol">→</a> <a id="1892" href="BitML.BasicTypes.html#343" class="Function">Id</a> <a id="1895" class="Symbol">→</a> <a id="1897" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a>

  <a id="1913" class="Comment">-- persistent deposit</a>
  <a id="Precondition._:!_at_"></a><a id="1937" href="BitML.Contracts.Types.html#1937" class="InductiveConstructor Operator">_:!_at_</a> <a id="1945" class="Symbol">:</a> <a id="1947" href="BitML.BasicTypes.html#675" class="Field">Participant</a> <a id="1959" class="Symbol">→</a> <a id="1961" href="BitML.BasicTypes.html#271" class="Function">Value</a> <a id="1967" class="Symbol">→</a> <a id="1969" href="BitML.BasicTypes.html#343" class="Function">Id</a> <a id="1972" class="Symbol">→</a> <a id="1974" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a>

  <a id="1990" class="Comment">-- committed secret (random nonce) by &lt;Participant&gt;</a>
  <a id="Precondition._:secret_"></a><a id="2044" href="BitML.Contracts.Types.html#2044" class="InductiveConstructor Operator">_:secret_</a> <a id="2054" class="Symbol">:</a> <a id="2056" href="BitML.BasicTypes.html#675" class="Field">Participant</a> <a id="2068" class="Symbol">→</a> <a id="2070" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="2077" class="Symbol">→</a> <a id="2079" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a>

  <a id="2095" class="Comment">-- composition</a>
  <a id="Precondition._∣∣_"></a><a id="2112" href="BitML.Contracts.Types.html#2112" class="InductiveConstructor Operator">_∣∣_</a> <a id="2117" class="Symbol">:</a> <a id="2119" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a> <a id="2132" class="Symbol">→</a> <a id="2134" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a> <a id="2147" class="Symbol">→</a> <a id="2149" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a>

<a id="2163" class="Keyword">unquoteDecl</a> <a id="DecEq-Precondition"></a><a id="2175" href="BitML.Contracts.Types.html#2175" class="Function">DecEq-Precondition</a> <a id="2194" class="Symbol">=</a>
  <a id="2198" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="2205" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="2211" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="2213" class="Keyword">quote</a> <a id="2219" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a> <a id="2232" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2234" href="BitML.Contracts.Types.html#2175" class="Function">DecEq-Precondition</a> <a id="2253" href="Data.List.Base.html#5034" class="Function Operator">]</a>

<a id="2256" class="Keyword">variable</a> <a id="2265" href="BitML.Contracts.Types.html#2265" class="Generalizable">g</a> <a id="2267" href="BitML.Contracts.Types.html#2267" class="Generalizable">g′</a> <a id="2270" href="BitML.Contracts.Types.html#2270" class="Generalizable">g″</a> <a id="2273" class="Symbol">:</a> <a id="2275" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a>

<a id="2289" class="Comment">------------------------------------------------------------------------</a>
<a id="2362" class="Comment">-- Advertisements.</a>

<a id="2382" class="Keyword">record</a> <a id="Ad"></a><a id="2389" href="BitML.Contracts.Types.html#2389" class="Record">Ad</a> <a id="2392" class="Symbol">:</a> <a id="2394" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2399" class="Keyword">where</a>
  <a id="2407" class="Keyword">constructor</a> <a id="⟨_⟩_"></a><a id="2419" href="BitML.Contracts.Types.html#2419" class="InductiveConstructor Operator">⟨_⟩_</a>
  <a id="2426" class="Keyword">field</a>
    <a id="Ad.G"></a><a id="2436" href="BitML.Contracts.Types.html#2436" class="Field">G</a> <a id="2438" class="Symbol">:</a> <a id="2440" href="BitML.Contracts.Types.html#1809" class="Datatype">Precondition</a>
    <a id="Ad.C"></a><a id="2457" href="BitML.Contracts.Types.html#2457" class="Field">C</a> <a id="2459" class="Symbol">:</a> <a id="2461" href="BitML.Contracts.Types.html#561" class="Function">Contract</a>
<a id="2470" class="Keyword">open</a> <a id="2475" href="BitML.Contracts.Types.html#2389" class="Module">Ad</a> <a id="2478" class="Keyword">public</a>
<a id="2485" class="Keyword">unquoteDecl</a> <a id="DecEq-Ad"></a><a id="2497" href="BitML.Contracts.Types.html#2497" class="Function">DecEq-Ad</a> <a id="2506" class="Symbol">=</a>
  <a id="2510" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="2517" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="2523" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="2525" class="Keyword">quote</a> <a id="2531" href="BitML.Contracts.Types.html#2389" class="Record">Ad</a> <a id="2534" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2536" href="BitML.Contracts.Types.html#2497" class="Function">DecEq-Ad</a> <a id="2545" href="Data.List.Base.html#5034" class="Function Operator">]</a>

<a id="2548" class="Keyword">variable</a> <a id="2557" href="BitML.Contracts.Types.html#2557" class="Generalizable">ad</a> <a id="2560" href="BitML.Contracts.Types.html#2560" class="Generalizable">ad′</a> <a id="2564" href="BitML.Contracts.Types.html#2564" class="Generalizable">ad″</a> <a id="2568" class="Symbol">:</a> <a id="2570" href="BitML.Contracts.Types.html#2389" class="Record">Ad</a>

<a id="2574" class="Keyword">infix</a>  <a id="2581" class="Number">2</a> <a id="2583" href="BitML.Contracts.Types.html#2419" class="InductiveConstructor Operator">⟨_⟩_</a>
<a id="2588" class="Keyword">infix</a>  <a id="2595" class="Number">5</a> <a id="2597" href="BitML.Contracts.Types.html#1860" class="InductiveConstructor Operator">_:?_at_</a> <a id="2605" href="BitML.Contracts.Types.html#1937" class="InductiveConstructor Operator">_:!_at_</a> <a id="2613" href="BitML.Contracts.Types.html#2044" class="InductiveConstructor Operator">_:secret_</a>
<a id="2623" class="Keyword">infixl</a> <a id="2630" class="Number">2</a> <a id="2632" href="BitML.Contracts.Types.html#2112" class="InductiveConstructor Operator">_∣∣_</a>

<a id="2638" class="Keyword">infixr</a> <a id="2645" class="Number">9</a> <a id="2647" href="BitML.Contracts.Types.html#1073" class="InductiveConstructor Operator">_⇒_</a>
<a id="2651" class="Keyword">infix</a>  <a id="2658" class="Number">8</a> <a id="2660" href="BitML.Contracts.Types.html#752" class="InductiveConstructor Operator">put_&amp;reveal_if_⇒_</a> <a id="2678" href="BitML.Contracts.Types.html#1541" class="InductiveConstructor Operator">put_&amp;reveal_⇒_</a> <a id="2693" href="BitML.Contracts.Types.html#1605" class="InductiveConstructor Operator">put_⇒_</a> <a id="2700" href="BitML.Contracts.Types.html#1660" class="InductiveConstructor Operator">reveal_⇒_</a>
<a id="2710" class="Keyword">infix</a>  <a id="2717" class="Number">7</a> <a id="2719" href="BitML.Contracts.Types.html#1483" class="Function Operator">_⊸_</a>
<a id="2723" class="Keyword">infix</a>  <a id="2730" class="Number">6</a> <a id="2732" href="BitML.Contracts.Types.html#1434" class="Function Operator">_∙</a>
<a id="2735" class="Keyword">infixr</a> <a id="2742" class="Number">5</a> <a id="2744" href="BitML.Contracts.Types.html#1385" class="Function Operator">_⊕_</a>

<a id="2749" class="Keyword">data</a> <a id="DepositType"></a><a id="2754" href="BitML.Contracts.Types.html#2754" class="Datatype">DepositType</a> <a id="2766" class="Symbol">:</a> <a id="2768" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2773" class="Keyword">where</a>
  <a id="DepositType.volatile"></a><a id="2781" href="BitML.Contracts.Types.html#2781" class="InductiveConstructor">volatile</a> <a id="DepositType.persistent"></a><a id="2790" href="BitML.Contracts.Types.html#2790" class="InductiveConstructor">persistent</a> <a id="2801" class="Symbol">:</a> <a id="2803" href="BitML.Contracts.Types.html#2754" class="Datatype">DepositType</a>

<a id="DepositRef"></a><a id="2816" href="BitML.Contracts.Types.html#2816" class="Function">DepositRef</a>   <a id="2829" class="Symbol">=</a> <a id="2831" href="BitML.BasicTypes.html#675" class="Field">Participant</a> <a id="2843" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="2845" href="BitML.BasicTypes.html#271" class="Function">Value</a> <a id="2851" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="2853" href="BitML.BasicTypes.html#343" class="Function">Id</a>
<a id="DepositRefs"></a><a id="2856" href="BitML.Contracts.Types.html#2856" class="Function">DepositRefs</a>  <a id="2869" class="Symbol">=</a> <a id="2871" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2876" href="BitML.Contracts.Types.html#2816" class="Function">DepositRef</a>
<a id="TDepositRef"></a><a id="2887" href="BitML.Contracts.Types.html#2887" class="Function">TDepositRef</a>  <a id="2900" class="Symbol">=</a> <a id="2902" href="BitML.Contracts.Types.html#2754" class="Datatype">DepositType</a> <a id="2914" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="2916" href="BitML.Contracts.Types.html#2816" class="Function">DepositRef</a>
<a id="TDepositRefs"></a><a id="2927" href="BitML.Contracts.Types.html#2927" class="Function">TDepositRefs</a> <a id="2940" class="Symbol">=</a> <a id="2942" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2947" href="BitML.Contracts.Types.html#2887" class="Function">TDepositRef</a>
</pre></body></html>